{"version":3,"file":"chunk/app.a5f53fb2.js","mappings":"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","sources":["webpack://@snx-v3/liquidity/../../contracts/src/importCoreProxy.ts","webpack://@snx-v3/liquidity/../../contracts/src/importMulticall3.ts","webpack://@snx-v3/liquidity/../components/Amount/Amount.tsx","webpack://@snx-v3/liquidity/../components/ContractError/ContractError.tsx","webpack://@snx-v3/liquidity/../components/DepositModal/DepositMachine.ts","webpack://@snx-v3/liquidity/../components/DepositModal/DepositModal.tsx","webpack://@snx-v3/liquidity/../lib/useDeposit/useDeposit.tsx","webpack://@snx-v3/liquidity/../components/DepositModal/index.ts","webpack://@snx-v3/liquidity/../components/Multistep/StepIcon.tsx","webpack://@snx-v3/liquidity/../components/Multistep/statusColor.ts","webpack://@snx-v3/liquidity/../components/Multistep/Step.tsx","webpack://@snx-v3/liquidity/../components/Multistep/Multistep.tsx","webpack://@snx-v3/liquidity/../components/WithdrawIncrease/WithdrawIncrease.tsx","webpack://@snx-v3/liquidity/../components/icons/Logo/Logo.tsx","webpack://@snx-v3/liquidity/../components/icons/EthereumIcon/EthereumIcon.tsx","webpack://@snx-v3/liquidity/../components/icons/SNXIcon/SNXIcon.tsx","webpack://@snx-v3/liquidity/../components/icons/OptimismIcon/OptimismIcon.tsx","webpack://@snx-v3/liquidity/../components/icons/DollarCircle/DollarCircle.tsx","webpack://@snx-v3/liquidity/../components/icons/BitcoinIcon/BitcoinIcon.tsx","webpack://@snx-v3/liquidity/../components/icons/CollateralIcon/CollateralIcon.tsx","webpack://@snx-v3/liquidity/../components/icons/ChevronDown/ChevronDown.tsx","webpack://@snx-v3/liquidity/../components/icons/ChevronUp/ChevronUp.tsx","webpack://@snx-v3/liquidity/../components/icons/FailedIcon/FailedIcon.tsx","webpack://@snx-v3/liquidity/../components/icons/WalletIcon/WalletIcon.tsx","webpack://@snx-v3/liquidity/../components/icons/LogoIcon/LogoIcon.tsx","webpack://@snx-v3/liquidity/../components/icons/BorrowIcon/BorrowIcon.tsx","webpack://@snx-v3/liquidity/../components/icons/CCIP/CCIP.tsx","webpack://@snx-v3/liquidity/../components/icons/BaseIcon/BaseIcon.tsx","webpack://@snx-v3/liquidity/../lib/ManagePositionContext/ManagePositionContext.tsx","webpack://@snx-v3/liquidity/../lib/constants/constants.ts","webpack://@snx-v3/liquidity/../lib/fetchPythPrices/fetchPythPrices.ts","webpack://@snx-v3/liquidity/../lib/format/format.ts","webpack://@snx-v3/liquidity/../lib/format/currency.ts","webpack://@snx-v3/liquidity/../lib/tsHelpers/notNill.ts","webpack://@snx-v3/liquidity/../lib/txnReducer/txnReducer.ts","webpack://@snx-v3/liquidity/../lib/useOracleManagerProxy/useOracleManagerProxy.ts","webpack://@snx-v3/liquidity/../../contracts/src/importOracleManagerProxy.ts","webpack://@snx-v3/liquidity/../lib/useAllCollateralPriceIds/useAllCollateralPriceIds.ts","webpack://@snx-v3/liquidity/../lib/useAllowance/useAllowance.ts","webpack://@snx-v3/liquidity/../lib/useApprove/useApprove.ts","webpack://@snx-v3/liquidity/../lib/useBlockchain/useBlockchain.tsx","webpack://@snx-v3/liquidity/../lib/useCollateralTypes/useCollateralTypes.ts","webpack://@snx-v3/liquidity/../lib/useContractErrorParser/useContractErrorParser.ts","webpack://@snx-v3/liquidity/../lib/useCoreProxy/useCoreProxy.ts","webpack://@snx-v3/liquidity/../lib/useEthBalance/useEthBalance.ts","webpack://@snx-v3/liquidity/../lib/useGasOptions/useGasOptions.ts","webpack://@snx-v3/liquidity/../lib/feeSuggestion/math.ts","webpack://@snx-v3/liquidity/../lib/feeSuggestion/utils.ts","webpack://@snx-v3/liquidity/../lib/feeSuggestion/feeSuggestion.ts","webpack://@snx-v3/liquidity/../lib/useGasPrice/useGasPrice.ts","webpack://@snx-v3/liquidity/../lib/useGasSpeed/GasSpeedContext.tsx","webpack://@snx-v3/liquidity/../lib/useMulticall3/useMulticall3.ts","webpack://@snx-v3/liquidity/../lib/useParams/useParams.ts","webpack://@snx-v3/liquidity/../lib/usePools/usePools.ts","webpack://@snx-v3/liquidity/../lib/useTokenBalance/useTokenBalance.ts","webpack://@snx-v3/liquidity/../lib/assertAddressType/assertAddressType.ts","webpack://@snx-v3/liquidity/../lib/useUSDProxy/useUSDProxy.ts","webpack://@snx-v3/liquidity/../../contracts/src/importUSDProxy.ts","webpack://@snx-v3/liquidity/../lib/useWrapEth/useWrapEth.ts","webpack://@snx-v3/liquidity/../lib/withERC7412/withMemoryCache.ts","webpack://@snx-v3/liquidity/../lib/withERC7412/withERC7412.ts","webpack://@snx-v3/liquidity/../lib/zod/zod.ts","webpack://@snx-v3/liquidity/../../theme/src/theme.ts","webpack://@snx-v3/liquidity/../../theme/src/fonts.tsx","webpack://@snx-v3/liquidity/../components/TermsModal/TermsModal.tsx","webpack://@snx-v3/liquidity/./src/layouts/Default/Footer.tsx","webpack://@snx-v3/liquidity/./src/layouts/Default/NetworkController.tsx","webpack://@snx-v3/liquidity/../lib/useAccountProxy/useAccountProxy.ts","webpack://@snx-v3/liquidity/../../contracts/src/importAccountProxy.ts","webpack://@snx-v3/liquidity/../lib/useAccounts/useAccounts.ts","webpack://@snx-v3/liquidity/../components/AccountsSelector/AccountsSelector.tsx","webpack://@snx-v3/liquidity/./src/layouts/Default/Header.tsx","webpack://@snx-v3/liquidity/./src/layouts/Default/DefaultLayout.tsx","webpack://@snx-v3/liquidity/../lib/calculations/calculations.ts","webpack://@snx-v3/liquidity/./src/pages/Home/VaultRow.tsx","webpack://@snx-v3/liquidity/../components/BorderBox/BorderBox.tsx","webpack://@snx-v3/liquidity/../lib/useCollateralPrices/useCollateralPrices.ts","webpack://@snx-v3/liquidity/../lib/useAccountCollateral/useAccountCollateral.ts","webpack://@snx-v3/liquidity/../lib/useLiquidityPosition/useLiquidityPosition.ts","webpack://@snx-v3/liquidity/../lib/tsHelpers/keyBy.ts","webpack://@snx-v3/liquidity/../lib/useLiquidityPositions/useLiquidityPositions.ts","webpack://@snx-v3/liquidity/./src/components/Shared/Welcome/Welcome.tsx","webpack://@snx-v3/liquidity/../lib/formatters/number.ts","webpack://@snx-v3/liquidity/./src/pages/Home/Stats.tsx","webpack://@snx-v3/liquidity/../lib/useAccountCollateralUnlockDate/useAccountCollateralUnlockDate.ts","webpack://@snx-v3/liquidity/./src/pages/Home/AvailableCollateralRow.tsx","webpack://@snx-v3/liquidity/./src/pages/Home/AvailableCollateral.tsx","webpack://@snx-v3/liquidity/./src/pages/Home/Home.tsx","webpack://@snx-v3/liquidity/../lib/validatePosition/validatePosition.ts","webpack://@snx-v3/liquidity/../components/NumberInput/NumberInput.tsx","webpack://@snx-v3/liquidity/./src/pages/Manage/Borrow.tsx","webpack://@snx-v3/liquidity/./src/pages/Manage/Repay.tsx","webpack://@snx-v3/liquidity/../lib/usePoolConfiguration/usePoolConfiguration.ts","webpack://@snx-v3/liquidity/./src/pages/Manage/Undelegate.tsx","webpack://@snx-v3/liquidity/../components/PercentBadges/PercentBadges.tsx","webpack://@snx-v3/liquidity/../lib/useTransferableSynthetix/useTransferableSynthetix.ts","webpack://@snx-v3/liquidity/./src/components/CollateralAlert/CollateralAlert.tsx","webpack://@snx-v3/liquidity/./src/pages/Manage/Deposit.tsx","webpack://@snx-v3/liquidity/./src/pages/Manage/ManageActions.tsx","webpack://@snx-v3/liquidity/./src/pages/Manage/ManageStats.tsx","webpack://@snx-v3/liquidity/../components/HomeLink/HomeLink.tsx","webpack://@snx-v3/liquidity/../lib/etherscanLink/etherscanLink.ts","webpack://@snx-v3/liquidity/./src/components/Rewards/RewardsModal.tsx","webpack://@snx-v3/liquidity/../lib/formatters/string.ts","webpack://@snx-v3/liquidity/./src/components/Rewards/RewardsRow.tsx","webpack://@snx-v3/liquidity/../lib/useClaimRewards/useClaimRewards.ts","webpack://@snx-v3/liquidity/../lib/formatters/date.ts","webpack://@snx-v3/liquidity/./src/components/Rewards/RewardsLoading.tsx","webpack://@snx-v3/liquidity/./src/components/Rewards/Rewards.tsx","webpack://@snx-v3/liquidity/../lib/usePoolData/usePoolData.tsx","webpack://@snx-v3/liquidity/../lib/useRewards/useRewards.ts","webpack://@snx-v3/liquidity/../../contracts/src/importRewardDistributor.ts","webpack://@snx-v3/liquidity/./src/pages/Manage/Manage.tsx","webpack://@snx-v3/liquidity/../components/CollateralTypeSelector/CollateralTypeSelector.tsx","webpack://@snx-v3/liquidity/./src/components/Accounts/Deposit/DepositForm.tsx","webpack://@snx-v3/liquidity/../components/TrendText/TrendText.tsx","webpack://@snx-v3/liquidity/../components/PoolBox/PoolBox.tsx","webpack://@snx-v3/liquidity/./src/pages/Deposit/Deposit.tsx","webpack://@snx-v3/liquidity/./src/pages/Pool/PoolHeader.tsx","webpack://@snx-v3/liquidity/../lib/useMarketNamesById/useMarketNamesById.ts","webpack://@snx-v3/liquidity/./src/pages/Pool/MarketSection.tsx","webpack://@snx-v3/liquidity/../lib/useVaultsData/useVaultsData.ts","webpack://@snx-v3/liquidity/./src/pages/Pool/CollateralSection.tsx","webpack://@snx-v3/liquidity/./src/pages/Pool/Pool.tsx","webpack://@snx-v3/liquidity/./src/pages/Playground/Playground.tsx","webpack://@snx-v3/liquidity/../components/Balance/Balance.tsx","webpack://@snx-v3/liquidity/./src/pages/Teleporter/TeleporterMachine.ts","webpack://@snx-v3/liquidity/./src/pages/Teleporter/TeleporterModal.tsx","webpack://@snx-v3/liquidity/../lib/useTeleport/useTeleport.tsx","webpack://@snx-v3/liquidity/./src/pages/Teleporter/Teleporter.tsx","webpack://@snx-v3/liquidity/./src/pages/404.tsx","webpack://@snx-v3/liquidity/./src/Router.tsx","webpack://@snx-v3/liquidity/./src/i18n.ts","webpack://@snx-v3/liquidity/./src/App.tsx","webpack://@snx-v3/liquidity/./src/index.tsx","webpack://@snx-v3/liquidity/../../tools/safe-import/index.js","webpack://@snx-v3/liquidity/../../tools/safe-import/safeLazy.js"],"sourcesContent":["// !!! DO NOT EDIT !!! Automatically generated file\n\nimport type { CoreProxy as CoreProxy1Main } from './1/CoreProxy';\nimport type { CoreProxy as CoreProxy5Main } from './5/CoreProxy';\nimport type { CoreProxy as CoreProxy10Main } from './10/CoreProxy';\nimport type { CoreProxy as CoreProxy420Main } from './420/CoreProxy';\nimport type { CoreProxy as CoreProxy11155111Main } from './11155111/CoreProxy';\nimport type { CoreProxy as CoreProxy84531Main } from './84531/CoreProxy';\nimport type { CoreProxy as CoreProxy84531Competition } from './84531-competition/CoreProxy';\n\nexport type CoreProxyType =\n  | CoreProxy1Main\n  | CoreProxy5Main\n  | CoreProxy10Main\n  | CoreProxy420Main\n  | CoreProxy11155111Main\n  | CoreProxy84531Main\n  | CoreProxy84531Competition;\n\nexport async function importCoreProxy(chainId: number, preset: string = 'main') {\n  switch (`${chainId}-${preset}`) {\n    case '1-main':\n      return import('./1/CoreProxy');\n    case '5-main':\n      return import('./5/CoreProxy');\n    case '10-main':\n      return import('./10/CoreProxy');\n    case '420-main':\n      return import('./420/CoreProxy');\n    case '11155111-main':\n      return import('./11155111/CoreProxy');\n    case '84531-main':\n      return import('./84531/CoreProxy');\n    case '84531-competition':\n      return import('./84531-competition/CoreProxy');\n    default:\n      throw new Error(`Unsupported chain ${chainId} for CoreProxy`);\n  }\n}\n","// !!! DO NOT EDIT !!! Automatically generated file\n\nimport type { Multicall3 as Multicall31Main } from './1/Multicall3';\nimport type { Multicall3 as Multicall35Main } from './5/Multicall3';\nimport type { Multicall3 as Multicall310Main } from './10/Multicall3';\nimport type { Multicall3 as Multicall3420Main } from './420/Multicall3';\nimport type { Multicall3 as Multicall311155111Main } from './11155111/Multicall3';\nimport type { Multicall3 as Multicall384531Main } from './84531/Multicall3';\nimport type { Multicall3 as Multicall384531Competition } from './84531-competition/Multicall3';\n\nexport type Multicall3Type =\n  | Multicall31Main\n  | Multicall35Main\n  | Multicall310Main\n  | Multicall3420Main\n  | Multicall311155111Main\n  | Multicall384531Main\n  | Multicall384531Competition;\n\nexport async function importMulticall3(chainId: number, preset: string = 'main') {\n  switch (`${chainId}-${preset}`) {\n    case '1-main':\n      return import('./1/Multicall3');\n    case '5-main':\n      return import('./5/Multicall3');\n    case '10-main':\n      return import('./10/Multicall3');\n    case '420-main':\n      return import('./420/Multicall3');\n    case '11155111-main':\n      return import('./11155111/Multicall3');\n    case '84531-main':\n      return import('./84531/Multicall3');\n    case '84531-competition':\n      return import('./84531-competition/Multicall3');\n    default:\n      throw new Error(`Unsupported chain ${chainId} for Multicall3`);\n  }\n}\n","import { Tooltip } from '@chakra-ui/react';\nimport { useMemo } from 'react';\nimport { currency } from '@snx-v3/format';\nimport { Wei, wei } from '@synthetixio/wei';\n\nexport function Amount({\n  value,\n  prefix = '',\n  suffix = '',\n  'data-testid': testid,\n}: {\n  prefix?: string;\n  value?: Wei;\n  suffix?: string;\n  'data-testid'?: string;\n}) {\n  const { formattedValue, preciseValue } = useMemo(() => {\n    if (!value) {\n      return { formattedValue: '-', preciseValue: '-' };\n    }\n    const formattedValue = currency(value);\n    const cleanNumber = wei(formattedValue.replaceAll(',', ''));\n\n    return {\n      formattedValue,\n      preciseValue: value.eq(cleanNumber) ? formattedValue : value.toString(),\n    };\n  }, [value]);\n\n  return (\n    <Tooltip\n      label={\n        <>\n          {prefix}\n          {preciseValue}\n          {suffix}\n        </>\n      }\n      isDisabled={formattedValue === preciseValue}\n    >\n      <span data-testid={testid}>\n        {prefix}\n        {formattedValue}\n        {suffix}\n      </span>\n    </Tooltip>\n  );\n}\n","import React from 'react';\nimport { Button, Collapse, Text } from '@chakra-ui/react';\nimport format from 'date-fns/format';\nimport { ContractErrorType } from '@snx-v3/useContractErrorParser';\n\nconst defaultOpen = window?.localStorage?.CONTRACT_ERROR_OPEN === 'true';\n\nexport function ContractError({ contractError }: { contractError: ContractErrorType }) {\n  const [isOpen, setIsOpen] = React.useState(defaultOpen);\n\n  return (\n    <>\n      {!isOpen ? (\n        <Button\n          variant=\"link\"\n          onClick={() => setIsOpen(true)}\n          color=\"inherit\"\n          fontWeight=\"normal\"\n          fontStyle=\"italic\"\n        >\n          details...\n        </Button>\n      ) : null}\n      <Collapse in={isOpen} animateOpacity>\n        <Text fontStyle=\"italic\" fontSize=\"0.8em\">\n          {contractError.name}\n        </Text>\n        <Text whiteSpace=\"pre\" fontSize=\"0.8em\" fontStyle=\"italic\" pl=\"0.5em\">\n          {Object.entries(contractError.args)\n            .map(\n              ([key, val]) =>\n                `${key}: ${val instanceof Date ? format(val, 'yyyy-MM-dd HH:mm:ss') : val}`\n            )\n            .join('\\n')}\n        </Text>\n      </Collapse>\n    </>\n  );\n}\n","import { Wei, wei } from '@synthetixio/wei';\nimport { createMachine, assign } from 'xstate';\n\nexport const Events = {\n  SET_REQUIRE_APPROVAL: 'SET_REQUIRE_APPROVAL',\n  SET_WRAP_AMOUNT: 'SET_WRAP_AMOUNT',\n  SET_INFINITE_APPROVAL: 'SET_INFINITE_APPROVAL',\n  RETRY: 'RETRY',\n  RUN: 'RUN',\n  SUCCESS: 'SUCCESS',\n  FAILURE: 'FAILURE',\n  RESET: 'RESET',\n} as const;\n\nexport const State = {\n  idle: 'idle',\n  wrap: 'wrap',\n  approve: 'approve',\n  deposit: 'deposit',\n  failed: 'failed',\n  success: 'success',\n} as const;\n\nconst FailedSteps = {\n  [State.approve]: State.approve,\n  [State.wrap]: State.wrap,\n  [State.deposit]: State.deposit,\n} as const;\n\nexport const ServiceNames = {\n  wrapEth: 'wrapEth',\n  approveWETH: 'approveWETH',\n  executeDeposit: 'executeDeposit',\n} as const;\n\ntype Context = {\n  error: {\n    error: Error;\n    step: keyof typeof FailedSteps;\n  } | null;\n  requireApproval: boolean;\n  wrapAmount: Wei;\n  infiniteApproval: boolean;\n};\n\ntype EventNamesType = typeof Events;\n\ntype DepositEvents =\n  | { type: EventNamesType['SET_REQUIRE_APPROVAL']; requireApproval: boolean }\n  | { type: EventNamesType['SET_WRAP_AMOUNT']; wrapAmount: Wei }\n  | { type: EventNamesType['SET_INFINITE_APPROVAL']; infiniteApproval: boolean }\n  | { type: EventNamesType['RETRY'] }\n  | { type: EventNamesType['RUN'] }\n  | { type: EventNamesType['SUCCESS'] }\n  | { type: EventNamesType['FAILURE'] }\n  | { type: EventNamesType['RESET'] };\n\ntype StateType = typeof State;\ntype MachineState =\n  | {\n      value: StateType['idle'];\n      context: Context & { error: null };\n    }\n  | {\n      value: StateType['wrap'];\n      context: Context & { error: null };\n    }\n  | {\n      value: StateType['approve'];\n      context: Context & { error: null };\n    }\n  | {\n      value: StateType['deposit'];\n      context: Context & { error: null };\n    }\n  | {\n      value: StateType['failed'];\n      context: Context & { error: { error: Error; step: keyof typeof FailedSteps } };\n    }\n  | {\n      value: StateType['success'];\n      context: Context & {\n        error: null;\n      };\n    };\n\nconst initialContext = {\n  wrapAmount: wei(0),\n  error: null,\n  requireApproval: false,\n  infiniteApproval: false,\n};\n\nexport const DepositMachine = createMachine<Context, DepositEvents, MachineState>({\n  id: 'DepositMachine',\n  initial: State.idle,\n  predictableActionArguments: true,\n  context: initialContext,\n  on: {\n    [Events.RUN]: {\n      target: State.deposit,\n      actions: assign({\n        wrapAmount: (_) => initialContext.wrapAmount,\n        error: (_) => initialContext.error,\n        requireApproval: (_) => initialContext.requireApproval,\n        infiniteApproval: (_) => initialContext.infiniteApproval,\n      }),\n    },\n    [Events.SET_REQUIRE_APPROVAL]: {\n      actions: assign({ requireApproval: (_context, event) => event.requireApproval }),\n    },\n    [Events.SET_WRAP_AMOUNT]: {\n      actions: assign({ wrapAmount: (_context, event) => event.wrapAmount }),\n    },\n    [Events.SET_INFINITE_APPROVAL]: {\n      actions: assign({ infiniteApproval: (_context, event) => event.infiniteApproval }),\n    },\n  },\n  states: {\n    [State.idle]: {\n      on: {\n        [Events.RUN]: [\n          { target: State.wrap, cond: (context) => context.wrapAmount.gt(0) },\n          { target: State.approve, cond: (context) => context.requireApproval },\n          { target: State.deposit },\n        ],\n      },\n    },\n    [State.wrap]: {\n      invoke: {\n        src: ServiceNames.wrapEth,\n        onError: {\n          target: State.failed,\n          actions: assign({\n            error: (_context, event) => ({ error: event.data, step: FailedSteps.wrap }),\n          }),\n        },\n        onDone: [\n          { target: State.approve, cond: (context) => context.requireApproval },\n          { target: State.deposit },\n        ],\n      },\n    },\n    [State.approve]: {\n      invoke: {\n        src: ServiceNames.approveWETH,\n        onDone: {\n          target: State.deposit,\n        },\n        onError: {\n          target: State.failed,\n          actions: assign({\n            error: (_context, event) => ({ error: event.data, step: FailedSteps.approve }),\n          }),\n        },\n      },\n    },\n    [State.deposit]: {\n      invoke: {\n        src: ServiceNames.executeDeposit,\n        onDone: {\n          target: State.success,\n        },\n        onError: {\n          target: State.failed,\n          actions: assign({\n            error: (_context, event) => ({ error: event.data, step: FailedSteps.deposit }),\n          }),\n        },\n      },\n    },\n    [State.failed]: {\n      on: {\n        [Events.RETRY]: [\n          {\n            target: State.approve,\n            cond: (c) => c.error?.step === FailedSteps.approve,\n            actions: assign({ error: (_) => null }),\n          },\n          {\n            target: State.wrap,\n            cond: (c) => c.error?.step === FailedSteps.wrap,\n            actions: assign({ error: (_) => null }),\n          },\n          {\n            target: State.deposit,\n            cond: (c) => c.error?.step === FailedSteps.deposit,\n            actions: assign({ error: (_) => null }),\n          },\n        ],\n      },\n    },\n    [State.success]: {},\n  },\n});\n","import {\n  Button,\n  Modal,\n  ModalBody,\n  ModalCloseButton,\n  ModalContent,\n  ModalHeader,\n  ModalOverlay,\n  Text,\n  useToast,\n} from '@chakra-ui/react';\nimport { FC, useCallback, useEffect, useMemo } from 'react';\nimport { CollateralType, useCollateralType } from '@snx-v3/useCollateralTypes';\nimport { Amount } from '@snx-v3/Amount';\n\nimport { generatePath, useNavigate, useLocation } from 'react-router-dom';\nimport { useApprove } from '@snx-v3/useApprove';\nimport { useWrapEth } from '@snx-v3/useWrapEth';\nimport { Multistep } from '@snx-v3/Multistep';\nimport { Wei, wei } from '@synthetixio/wei';\nimport { useCoreProxy } from '@snx-v3/useCoreProxy';\nimport { useDeposit } from '@snx-v3/useDeposit';\nimport { useParams } from '@snx-v3/useParams';\nimport { DepositMachine, Events, ServiceNames, State } from './DepositMachine';\nimport { useMachine } from '@xstate/react';\nimport type { StateFrom } from 'xstate';\nimport { useContractErrorParser } from '@snx-v3/useContractErrorParser';\nimport { ContractError } from '@snx-v3/ContractError';\nimport { usePool } from '@snx-v3/usePools';\nimport { useQueryClient } from '@tanstack/react-query';\nimport { useNetwork } from '@snx-v3/useBlockchain';\n\nexport const DepositModalUi: FC<{\n  collateralChange: Wei;\n  isOpen: boolean;\n  onClose: () => void;\n  collateralType?: CollateralType;\n  state: StateFrom<typeof DepositMachine>;\n  setInfiniteApproval: (x: boolean) => void;\n  onSubmit: () => void;\n  availableCollateral: Wei;\n  poolName: string;\n}> = ({\n  collateralChange,\n  isOpen,\n  onClose,\n  collateralType,\n  setInfiniteApproval,\n  onSubmit,\n  state,\n  availableCollateral,\n  poolName,\n}) => {\n  const wrapAmount = state.context.wrapAmount;\n  const infiniteApproval = state.context.infiniteApproval;\n  const requireApproval = state.context.requireApproval;\n  const error = state.context.error;\n  const isProcessing =\n    state.matches(State.approve) || state.matches(State.deposit) || state.matches(State.wrap);\n\n  const isWETH = collateralType?.symbol === 'WETH';\n  const stepNumbers = {\n    wrap: isWETH ? 1 : 0,\n    approve: isWETH ? 2 : 1,\n    deposit: isWETH ? 3 : 2,\n  };\n\n  return (\n    <Modal size=\"lg\" isOpen={isOpen} onClose={onClose} closeOnOverlayClick={false}>\n      <ModalOverlay />\n      <ModalContent bg=\"black\" color=\"white\" data-testid=\"deposit modal\">\n        <ModalHeader>Complete this action</ModalHeader>\n        <ModalCloseButton />\n        <ModalBody>\n          <Text mb=\"2\">Please execute the following transactions:</Text>\n          {isWETH ? (\n            <Multistep\n              step={stepNumbers.wrap}\n              title=\"Wrap\"\n              subtitle={\n                wrapAmount.eq(0) ? (\n                  <Text as=\"div\">\n                    <Amount value={collateralChange} suffix={` ${collateralType?.symbol}`} /> from\n                    balance will be used.\n                  </Text>\n                ) : (\n                  <Text as=\"div\">\n                    You must wrap additional <Amount value={wrapAmount} suffix=\" ETH\" /> before\n                    depositing.\n                  </Text>\n                )\n              }\n              status={{\n                failed: error?.step === State.wrap,\n                disabled: collateralType?.symbol !== 'WETH',\n                success: wrapAmount.eq(0) || state.matches(State.success),\n                loading: state.matches(State.wrap) && !error,\n              }}\n            />\n          ) : null}\n\n          <Multistep\n            step={stepNumbers.approve}\n            title={`Approve ${collateralType?.symbol} transfer`}\n            status={{\n              failed: error?.step === State.approve,\n              success: !requireApproval || state.matches(State.success),\n              loading: state.matches(State.approve) && !error,\n            }}\n            checkboxLabel={`Approve unlimited ${collateralType?.symbol} transfers to Synthetix.`}\n            checkboxProps={{\n              isChecked: infiniteApproval,\n              onChange: (e) => setInfiniteApproval(e.target.checked),\n            }}\n          />\n\n          <Multistep\n            step={stepNumbers.deposit}\n            title={`Delegate ${collateralType?.symbol}`}\n            subtitle={\n              <>\n                {state.matches(State.success) ? (\n                  <Text>\n                    <Amount value={collateralChange} suffix={` ${collateralType?.symbol}`} />{' '}\n                    delegated to {poolName}.\n                  </Text>\n                ) : (\n                  <>\n                    {availableCollateral && availableCollateral.gt(wei(0)) ? (\n                      <>\n                        {availableCollateral.gte(collateralChange) ? (\n                          <Text>\n                            This will delegate{' '}\n                            <Amount\n                              value={collateralChange}\n                              suffix={` ${collateralType?.symbol}`}\n                            />{' '}\n                            to {poolName}.\n                          </Text>\n                        ) : (\n                          <>\n                            <Text>\n                              This will delegate{' '}\n                              <Amount\n                                value={availableCollateral}\n                                suffix={` ${collateralType?.symbol}`}\n                              />{' '}\n                              to {poolName}.\n                            </Text>\n                            <Text>\n                              An additional{' '}\n                              <Amount\n                                value={collateralChange.sub(availableCollateral)}\n                                suffix={` ${collateralType?.symbol}`}\n                              />{' '}\n                              will be deposited and delegated from your wallet.\n                            </Text>\n                          </>\n                        )}\n                      </>\n                    ) : (\n                      <Text>\n                        This will deposit and delegate{' '}\n                        <Amount value={collateralChange} suffix={` ${collateralType?.symbol}`} /> to{' '}\n                        {poolName}.\n                      </Text>\n                    )}\n                  </>\n                )}\n              </>\n            }\n            status={{\n              failed: error?.step === State.deposit,\n              disabled: state.matches(State.success) && requireApproval,\n              success: state.matches(State.success),\n              loading: state.matches(State.deposit) && !error,\n            }}\n          />\n\n          <Button\n            isDisabled={isProcessing}\n            onClick={onSubmit}\n            width=\"100%\"\n            my=\"4\"\n            data-testid=\"deposit confirm button\"\n          >\n            {(() => {\n              switch (true) {\n                case Boolean(error):\n                  return 'Retry';\n                case isProcessing:\n                  return 'Processing...';\n                case state.matches(State.success):\n                  return 'Done';\n                default:\n                  return 'Start';\n              }\n            })()}\n          </Button>\n        </ModalBody>\n      </ModalContent>\n    </Modal>\n  );\n};\n\nexport type DepositModalProps = FC<{\n  collateralChange: Wei;\n  currentCollateral: Wei;\n  availableCollateral: Wei;\n  isOpen: boolean;\n  onClose: () => void;\n}>;\n\nexport const DepositModal: DepositModalProps = ({\n  onClose,\n  isOpen,\n  collateralChange,\n  currentCollateral,\n  availableCollateral,\n}) => {\n  const navigate = useNavigate();\n  const params = useParams();\n  const queryClient = useQueryClient();\n  const network = useNetwork();\n  const { data: CoreProxy } = useCoreProxy();\n  const { data: collateralType } = useCollateralType(params.collateralSymbol);\n\n  const { approve, requireApproval } = useApprove({\n    contractAddress: collateralType?.tokenAddress,\n    amount: collateralChange.toBN(),\n    spender: CoreProxy?.address,\n  });\n\n  const toast = useToast({ isClosable: true, duration: 9000 });\n\n  // TODO: Update logic on new account id\n  const newAccountId = useMemo(() => `${Math.floor(Math.random() * 10000000000)}`, []);\n\n  const { exec: wrapEth, wethBalance } = useWrapEth();\n  const wrapAmount =\n    collateralType?.symbol === 'WETH' && collateralChange.gt(wethBalance || 0)\n      ? collateralChange.sub(wethBalance || 0)\n      : wei(0);\n\n  const { data: pool } = usePool(params.poolId);\n\n  const { exec: execDeposit } = useDeposit({\n    accountId: params.accountId,\n    newAccountId,\n    poolId: params.poolId,\n    collateralTypeAddress: collateralType?.tokenAddress,\n    collateralChange,\n    currentCollateral,\n    availableCollateral: availableCollateral || wei(0),\n  });\n  const errorParserCoreProxy = useContractErrorParser(CoreProxy);\n\n  const [state, send] = useMachine(DepositMachine, {\n    services: {\n      [ServiceNames.wrapEth]: async () => {\n        try {\n          await wrapEth(state.context.wrapAmount);\n        } catch (error: any) {\n          const contractError = errorParserCoreProxy(error);\n          if (contractError) {\n            console.error(new Error(contractError.name), contractError);\n          }\n          toast.closeAll();\n          toast({\n            title: 'Wrapping ETH failed',\n            description: contractError ? (\n              <ContractError contractError={contractError} />\n            ) : (\n              'Please try again.'\n            ),\n            status: 'error',\n          });\n          throw Error('Wrapping failed', { cause: error });\n        }\n      },\n      [ServiceNames.approveWETH]: async () => {\n        try {\n          toast({\n            title: 'Approve collateral for transfer',\n            description: params.accountId\n              ? 'The next transaction will delegate this collateral.'\n              : 'The next transaction will create your account and and delegate this collateral',\n            status: 'info',\n          });\n\n          await approve(Boolean(state.context.infiniteApproval));\n        } catch (error: any) {\n          const contractError = errorParserCoreProxy(error);\n          if (contractError) {\n            console.error(new Error(contractError.name), contractError);\n          }\n          toast.closeAll();\n          toast({\n            title: 'Approval failed',\n            description: contractError ? (\n              <ContractError contractError={contractError} />\n            ) : (\n              'Please try again.'\n            ),\n            status: 'error',\n          });\n          throw Error('Approve failed', { cause: error });\n        }\n      },\n      [ServiceNames.executeDeposit]: async () => {\n        try {\n          toast.closeAll();\n          toast({\n            title: Boolean(params.accountId)\n              ? 'Delegating your collateral'\n              : 'Creating your account and depositing collateral',\n            description: '',\n          });\n          await execDeposit();\n\n          await Promise.all([\n            queryClient.invalidateQueries({\n              queryKey: [`${network.id}-${network.preset}`, 'EthBalance'],\n            }),\n            queryClient.invalidateQueries({\n              queryKey: [`${network.id}-${network.preset}`, 'LiquidityPosition'],\n            }),\n            collateralType?.symbol === 'SNX'\n              ? queryClient.invalidateQueries({\n                  queryKey: [`${network.id}-${network.preset}`, 'TransferableSynthetix'],\n                })\n              : Promise.resolve(),\n            queryClient.invalidateQueries({\n              queryKey: [`${network.id}-${network.preset}`, 'Allowance'],\n            }),\n            !params.accountId\n              ? queryClient.invalidateQueries({\n                  queryKey: [`${network.id}-${network.preset}`, 'Accounts'],\n                })\n              : Promise.resolve(),\n          ]);\n\n          toast.closeAll();\n          toast({\n            title: 'Success',\n            description: 'Your delegated collateral amount has been updated.',\n            status: 'success',\n            duration: 5000,\n          });\n        } catch (error: any) {\n          const contractError = errorParserCoreProxy(error);\n          if (contractError) {\n            console.error(new Error(contractError.name), contractError);\n          }\n          toast({\n            title: 'Could not complete delegating collateral',\n            description: contractError ? (\n              <ContractError contractError={contractError} />\n            ) : (\n              'Please try again.'\n            ),\n            status: 'error',\n          });\n          throw Error('Delegate collateral failed', { cause: error });\n        }\n      },\n    },\n  });\n\n  const wrapAmountString = wrapAmount.toString();\n  const isSuccessOrDeposit = state.matches(State.success) || state.matches(State.deposit);\n\n  useEffect(() => {\n    if (isSuccessOrDeposit) {\n      // We do this to ensure the success state displays the wrap amount used before deposit\n      return;\n    }\n    send(Events.SET_WRAP_AMOUNT, { wrapAmount: wei(wrapAmountString) });\n  }, [wrapAmountString, send, isSuccessOrDeposit]);\n\n  useEffect(() => {\n    send(Events.SET_REQUIRE_APPROVAL, { requireApproval });\n  }, [requireApproval, send]);\n\n  const location = useLocation();\n\n  const handleClose = useCallback(() => {\n    const isSuccess = state.matches(State.success);\n\n    if (isSuccess && params.poolId && collateralType?.symbol) {\n      send(Events.RESET);\n      onClose();\n      navigate({\n        pathname: generatePath('/positions/:collateralType/:poolId', {\n          collateralType: collateralType.symbol,\n          poolId: params.poolId,\n        }),\n        search: location.search,\n      });\n    }\n    send(Events.RESET);\n    onClose();\n  }, [location.search, send, onClose, state, params.poolId, collateralType?.symbol, navigate]);\n\n  const onSubmit = useCallback(async () => {\n    if (state.matches(State.success)) {\n      handleClose();\n      return;\n    }\n    if (state.context.error) {\n      send(Events.RETRY);\n      return;\n    }\n    send(Events.RUN);\n  }, [handleClose, send, state]);\n\n  return (\n    <DepositModalUi\n      collateralChange={collateralChange}\n      isOpen={isOpen}\n      onClose={onClose}\n      collateralType={collateralType}\n      state={state}\n      setInfiniteApproval={(infiniteApproval) => {\n        send(Events.SET_INFINITE_APPROVAL, { infiniteApproval });\n      }}\n      onSubmit={onSubmit}\n      poolName={pool?.name || ''}\n      availableCollateral={availableCollateral || wei(0)}\n    />\n  );\n};\n","import { useReducer } from 'react';\nimport { useCoreProxy } from '@snx-v3/useCoreProxy';\nimport { useMutation } from '@tanstack/react-query';\nimport { useNetwork, useProvider, useSigner } from '@snx-v3/useBlockchain';\nimport { initialState, reducer } from '@snx-v3/txnReducer';\nimport Wei, { wei } from '@synthetixio/wei';\nimport { BigNumber } from 'ethers';\n\nimport { formatGasPriceForTransaction } from '@snx-v3/useGasOptions';\nimport { getGasPrice } from '@snx-v3/useGasPrice';\nimport { useGasSpeed } from '@snx-v3/useGasSpeed';\nimport { withERC7412 } from '@snx-v3/withERC7412';\nimport { notNil } from '@snx-v3/tsHelpers';\nimport { useAllCollateralPriceIds } from '@snx-v3/useAllCollateralPriceIds';\nimport { fetchPriceUpdates, priceUpdatesToPopulatedTx } from '@snx-v3/fetchPythPrices';\n\nexport const useDeposit = ({\n  accountId,\n  newAccountId,\n  poolId,\n  collateralTypeAddress,\n  collateralChange,\n  currentCollateral,\n  availableCollateral,\n}: {\n  accountId?: string;\n  newAccountId: string;\n  poolId?: string;\n  collateralTypeAddress?: string;\n  currentCollateral: Wei;\n  availableCollateral?: Wei;\n  collateralChange: Wei;\n}) => {\n  const [txnState, dispatch] = useReducer(reducer, initialState);\n  const { data: CoreProxy } = useCoreProxy();\n  const { data: collateralPriceUpdates } = useAllCollateralPriceIds();\n\n  const network = useNetwork();\n  const signer = useSigner();\n  const { gasSpeed } = useGasSpeed();\n  const provider = useProvider();\n  const mutation = useMutation({\n    mutationFn: async () => {\n      if (\n        !(\n          signer &&\n          CoreProxy &&\n          poolId &&\n          collateralTypeAddress &&\n          availableCollateral &&\n          collateralPriceUpdates\n        )\n      ) {\n        return;\n      }\n      if (collateralChange.eq(0)) return;\n\n      try {\n        dispatch({ type: 'prompting' });\n        const walletAddress = await signer.getAddress();\n        const id = accountId ?? newAccountId;\n\n        // create account only when no account exists\n        const createAccount = accountId\n          ? undefined\n          : CoreProxy.populateTransaction['createAccount(uint128)'](BigNumber.from(id));\n\n        // optionally deposit if available collateral not enough\n        const deposit = availableCollateral.gte(collateralChange)\n          ? undefined\n          : CoreProxy.populateTransaction.deposit(\n              BigNumber.from(id),\n              collateralTypeAddress,\n              collateralChange.sub(availableCollateral).toBN() // only deposit what's needed\n            );\n        const delegate = CoreProxy.populateTransaction.delegateCollateral(\n          BigNumber.from(id),\n          BigNumber.from(poolId),\n          collateralTypeAddress,\n          currentCollateral.add(collateralChange).toBN(),\n          wei(1).toBN()\n        );\n        const callsPromise = Promise.all([createAccount, deposit, delegate].filter(notNil));\n        const collateralPriceCallsPromise = fetchPriceUpdates(\n          collateralPriceUpdates,\n          network.isTestnet\n        ).then((signedData) =>\n          priceUpdatesToPopulatedTx(walletAddress, collateralPriceUpdates, signedData)\n        );\n        const [calls, gasPrices, collateralPriceCalls] = await Promise.all([\n          callsPromise,\n          getGasPrice({ provider }),\n          collateralPriceCallsPromise,\n        ]);\n        const allCalls = collateralPriceCalls.concat(calls);\n\n        const erc7412Tx = await withERC7412(network, allCalls, 'useDeposit');\n\n        const gasOptionsForTransaction = formatGasPriceForTransaction({\n          gasLimit: erc7412Tx.gasLimit,\n          gasPrices,\n          gasSpeed,\n        });\n\n        const txn = await signer.sendTransaction({ ...erc7412Tx, ...gasOptionsForTransaction });\n        dispatch({ type: 'pending', payload: { txnHash: txn.hash } });\n\n        await txn.wait();\n        dispatch({ type: 'success' });\n      } catch (error: any) {\n        dispatch({ type: 'error', payload: { error } });\n        throw error;\n      }\n    },\n  });\n  return {\n    mutation,\n    txnState,\n    settle: () => dispatch({ type: 'settled' }),\n    isLoading: mutation.isLoading,\n    exec: mutation.mutateAsync,\n  };\n};\n","import { DepositModal } from './DepositModal';\nexport * from './DepositModal';\nexport default DepositModal;\n","import { Box, Spinner } from '@chakra-ui/react';\nimport { PropsWithChildren } from 'react';\nimport { MultistepStatus } from './MultistepStatus';\n\nimport { createIcon } from '@chakra-ui/icon';\n\nexport const CheckIcon = createIcon({\n  viewBox: '0 0 14 14',\n  path: (\n    <g fill=\"currentColor\">\n      <polygon points=\"5.5 11.9993304 14 3.49933039 12.5 2 5.5 8.99933039 1.5 4.9968652 0 6.49933039\" />\n    </g>\n  ),\n});\n\nexport const CloseIcon = createIcon({\n  d: 'M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z',\n});\n\nexport function StepIcon({ status, children }: PropsWithChildren<{ status: MultistepStatus }>) {\n  switch (true) {\n    case status.failed:\n      return <CloseIcon color=\"white\" />;\n    case status.success:\n      return <CheckIcon color=\"white\" />;\n    case status.loading:\n      return <Spinner color=\"white\" width={6} height={6} />;\n    case status.disabled:\n    default:\n      return (\n        <Box\n          __css={{\n            display: 'inline',\n            fontWeight: 'medium',\n            textAlign: 'center',\n            fontSize: 'md',\n          }}\n        >\n          {children}\n        </Box>\n      );\n  }\n}\n","import { MultistepStatus } from './MultistepStatus';\n\nexport function statusColor(status: MultistepStatus): string {\n  switch (true) {\n    // order matters\n    case status.failed:\n      return 'red.700';\n    case status.disabled:\n      return 'gray.700';\n    case status.loading:\n      return 'gray.700';\n    case status.success:\n      return 'green.700';\n    default:\n      return 'gray.700';\n  }\n}\n","import { Flex } from '@chakra-ui/react';\nimport { PropsWithChildren } from 'react';\nimport { MultistepStatus } from './MultistepStatus';\nimport { StepIcon } from './StepIcon';\nimport { statusColor } from './statusColor';\n\nexport function Step({ status, children }: PropsWithChildren<{ status: MultistepStatus }>) {\n  return (\n    <Flex\n      width={10}\n      height={10}\n      minWidth={10}\n      minHeight={10}\n      justifyContent=\"center\"\n      alignItems=\"center\"\n      bg={statusColor(status)}\n      rounded=\"full\"\n      transitionProperty=\"background\"\n      transitionDuration=\"normal\"\n    >\n      <StepIcon status={status}>{children}</StepIcon>\n    </Flex>\n  );\n}\n","import { PropsWithChildren, ReactElement } from 'react';\nimport { Box, Checkbox, CheckboxProps, Flex, Text } from '@chakra-ui/react';\nimport { Step } from './Step';\nimport { statusColor } from './statusColor';\nimport { MultistepStatus } from './MultistepStatus';\n\nfunction StepCheckbox({ children, ...props }: PropsWithChildren<CheckboxProps>) {\n  return (\n    <Flex mt=\"0.5\">\n      <Checkbox size=\"sm\" {...props}>\n        <Box fontSize=\"xs\" opacity=\"0.66\">\n          {children}\n        </Box>\n      </Checkbox>\n    </Flex>\n  );\n}\n\nexport function Multistep({\n  step,\n  title,\n  subtitle,\n  checkboxLabel,\n  checkboxProps,\n  status,\n  children,\n}: PropsWithChildren<{\n  step: number;\n  title: string | ReactElement;\n  subtitle?: string | ReactElement;\n  checkboxLabel?: string;\n  checkboxProps?: CheckboxProps;\n  status: MultistepStatus;\n}>) {\n  return (\n    <Flex\n      position=\"relative\"\n      alignItems=\"center\"\n      gap={4}\n      rounded=\"lg\"\n      mt=\"4\"\n      p=\"4\"\n      border=\"2px solid\"\n      transitionProperty=\"border-color\"\n      transitionDuration=\"normal\"\n      borderColor={statusColor(status)}\n    >\n      <Step status={status}>{step}</Step>\n      <Flex direction=\"column\">\n        <Text>{title}</Text>\n        {subtitle ? (\n          <Text as=\"div\" fontSize=\"xs\" opacity=\"0.66\">\n            {subtitle}\n          </Text>\n        ) : null}\n        {checkboxLabel ? <StepCheckbox {...checkboxProps}>{checkboxLabel}</StepCheckbox> : null}\n        {children}\n      </Flex>\n    </Flex>\n  );\n}\n","import { Alert, Text } from '@chakra-ui/react';\n\nexport function WithdrawIncrease() {\n  return (\n    <Alert colorScheme=\"orange\" mb=\"4\">\n      <Text fontWeight=\"bold\">\n        This action will increase the timeout for withdrawing collateral\n      </Text>\n    </Alert>\n  );\n}\n","import { Icon, IconProps } from '@chakra-ui/react';\n\nexport const Logo = ({ color = '#00D1FF', width = '219', height = '18' }: IconProps) => {\n  return (\n    <Icon width={width} height={height} viewBox=\"0 0 219 18\" fill=\"none\" color={color}>\n      <g clipPath=\"url(#clip0_3615_54299)\">\n        <path\n          d=\"M21.1343 8.56217C20.2004 7.58594 19.078 7.09805 17.7667 7.09805H4.76824C4.52682 7.09805 4.3197 7.00835 4.14648 6.82851C3.97325 6.64912 3.88684 6.43031 3.88684 6.1721V5.04457C3.88684 4.79813 3.97325 4.58476 4.14648 4.40492C4.3197 4.22553 4.52682 4.13538 4.76824 4.13538H21.5278C21.5697 4.13538 21.6036 4.12134 21.6299 4.09325C21.6561 4.06562 21.6693 4.03436 21.6693 4.00084V0.634543C21.6693 0.589695 21.6561 0.556173 21.6299 0.533523C21.6036 0.511325 21.5693 0.5 21.5278 0.5H4.76824C3.44636 0.5 2.32101 0.988342 1.39261 1.96457C0.464202 2.9408 0 4.11862 0 5.49893V5.71773C0 7.10937 0.464202 8.29308 1.39261 9.26931C2.32101 10.2455 3.44636 10.7334 4.76824 10.7334H17.7667C17.9976 10.7334 18.1996 10.8204 18.3724 10.9944C18.5456 11.1683 18.632 11.3844 18.632 11.6426V12.7701C18.632 13.0284 18.5456 13.2444 18.3724 13.4184C18.1992 13.5924 17.9971 13.6793 17.7667 13.6793H0.991512C0.96017 13.6793 0.930945 13.6934 0.905109 13.7215C0.87885 13.7495 0.86572 13.7862 0.86572 13.8311V17.1974C0.86572 17.2309 0.87885 17.2622 0.905109 17.2898C0.931369 17.3179 0.96017 17.3319 0.991512 17.3319H17.7667C19.078 17.3319 20.2004 16.8413 21.1343 15.8592C22.0678 14.8775 22.535 13.6965 22.535 12.3162V12.097C22.5346 10.7167 22.0678 9.5384 21.1343 8.56217Z\"\n          fill=\"currentColor\"\n        />\n        <path\n          d=\"M49.354 0.5H45.7187C45.6874 0.5 45.6582 0.511325 45.6323 0.533523C45.6061 0.556173 45.5929 0.589695 45.5929 0.634543V4.90957C45.5929 5.27968 45.4142 5.56054 45.058 5.75126L37.8036 8.9658L30.5492 5.75126C30.1925 5.56054 30.0142 5.28013 30.0142 4.90957V0.634543C30.0142 0.589695 30.0036 0.556173 29.9829 0.533523C29.9613 0.511325 29.9299 0.5 29.888 0.5H26.2527C26.2214 0.5 26.1922 0.511325 26.1663 0.533523C26.1401 0.556173 26.127 0.589695 26.127 0.634543V5.53246C26.127 6.26225 26.3159 6.92953 26.6937 7.5352C27.0715 8.14132 27.5852 8.5898 28.2358 8.88154L35.8523 12.2981V17.1797C35.8523 17.2246 35.8655 17.2613 35.8917 17.2893C35.918 17.3174 35.9519 17.3315 35.9938 17.3315H39.629C39.6604 17.3315 39.6892 17.3174 39.7154 17.2893C39.7417 17.2613 39.7548 17.225 39.7548 17.1797V12.2986L47.3714 8.89875C48.0215 8.59569 48.5361 8.14404 48.9135 7.54381C49.2913 6.94357 49.4798 6.27901 49.4798 5.54922V0.634543C49.4798 0.589695 49.4667 0.556173 49.4404 0.533523C49.4141 0.511325 49.3853 0.5 49.354 0.5Z\"\n          fill=\"currentColor\"\n        />\n        <path\n          d=\"M76.356 0.5H72.7208C72.6788 0.5 72.6471 0.514043 72.6263 0.54213C72.6051 0.570216 72.595 0.601021 72.595 0.634543V13.6956H71.0685C70.7852 13.6956 70.5437 13.5611 70.3447 13.2916L63.2948 2.26718C62.5392 1.13421 61.4952 0.544848 60.1632 0.5H54.0892C54.0472 0.5 54.0129 0.514043 53.9867 0.54213C53.9604 0.570216 53.9473 0.601021 53.9473 0.634543V17.1965C53.9473 17.23 53.9604 17.2613 53.9867 17.2889C54.0129 17.317 54.0468 17.331 54.0892 17.331H57.7244C57.7558 17.331 57.7846 17.317 57.8108 17.2889C57.8371 17.2613 57.8502 17.23 57.8502 17.1965V4.13538H59.3766C59.66 4.13538 59.901 4.27581 60.1005 4.55623L67.1503 15.5806C67.9059 16.714 68.9495 17.2975 70.282 17.331H76.3564C76.3984 17.331 76.4297 17.317 76.4509 17.2889C76.4716 17.2613 76.4822 17.23 76.4822 17.1965V0.634543C76.4822 0.601021 76.4716 0.570216 76.4509 0.54213C76.4293 0.514043 76.3979 0.5 76.356 0.5Z\"\n          fill=\"currentColor\"\n        />\n        <path\n          d=\"M102.63 0.5H80.3631C80.3212 0.5 80.2894 0.514043 80.2686 0.54213C80.2475 0.570216 80.2373 0.601021 80.2373 0.634543V4.00084C80.2373 4.03436 80.2475 4.06562 80.2686 4.09325C80.2894 4.12134 80.3212 4.13538 80.3631 4.13538H89.5531V17.1965C89.5531 17.23 89.5633 17.2613 89.5845 17.2889C89.6052 17.317 89.637 17.331 89.6789 17.331H93.3142C93.3561 17.331 93.3875 17.317 93.4086 17.2889C93.4294 17.2613 93.44 17.23 93.44 17.1965V4.13538H102.63C102.672 4.13538 102.706 4.12134 102.732 4.09325C102.758 4.06517 102.771 4.03436 102.771 4.00084V0.634543C102.771 0.601021 102.758 0.570216 102.732 0.54213C102.707 0.514043 102.672 0.5 102.63 0.5Z\"\n          fill=\"currentColor\"\n        />\n        <path\n          d=\"M129.631 0.5H125.996C125.965 0.5 125.936 0.514043 125.91 0.54213C125.883 0.570216 125.87 0.601021 125.87 0.634543V7.0976H111.141V0.634543C111.141 0.601021 111.128 0.570216 111.101 0.54213C111.075 0.514496 111.041 0.5 110.999 0.5H107.364C107.333 0.5 107.304 0.514043 107.278 0.54213C107.251 0.570216 107.238 0.601021 107.238 0.634543V17.1965C107.238 17.23 107.251 17.2613 107.278 17.2889C107.304 17.317 107.333 17.331 107.364 17.331H110.999C111.041 17.331 111.075 17.317 111.101 17.2889C111.128 17.2608 111.141 17.23 111.141 17.1965V10.7334H125.87V17.1965C125.87 17.23 125.883 17.2613 125.91 17.2889C125.936 17.317 125.965 17.331 125.996 17.331H129.631C129.673 17.331 129.707 17.317 129.733 17.2889C129.76 17.2608 129.773 17.23 129.773 17.1965V0.634543C129.773 0.601021 129.759 0.570216 129.733 0.54213C129.707 0.514043 129.673 0.5 129.631 0.5Z\"\n          fill=\"currentColor\"\n        />\n        <path\n          d=\"M156.537 0.5H138.896C137.584 0.5 136.462 0.987889 135.529 1.96412C134.595 2.94035 134.128 4.11862 134.128 5.49893V12.3153C134.128 13.707 134.595 14.8907 135.529 15.8669C136.462 16.8431 137.584 17.3315 138.896 17.3315H156.537C156.568 17.3315 156.597 17.3174 156.623 17.2893C156.649 17.2613 156.663 17.2305 156.663 17.1969V13.8306C156.663 13.7858 156.649 13.7523 156.623 13.7296C156.597 13.7074 156.568 13.6961 156.537 13.6961H138.896C138.655 13.6961 138.45 13.6064 138.282 13.427C138.114 13.2476 138.03 13.0343 138.03 12.7874V10.7334H156.525C156.567 10.7334 156.599 10.7194 156.62 10.6913C156.64 10.6632 156.651 10.6324 156.651 10.5989V7.23259C156.651 7.18774 156.64 7.15422 156.62 7.13157C156.599 7.10937 156.567 7.09805 156.525 7.09805H138.03V5.04457C138.03 4.79768 138.114 4.58476 138.282 4.40492C138.45 4.22553 138.655 4.13538 138.896 4.13538H156.537C156.568 4.13538 156.597 4.12134 156.623 4.09325C156.649 4.06562 156.663 4.03436 156.663 4.00084V0.634543C156.663 0.601021 156.649 0.570216 156.623 0.54213C156.597 0.514496 156.568 0.5 156.537 0.5Z\"\n          fill=\"currentColor\"\n        />\n        <path\n          d=\"M183.41 0.5H161.142C161.1 0.5 161.069 0.514043 161.048 0.54213C161.027 0.570216 161.017 0.601021 161.017 0.634543V4.00084C161.017 4.03436 161.027 4.06562 161.048 4.09325C161.069 4.12134 161.1 4.13538 161.142 4.13538H170.332V17.1965C170.332 17.23 170.343 17.2613 170.364 17.2889C170.385 17.317 170.416 17.331 170.458 17.331H174.093C174.135 17.331 174.167 17.317 174.188 17.2889C174.209 17.2613 174.219 17.23 174.219 17.1965V4.13538H183.409C183.451 4.13538 183.485 4.12134 183.511 4.09325C183.538 4.06517 183.551 4.03436 183.551 4.00084V0.634543C183.551 0.601021 183.538 0.570216 183.511 0.54213C183.486 0.514043 183.451 0.5 183.41 0.5Z\"\n          fill=\"currentColor\"\n        />\n        <path\n          d=\"M191.874 0.533523C191.853 0.511325 191.821 0.5 191.78 0.5H188.144C188.102 0.5 188.071 0.511325 188.05 0.533523C188.029 0.556173 188.019 0.589695 188.019 0.634543V17.1965C188.019 17.23 188.029 17.2613 188.05 17.2889C188.071 17.317 188.102 17.331 188.144 17.331H191.78C191.821 17.331 191.853 17.317 191.874 17.2889C191.895 17.2608 191.905 17.23 191.905 17.1965V0.634543C191.905 0.590148 191.895 0.556173 191.874 0.533523Z\"\n          fill=\"currentColor\"\n        />\n        <path\n          d=\"M201.91 4.58965C201.753 4.39894 201.559 4.30335 201.328 4.30335H196.607C196.565 4.30335 196.531 4.28931 196.505 4.26122C196.479 4.23359 196.466 4.20233 196.466 4.16881V0.802512C196.466 0.768989 196.479 0.738185 196.505 0.710098C196.531 0.682465 196.565 0.667969 196.607 0.667969H201.596C202.855 0.667969 203.94 1.21248 204.853 2.30061L206.065 3.86575L203.705 6.91222L201.91 4.58965ZM210.628 2.28385C211.541 1.20659 212.632 0.667969 213.901 0.667969H218.874C218.916 0.667969 218.947 0.679294 218.969 0.701491C218.989 0.724142 219 0.757664 219 0.802512V4.16881C219 4.20233 218.989 4.23359 218.969 4.26122C218.947 4.28931 218.916 4.30335 218.874 4.30335H214.153C213.922 4.30335 213.728 4.39894 213.571 4.58965L210.093 9.06673L213.587 13.5773C213.744 13.7572 213.933 13.8469 214.153 13.8469H218.874C218.916 13.8469 218.947 13.8609 218.969 13.889C218.989 13.9171 219 13.9538 219 13.9982V17.3645C219 17.398 218.989 17.4292 218.969 17.4569C218.947 17.485 218.916 17.499 218.874 17.499H213.902C212.632 17.499 211.546 16.9549 210.644 15.8664L207.749 12.13L204.853 15.8664C203.94 16.9549 202.849 17.499 201.58 17.499H196.607C196.565 17.499 196.534 17.485 196.513 17.4569C196.492 17.4288 196.481 17.3925 196.481 17.3472V13.9809C196.481 13.9474 196.492 13.9166 196.513 13.8885C196.534 13.8604 196.565 13.8464 196.607 13.8464H201.328C201.548 13.8464 201.742 13.7513 201.91 13.5601L205.325 9.15053L210.628 2.28385Z\"\n          fill=\"currentColor\"\n        />\n      </g>\n      <defs>\n        <clipPath id=\"clip0_3615_54299\">\n          <rect width=\"219\" height=\"17\" fill=\"white\" transform=\"translate(0 0.5)\" />\n        </clipPath>\n      </defs>\n    </Icon>\n  );\n};\n","import { Icon, IconProps } from '@chakra-ui/react';\n\ninterface EthereumIconProps extends IconProps {\n  fill?: string;\n}\n\nexport const EthereumIcon = ({\n  width = '24px',\n  height = '24px',\n  fill = '#627EEA',\n}: EthereumIconProps) => {\n  return (\n    <Icon width={width} height={height} viewBox=\"0 0 30 30\" fill=\"none\">\n      <path\n        d=\"M15 30c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15C6.716 0 0 6.716 0 15c0 8.284 6.716 15 15 15Z\"\n        fill={fill}\n      />\n      <path d=\"M15.467 3.75v8.316l7.028 3.14L15.467 3.75Z\" fill=\"#fff\" fillOpacity=\".602\" />\n      <path d=\"m15.467 3.75-7.03 11.456 7.03-3.14V3.75Z\" fill=\"#fff\" />\n      <path d=\"M15.467 20.595v5.65l7.033-9.73-7.033 4.08Z\" fill=\"#fff\" fillOpacity=\".602\" />\n      <path d=\"M15.467 26.245v-5.651l-7.03-4.08 7.03 9.731Z\" fill=\"#fff\" />\n      <path d=\"m15.467 19.287 7.028-4.08-7.028-3.14v7.22Z\" fill=\"#fff\" fillOpacity=\".2\" />\n      <path d=\"m8.438 15.206 7.029 4.081v-7.22l-7.03 3.14Z\" fill=\"#fff\" fillOpacity=\".602\" />\n    </Icon>\n  );\n};\n","import { Icon, IconProps } from '@chakra-ui/react';\n\ninterface SnxIconProps extends IconProps {\n  color?: string;\n  fill?: string;\n}\n\nexport const SNXIcon = ({\n  width = '25px',\n  height = '24px',\n  color = '#2ED9FF',\n  fill = '#0E052F',\n  ...props\n}: SnxIconProps) => {\n  return (\n    <Icon width={width} height={height} viewBox=\"0 0 30 31\" fill=\"none\" {...props}>\n      <path\n        d=\"M30 15.268c0 8.284-6.716 15-15 15-8.284 0-15-6.716-15-15 0-8.285 6.716-15 15-15 8.284 0 15 6.715 15 15Z\"\n        fill={fill}\n      />\n      <path\n        d=\"M10.107 11.673a.624.624 0 0 0-.487-.224H5.674a.115.115 0 0 1-.086-.033.1.1 0 0 1-.032-.073V8.706a.1.1 0 0 1 .032-.072.115.115 0 0 1 .086-.033h4.17c1.053 0 1.96.426 2.723 1.279l1.013 1.226-1.973 2.387-1.5-1.82Zm7.289-1.806c.763-.844 1.675-1.266 2.736-1.266h4.157c.035 0 .061.008.08.026.017.018.026.044.026.079v2.637c0 .027-.01.051-.027.073s-.044.033-.079.033h-3.946a.624.624 0 0 0-.487.224l-2.908 3.508 2.92 3.534c.133.14.29.211.475.211h3.946c.035 0 .061.011.08.033.017.022.026.05.026.086v2.637c0 .026-.01.05-.027.073-.017.021-.044.033-.079.033h-4.157c-1.061 0-1.969-.427-2.723-1.28l-2.42-2.927-2.422 2.927c-.763.853-1.675 1.28-2.736 1.28H5.674c-.035 0-.062-.012-.08-.034a.132.132 0 0 1-.025-.085V19.03c0-.026.008-.05.026-.072.017-.022.044-.033.079-.033H9.62a.65.65 0 0 0 .487-.225l2.855-3.454 4.434-5.38Z\"\n        fill={color}\n      />\n    </Icon>\n  );\n};\n","import { Icon, IconProps } from '@chakra-ui/react';\n\ninterface OptimismIconProps extends IconProps {\n  color?: string;\n  fill?: string;\n}\n\nexport const OptimismIcon = ({\n  width = '24px',\n  height = '24px',\n  color = 'white',\n  fill = '#FF0420',\n  ...props\n}: OptimismIconProps) => {\n  return (\n    <Icon width={width} height={height} viewBox=\"0 0 34 34\" {...props}>\n      <path\n        d=\"M17 34C26.3888 34 34 26.3888 34 17C34 7.61116 26.3888 0 17 0C7.61116 0 0 7.61116 0 17C0 26.3888 7.61116 34 17 34Z\"\n        fill={fill}\n      />\n      <path\n        d=\"M12.3295 21.76C11.3042 21.76 10.4641 21.5131 9.80918 21.0195C9.16298 20.5171 8.83984 19.8031 8.83984 18.8775C8.83984 18.6836 8.8614 18.4456 8.90444 18.1635C9.01651 17.5289 9.1759 16.7664 9.38269 15.8761C9.96858 13.452 11.4808 12.24 13.9193 12.24C14.5828 12.24 15.1773 12.3546 15.7029 12.5838C16.2285 12.8041 16.6421 13.1391 16.9437 13.5886C17.2453 14.0294 17.3961 14.5583 17.3961 15.1753C17.3961 15.3604 17.3745 15.594 17.3314 15.8761C17.2022 16.6606 17.0471 17.4231 16.8662 18.1635C16.5646 19.3711 16.0433 20.2747 15.3022 20.8741C14.5612 21.4647 13.5703 21.76 12.3295 21.76ZM12.5105 19.856C12.993 19.856 13.4023 19.7105 13.7384 19.4196C14.083 19.1288 14.3286 18.6836 14.4751 18.0842C14.6732 17.2556 14.824 16.5328 14.9274 15.9158C14.9619 15.7306 14.9791 15.5411 14.9791 15.3472C14.9791 14.5451 14.5699 14.144 13.7513 14.144C13.2688 14.144 12.8552 14.2894 12.5105 14.5803C12.1744 14.8712 11.9332 15.3164 11.7867 15.9158C11.6316 16.5064 11.4765 17.2291 11.3214 18.0842C11.287 18.2605 11.2697 18.4456 11.2697 18.6395C11.2697 19.4505 11.6833 19.856 12.5105 19.856Z\"\n        fill={color}\n      />\n      <path\n        d=\"M17.9895 21.6278C17.8947 21.6278 17.8215 21.597 17.7698 21.5352C17.7267 21.4647 17.7138 21.3854 17.731 21.2972L19.5146 12.7028C19.5318 12.6059 19.5792 12.5265 19.6568 12.4648C19.7344 12.4031 19.8162 12.3722 19.9024 12.3722H23.3404C24.2968 12.3722 25.0636 12.575 25.641 12.9805C26.2269 13.386 26.5199 13.9721 26.5199 14.739C26.5199 14.9594 26.494 15.1886 26.4423 15.4266C26.2269 16.4403 25.7918 17.1895 25.1369 17.6744C24.4907 18.1592 23.6031 18.4016 22.4744 18.4016H20.7295L20.135 21.2972C20.1178 21.3942 20.0704 21.4735 19.9928 21.5352C19.9153 21.597 19.8334 21.6278 19.7473 21.6278H17.9895ZM22.5648 16.5769C22.9267 16.5769 23.2412 16.4755 23.5084 16.2728C23.7841 16.0701 23.965 15.7792 24.0513 15.4001C24.0771 15.2503 24.09 15.1181 24.09 15.0035C24.09 14.7479 24.0168 14.5539 23.8703 14.4217C23.7238 14.2806 23.4739 14.2101 23.1206 14.2101H21.5697L21.0785 16.5769H22.5648Z\"\n        fill={color}\n      />\n    </Icon>\n  );\n};\n","import { Icon, IconProps } from '@chakra-ui/react';\n\ninterface DollarCircleProps extends IconProps {\n  fill?: string;\n}\n\nexport const DollarCircle = ({ width = '15px', height = '15px', ...props }: DollarCircleProps) => {\n  return (\n    <Icon width={width} height={height} viewBox=\"0 0 19 18\" fill=\"none\" {...props}>\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M9.79517 2.75357C6.44891 2.75357 3.73624 5.46625 3.73624 8.8125C3.73624 12.1588 6.44891 14.8714 9.79517 14.8714C13.1414 14.8714 15.8541 12.1588 15.8541 8.8125C15.8541 5.46625 13.1414 2.75357 9.79517 2.75357ZM2.48267 8.8125C2.48267 4.77392 5.75658 1.5 9.79517 1.5C13.8337 1.5 17.1077 4.77392 17.1077 8.8125C17.1077 12.8511 13.8337 16.125 9.79517 16.125C5.75658 16.125 2.48267 12.8511 2.48267 8.8125Z\"\n        fill=\"white\"\n      />\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M9.03962 7.48711C9.04452 7.25329 9.11127 7.15806 9.15621 7.11271C9.21551 7.05288 9.33009 6.98862 9.54225 6.95486C9.98435 6.88451 10.5823 6.98693 11.0758 7.11688L11.6819 7.27652L12.0011 6.06428L11.395 5.90465C10.8745 5.76757 10.0611 5.60296 9.34526 5.71686C8.97845 5.77523 8.57742 5.91591 8.26586 6.23026C7.94168 6.55735 7.78576 6.99985 7.78576 7.51481V7.53855L7.78756 7.56221C7.83275 8.15802 8.18724 8.55401 8.55492 8.8144C8.89199 9.05311 9.30983 9.22697 9.64735 9.36742C9.66009 9.37272 9.67272 9.37797 9.68522 9.38318C10.0665 9.54198 10.3494 9.6643 10.5455 9.80792C10.7181 9.93436 10.7353 10.0108 10.7353 10.0783C10.7353 10.3402 10.6583 10.4442 10.5979 10.4988C10.5171 10.5719 10.3654 10.6431 10.1066 10.6754C9.57934 10.741 8.8945 10.6119 8.39035 10.4769L7.7849 10.3148L7.4606 11.5257L8.06605 11.6878C8.59887 11.8305 9.48099 12.0165 10.2615 11.9193C10.6565 11.8701 11.0939 11.7404 11.4387 11.4286C11.8039 11.0983 11.9889 10.6336 11.9889 10.0783C11.9889 9.47293 11.6504 9.06337 11.2862 8.79661C10.9547 8.55379 10.534 8.37864 10.1954 8.23769C10.1859 8.23376 10.1765 8.22986 10.1672 8.22598C9.78653 8.06741 9.49239 7.94221 9.27941 7.79139C9.09878 7.66347 9.051 7.56996 9.03962 7.48711Z\"\n        fill=\"white\"\n      />\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M9.79517 11.0063C10.1413 11.0063 10.422 11.2869 10.422 11.633V13.2H9.16838V11.633C9.16838 11.2869 9.449 11.0063 9.79517 11.0063Z\"\n        fill=\"white\"\n      />\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M10.422 4.425V5.99196C10.422 6.33813 10.1413 6.61875 9.79517 6.61875C9.449 6.61875 9.16838 6.33813 9.16838 5.99196V4.425H10.422Z\"\n        fill=\"white\"\n      />\n    </Icon>\n  );\n};\n","import { Icon, IconProps } from '@chakra-ui/react';\n\ninterface BitcoinIconProps extends IconProps {\n  fill?: string;\n}\n\nexport const BitcoinIcon = ({ width = '42px', height = '42px' }: BitcoinIconProps) => {\n  return (\n    <Icon width={width} height={height} viewBox=\"0 0 42 42\" fill=\"none\">\n      <g clipPath=\"url(#a)\">\n        <path\n          fill=\"#F7931A\"\n          d=\"M21 42c11.598 0 21-9.402 21-21S32.598 0 21 0 0 9.402 0 21s9.402 21 21 21z\"\n        />\n        <path\n          fill=\"#fff\"\n          d=\"M30.436 18.401c.412-2.75-1.684-4.23-4.548-5.217l.93-3.727-2.269-.565-.905 3.63c-.596-.15-1.208-.29-1.818-.429l.912-3.652-2.268-.566-.93 3.726c-.493-.113-.978-.223-1.448-.341l.002-.012-3.129-.78-.603 2.422s1.684.386 1.648.41c.919.23 1.084.837 1.057 1.32l-1.058 4.246c.063.016.144.04.236.075l-.24-.06-1.483 5.949c-.113.278-.398.697-1.041.538.024.033-1.649-.41-1.649-.41l-1.126 2.595 2.953.737c.549.137 1.087.282 1.616.417l-.938 3.77 2.266.564.93-3.728c.62.167 1.22.322 1.808.469l-.926 3.712 2.268.564.938-3.762c3.87.733 6.778.438 8.002-3.062.987-2.816-.048-4.442-2.084-5.502 1.483-.34 2.599-1.316 2.897-3.33zM25.25 25.67c-.7 2.818-5.444 1.294-6.982.912l1.247-4.994c1.538.385 6.47 1.145 5.735 4.082zm.703-7.31c-.64 2.564-4.588 1.26-5.867.942l1.128-4.528c1.28.318 5.405.913 4.739 3.587z\"\n        />\n      </g>\n      <defs>\n        <clipPath id=\"a\">\n          <path fill=\"#fff\" d=\"M0 0h42v42H0z\" />\n        </clipPath>\n      </defs>\n    </Icon>\n  );\n};\n","import { EthereumIcon } from '../EthereumIcon';\nimport { OptimismIcon } from '../OptimismIcon';\nimport { SNXIcon } from '../SNXIcon';\nimport { DollarCircle } from '../DollarCircle';\nimport { Icon, IconProps } from '@chakra-ui/react';\nimport { BitcoinIcon } from '../BitcoinIcon';\n\ninterface CollateralIconProps extends IconProps {\n  symbol?: string;\n  fill?: string;\n  color?: string;\n}\nexport const CollateralIcon = ({\n  symbol,\n  fill = '#00D1FF',\n  color = '#FFFFFF',\n  ...props\n}: CollateralIconProps) => {\n  switch (symbol) {\n    case 'WETH':\n    case 'ETH':\n      return <EthereumIcon {...props} />;\n    case 'SNX':\n    case 'fSNX':\n      return <SNXIcon fill={fill} color={color} {...props} />;\n    case 'OP':\n      return <OptimismIcon {...props} />;\n    case 'sUSD':\n    case 'snxUSD':\n      return <DollarCircle {...props} />;\n    case 'WBTC':\n      return <BitcoinIcon {...props} />;\n    default:\n      return <UnknownIcon {...props} />;\n  }\n};\n\nexport const UnknownIcon = ({ width = '32px', height = '32px', ...props }: IconProps) => {\n  return (\n    <Icon width={width} height={height} viewBox=\"0 0 32 32\" fill=\"none\" {...props}>\n      <circle cx=\"16\" cy=\"16\" r=\"15\" fill=\"white\" stroke=\"white\" />\n      <path\n        d=\"M14.1156 19.2899V19.0472C14.1205 18.2147 14.1955 17.551 14.3408 17.0563C14.4908 16.5615 14.7087 16.1619 14.9944 15.8574C15.28 15.5529 15.6238 15.277 16.0257 15.0296C16.3258 14.8393 16.5946 14.6419 16.8318 14.4373C17.069 14.2328 17.2579 14.0068 17.3983 13.7594C17.5387 13.5073 17.6089 13.2266 17.6089 12.9174C17.6089 12.5891 17.529 12.3013 17.3692 12.0539C17.2095 11.8065 16.994 11.6162 16.7229 11.483C16.4566 11.3498 16.1612 11.2832 15.8368 11.2832C15.5221 11.2832 15.2244 11.3522 14.9435 11.4901C14.6627 11.6233 14.4327 11.8232 14.2536 12.0896C14.0745 12.3512 13.9776 12.6771 13.9631 13.0672H11C11.0242 12.1157 11.2566 11.3308 11.6972 10.7123C12.1378 10.0891 12.7212 9.62525 13.4475 9.32078C14.1737 9.01155 14.975 8.85693 15.8514 8.85693C16.8149 8.85693 17.667 9.01393 18.4078 9.32791C19.1485 9.63714 19.7295 10.0867 20.1508 10.6766C20.572 11.2665 20.7826 11.9778 20.7826 12.8103C20.7826 13.3669 20.6882 13.8617 20.4994 14.2946C20.3154 14.7228 20.0564 15.1034 19.7223 15.4364C19.3882 15.7646 18.9936 16.062 18.5385 16.3284C18.156 16.552 17.8413 16.7851 17.5944 17.0277C17.3523 17.2703 17.1707 17.551 17.0497 17.8698C16.9335 18.1885 16.873 18.581 16.8681 19.0472V19.2899H14.1156ZM15.5536 23.8569C15.0694 23.8569 14.6555 23.6904 14.3117 23.3574C13.9728 23.0196 13.8058 22.6153 13.8106 22.1443C13.8058 21.6781 13.9728 21.2784 14.3117 20.9454C14.6555 20.6124 15.0694 20.4459 15.5536 20.4459C16.0136 20.4459 16.4178 20.6124 16.7664 20.9454C17.115 21.2784 17.2918 21.6781 17.2966 22.1443C17.2918 22.4583 17.207 22.7461 17.0424 23.0077C16.8826 23.2646 16.672 23.4716 16.4106 23.6286C16.1491 23.7808 15.8635 23.8569 15.5536 23.8569Z\"\n        fill=\"#06061B\"\n      />\n    </Icon>\n  );\n};\n","import { Icon, IconProps } from '@chakra-ui/react';\n\nexport const ChevronDown = ({ width = '20px', height = '20px', ...props }: IconProps) => {\n  return (\n    <Icon width={width} height={height} color=\"cyan.400\" viewBox=\"0 0 20 20\" fill=\"none\" {...props}>\n      <path\n        d=\"M9.99962 10.9766L14.1246 6.85156L15.303 8.0299L9.99962 13.3332L4.69629 8.0299L5.87462 6.85156L9.99962 10.9766Z\"\n        fill=\"currentColor\"\n      />\n    </Icon>\n  );\n};\n","import { Icon, IconProps } from '@chakra-ui/react';\n\nexport const ChevronUp = ({ width = '20px', height = '20px', ...props }: IconProps) => {\n  return (\n    <Icon width={width} height={height} color=\"cyan.400\" viewBox=\"0 0 25 24\" fill=\"none\" {...props}>\n      <path\n        d=\"M12.3564 10.828L7.40643 15.778L5.99243 14.364L12.3564 8L18.7204 14.364L17.3064 15.778L12.3564 10.828Z\"\n        fill=\"currentColor\"\n      />\n    </Icon>\n  );\n};\n","import { Icon, IconProps } from '@chakra-ui/react';\n\nexport const FailedIcon = ({ width = '94px', height = '94px' }: IconProps) => {\n  return (\n    <Icon width={width} height={height} viewBox=\"0 0 94 94\" fill=\"none\">\n      <g filter=\"url(#filter0_d_1044_28165)\">\n        <path\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n          d=\"M47 76.3333C63.2004 76.3333 76.3333 63.2004 76.3333 47C76.3333 30.7996 63.2004 17.6667 47 17.6667C30.7996 17.6667 17.6667 30.7996 17.6667 47C17.6667 63.2004 30.7996 76.3333 47 76.3333ZM47 79C64.6731 79 79 64.6731 79 47C79 29.3269 64.6731 15 47 15C29.3269 15 15 29.3269 15 47C15 64.6731 29.3269 79 47 79Z\"\n          fill=\"#FF4A60\"\n        />\n      </g>\n      <g filter=\"url(#filter1_d_1044_28165)\">\n        <path\n          d=\"M56.3334 39.5466L54.4534 37.6666L47.0001 45.12L39.5467 37.6666L37.6667 39.5466L45.1201 47L37.6667 54.4533L39.5467 56.3333L47.0001 48.88L54.4534 56.3333L56.3334 54.4533L48.8801 47L56.3334 39.5466Z\"\n          fill=\"#FF4A60\"\n        />\n      </g>\n      <defs>\n        <filter\n          id=\"filter0_d_1044_28165\"\n          x=\"0\"\n          y=\"0\"\n          width=\"94\"\n          height=\"94\"\n          filterUnits=\"userSpaceOnUse\"\n          colorInterpolationFilters=\"sRGB\"\n        >\n          <feFlood floodOpacity=\"0\" result=\"BackgroundImageFix\" />\n          <feColorMatrix\n            in=\"SourceAlpha\"\n            type=\"matrix\"\n            values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n            result=\"hardAlpha\"\n          />\n          <feOffset />\n          <feGaussianBlur stdDeviation=\"7.5\" />\n          <feColorMatrix\n            type=\"matrix\"\n            values=\"0 0 0 0 1 0 0 0 0 0.116667 0 0 0 0 0.222667 0 0 0 0.6 0\"\n          />\n          <feBlend mode=\"normal\" in2=\"BackgroundImageFix\" result=\"effect1_dropShadow_1044_28165\" />\n          <feBlend\n            mode=\"normal\"\n            in=\"SourceGraphic\"\n            in2=\"effect1_dropShadow_1044_28165\"\n            result=\"shape\"\n          />\n        </filter>\n        <filter\n          id=\"filter1_d_1044_28165\"\n          x=\"22.6667\"\n          y=\"22.6666\"\n          width=\"48.6667\"\n          height=\"48.6666\"\n          filterUnits=\"userSpaceOnUse\"\n          colorInterpolationFilters=\"sRGB\"\n        >\n          <feFlood floodOpacity=\"0\" result=\"BackgroundImageFix\" />\n          <feColorMatrix\n            in=\"SourceAlpha\"\n            type=\"matrix\"\n            values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n            result=\"hardAlpha\"\n          />\n          <feOffset />\n          <feGaussianBlur stdDeviation=\"7.5\" />\n          <feColorMatrix\n            type=\"matrix\"\n            values=\"0 0 0 0 1 0 0 0 0 0.116667 0 0 0 0 0.222667 0 0 0 0.6 0\"\n          />\n          <feBlend mode=\"normal\" in2=\"BackgroundImageFix\" result=\"effect1_dropShadow_1044_28165\" />\n          <feBlend\n            mode=\"normal\"\n            in=\"SourceGraphic\"\n            in2=\"effect1_dropShadow_1044_28165\"\n            result=\"shape\"\n          />\n        </filter>\n      </defs>\n    </Icon>\n  );\n};\n","import { Icon, IconProps } from '@chakra-ui/react';\n\nexport const WalletIcon = ({\n  width = '20px',\n  height = '20ox',\n  color = 'whiteAlpha.700',\n  ...props\n}: IconProps) => {\n  return (\n    <Icon width={width} color={color} height={height} viewBox=\"0 0 20 20\" fill=\"none\" {...props}>\n      <path\n        d=\"M6.58154 6.2701C6.23637 6.2701 5.95654 6.54993 5.95654 6.8951C5.95654 7.24028 6.23637 7.5201 6.58154 7.5201H10.3101C10.6553 7.5201 10.9351 7.24028 10.9351 6.8951C10.9351 6.54993 10.6553 6.2701 10.3101 6.2701H6.58154Z\"\n        fill=\"currentColor\"\n      />\n      <path\n        d=\"M13.972 9.10498C13.6268 9.10498 13.347 9.38481 13.347 9.72998C13.347 10.0752 13.6268 10.355 13.972 10.355H14.1873C14.5324 10.355 14.8123 10.0752 14.8123 9.72998C14.8123 9.38481 14.5324 9.10498 14.1873 9.10498H13.972Z\"\n        fill=\"currentColor\"\n      />\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M17.2918 11.6311L17.2916 11.6447V12.3416C17.2916 14.6883 15.3892 16.5907 13.0426 16.5907H7.07331C4.72664 16.5907 2.82422 14.6883 2.82422 12.3416V7.38508C2.82422 5.0384 4.72664 3.13599 7.07331 3.13599H13.0426C15.3892 3.13599 17.2916 5.0384 17.2916 7.38508V7.90016L17.2918 7.91382L17.2916 7.92747V11.6174L17.2918 11.6311ZM7.07331 4.38599C5.41699 4.38599 4.07422 5.72876 4.07422 7.38508V12.3416C4.07422 13.9979 5.41699 15.3407 7.07331 15.3407H13.0426C14.6989 15.3407 16.0416 13.9979 16.0416 12.3416V12.2561H13.871C12.4998 12.2552 11.3876 11.1445 11.3867 9.77282C11.3867 8.40047 12.4998 7.28966 13.8706 7.28882H16.0401C15.9893 5.67705 14.6667 4.38599 13.0426 4.38599H7.07331ZM13.8714 11.0061H16.0416V8.53882H13.8712C13.1891 8.53932 12.6369 9.09162 12.6367 9.77223C12.6372 10.4535 13.1895 11.0056 13.8714 11.0061Z\"\n        fill=\"currentColor\"\n      />\n    </Icon>\n  );\n};\n","import { Icon, IconProps } from '@chakra-ui/react';\n\nexport const LogoIcon = ({ color = 'cyan.400' }: IconProps) => {\n  return (\n    <Icon width=\"29\" height=\"21\" viewBox=\"0 0 29 21\" fill=\"none\" color={color}>\n      <path\n        d=\"M6.81239 5.45766C6.61525 5.22805 6.37254 5.11297 6.08372 5.11297H0.177C0.124536 5.11297 0.0816109 5.09606 0.0492845 5.06224C0.0164282 5.02898 0 4.99134 0 4.95098V0.89807C0 0.85771 0.0164282 0.820622 0.0492845 0.786807C0.0816109 0.752992 0.124536 0.736084 0.177 0.736084H6.41864C7.99362 0.736084 9.35239 1.39166 10.4944 2.70173L12.0106 4.58611L9.05721 8.25396L6.81239 5.45766ZM17.7207 2.68155C18.8627 1.38457 20.2278 0.736084 21.8161 0.736084H28.0381C28.0906 0.736084 28.1298 0.749719 28.1563 0.776444C28.1822 0.803714 28.1955 0.844074 28.1955 0.89807V4.95098C28.1955 4.99134 28.1822 5.02898 28.1563 5.06224C28.1298 5.09606 28.0906 5.11297 28.0381 5.11297H22.1314C21.8426 5.11297 21.5998 5.22805 21.4027 5.45766L17.0514 10.8479L21.4223 16.2785C21.6195 16.495 21.8553 16.603 22.1314 16.603H28.0381C28.0906 16.603 28.1298 16.6199 28.1563 16.6538C28.1822 16.6876 28.1955 16.7318 28.1955 16.7852V20.8381C28.1955 20.8785 28.1822 20.9161 28.1563 20.9494C28.1298 20.9832 28.0906 21.0001 28.0381 21.0001H21.8161C20.2278 21.0001 18.8691 20.3451 17.7403 19.0345L14.1176 14.5359L10.4944 19.0345C9.35239 20.3451 7.98727 21.0001 6.39903 21.0001H0.177C0.124536 21.0001 0.0847905 20.9832 0.0588234 20.9494C0.0323264 20.9156 0.0196078 20.8719 0.0196078 20.8174V16.7645C0.0196078 16.7241 0.0323264 16.687 0.0588234 16.6532C0.0847905 16.6194 0.124536 16.6025 0.177 16.6025H6.08372C6.35929 16.6025 6.602 16.488 6.81239 16.2578L11.0848 10.9488L17.7207 2.68155Z\"\n        fill=\"currentColor\"\n      />\n    </Icon>\n  );\n};\n","import { Icon, IconProps } from '@chakra-ui/react';\n\ninterface BorrowIconProps extends IconProps {\n  fill?: string;\n}\n\nexport const BorrowIcon = ({ width = '15px', height = '15px', ...props }: BorrowIconProps) => {\n  return (\n    <Icon width={width} height={height} viewBox=\"0 0 18 18\" fill=\"none\" {...props}>\n      <svg\n        width=\"18\"\n        height=\"18\"\n        viewBox=\"0 0 18 18\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <path\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n          d=\"M5.48247 2.4375C4.94851 2.4375 4.51566 2.87036 4.51566 3.40431V5.43752H3.21022C2.67626 5.43752 2.24341 5.87038 2.24341 6.40434V8.59571C2.24341 9.12967 2.67626 9.56252 3.21022 9.56252H4.75822V11.4382C4.24137 11.4576 3.82831 11.8827 3.82831 12.4043V14.5957C3.82831 15.1296 4.26117 15.5625 4.79512 15.5625H13.8598C14.3938 15.5625 14.8266 15.1296 14.8266 14.5957V12.5618C15.3435 12.5424 15.7565 12.1173 15.7565 11.5957V9.40431C15.7565 8.87036 15.3237 8.4375 14.7897 8.4375H13.2417V6.5625H14.5472C15.0811 6.5625 15.514 6.12964 15.514 5.59569V3.40431C15.514 2.87036 15.0811 2.4375 14.5472 2.4375H5.48247ZM5.64066 5.4375V3.5625H14.389V5.4375H5.64066ZM3.36841 6.56252V8.43752H5.71853L5.72504 8.4375H12.1167V6.56252H3.36841ZM5.88322 11.4375V9.56252H12.2749L12.2814 9.5625H14.6315V11.4375H5.88322ZM4.95331 14.4375V12.5625H13.7016V14.4375H4.95331Z\"\n          fill=\"white\"\n        />\n      </svg>\n    </Icon>\n  );\n};\n","import { Icon, IconProps } from '@chakra-ui/react';\n\nexport const CCIP = ({ width = '119px', height = '33px', ...props }: IconProps) => {\n  return (\n    <Icon width={width} height={height} fill=\"none\" viewBox=\"0 0 119 33\" {...props}>\n      <path\n        d=\"M116.41.7H3.436C2.117.7 1.049 1.757 1.049 3.06v26.88c0 1.303 1.068 2.36 2.387 2.36H116.41c1.319 0 2.388-1.056 2.388-2.36V3.06c0-1.303-1.069-2.36-2.388-2.36Z\"\n        fill=\"#000\"\n      />\n      <path\n        d=\"M116.41.9c1.206 0 2.185.968 2.185 2.16v26.88c0 1.192-.979 2.16-2.185 2.16H3.436c-1.206 0-2.185-.968-2.185-2.16V3.06C1.25 1.868 2.23.9 3.436.9H116.41Zm0-.4H3.436C2.007.5.846 1.648.846 3.06v26.88c0 1.412 1.161 2.56 2.59 2.56H116.41c1.429 0 2.59-1.148 2.59-2.56V3.06c0-1.412-1.161-2.56-2.59-2.56Z\"\n        fill=\"#fff\"\n      />\n      <path\n        d=\"m15.55 7.268-8.092 4.616v9.232l8.092 4.616 8.093-4.616v-9.232L15.55 7.268Zm4.662 11.892-4.662 2.66-4.661-2.66v-5.32l4.661-2.66 4.662 2.66v5.32Z\"\n        fill=\"#fff\"\n      />\n      <path\n        d=\"M32.877 20.96c-.036-.212-.214-.544-.708-.544-.368 0-.611.232-.611.488 0 .212.138.38.425.436l.546.104c.708.136 1.089.592 1.089 1.136 0 .592-.502 1.192-1.409 1.192-1.035 0-1.493-.66-1.553-1.208l.704-.184c.032.38.303.724.854.724.408 0 .63-.2.63-.472 0-.224-.17-.396-.473-.456l-.546-.108c-.623-.124-1.024-.524-1.024-1.104 0-.684.623-1.208 1.36-1.208.947 0 1.311.564 1.396 1l-.684.208.004-.004Z\"\n        fill=\"#fff\"\n      />\n      <path\n        d=\"M34.641 23.692v-3.856h2.444v.708h-1.683v.88h1.525v.668h-1.525v.892h1.683v.708h-2.444Z\"\n        fill=\"#fff\"\n      />\n      <path\n        d=\"M37.987 21.768c0-1.228.943-2.012 1.987-2.012s1.635.652 1.789 1.28l-.716.224c-.093-.368-.397-.776-1.073-.776-.582 0-1.197.412-1.197 1.288 0 .82.582 1.272 1.21 1.272.667 0 .99-.428 1.096-.788l.708.212c-.15.592-.708 1.312-1.805 1.312-1.096 0-1.998-.776-1.998-2.008v-.004Z\"\n        fill=\"#fff\"\n      />\n      <path\n        d=\"M42.739 22.328v-2.492h.76v2.436c0 .504.288.772.737.772s.744-.268.744-.772v-2.436h.761v2.492c0 .948-.667 1.452-1.501 1.452-.834 0-1.497-.504-1.497-1.452h-.004Z\"\n        fill=\"#fff\"\n      />\n      <path\n        d=\"M48.136 22.208h-.396v1.484h-.765v-3.856h1.526c.76 0 1.242.516 1.242 1.184 0 .54-.32.948-.83 1.092l.838 1.576h-.846l-.765-1.484-.004.004Zm.219-.648c.384 0 .61-.216.61-.532 0-.316-.226-.54-.61-.54h-.615v1.072h.615Z\"\n        fill=\"#fff\"\n      />\n      <path\n        d=\"M50.798 23.692v-3.856h2.444v.708H51.56v.88h1.526v.668h-1.526v.892h1.683v.708h-2.444Z\"\n        fill=\"#fff\"\n      />\n      <path\n        d=\"M54.388 23.692v-3.856h1.396c1.113 0 1.926.712 1.926 1.932s-.821 1.924-1.93 1.924h-1.392Zm1.364-.696c.64 0 1.173-.392 1.173-1.228s-.53-1.236-1.165-1.236h-.611v2.464h.607-.004Z\"\n        fill=\"#fff\"\n      />\n      <path\n        d=\"M64.864 19.836h.777l-1.08 3.856h-.782l-.89-2.748-.89 2.748h-.793l-1.085-3.856h.806l.716 2.656.866-2.656h.785l.87 2.664.704-2.664h-.004Z\"\n        fill=\"#fff\"\n      />\n      <path d=\"M66.538 23.692v-3.856h.77v3.856h-.77Z\" fill=\"#fff\" />\n      <path d=\"M70.225 20.548v3.144h-.765v-3.144h-1.234v-.712h3.229v.712h-1.234.004Z\" fill=\"#fff\" />\n      <path\n        d=\"M74.834 23.692v-1.6h-1.7v1.6h-.76v-3.856h.76v1.552h1.7v-1.552h.764v3.856h-.764Z\"\n        fill=\"#fff\"\n      />\n      <path\n        d=\"M78.391 21.768c0-1.228.943-2.012 1.987-2.012s1.635.652 1.788 1.28l-.716.224c-.093-.368-.396-.776-1.072-.776-.583 0-1.198.412-1.198 1.288 0 .82.583 1.272 1.21 1.272.668 0 .991-.428 1.097-.788l.708.212c-.15.592-.708 1.312-1.805 1.312s-1.999-.776-1.999-2.008v-.004Z\"\n        fill=\"#fff\"\n      />\n      <path\n        d=\"M85.67 23.692v-1.6h-1.699v1.6h-.76v-3.856h.76v1.552h1.7v-1.552h.764v3.856h-.764Z\"\n        fill=\"#fff\"\n      />\n      <path\n        d=\"M90.036 22.812H88.45l-.324.88h-.805l1.497-3.856h.882l1.485 3.856h-.825l-.324-.88Zm-1.331-.684h1.08l-.538-1.456-.538 1.456h-.004Z\"\n        fill=\"#fff\"\n      />\n      <path d=\"M92.072 23.692v-3.856h.769v3.856h-.77Z\" fill=\"#fff\" />\n      <path\n        d=\"m96.648 23.692-1.773-2.736v2.736h-.76v-3.856h.947l1.622 2.552v-2.552h.76v3.856h-.796Z\"\n        fill=\"#fff\"\n      />\n      <path d=\"M98.723 23.692v-3.856h.76v3.14h1.741v.716h-2.501Z\" fill=\"#fff\" />\n      <path d=\"M102.192 23.692v-3.856h.769v3.856h-.769Z\" fill=\"#fff\" />\n      <path\n        d=\"m106.768 23.692-1.772-2.736v2.736h-.761v-3.856h.947l1.622 2.552v-2.552h.761v3.856h-.797Z\"\n        fill=\"#fff\"\n      />\n      <path\n        d=\"m110.086 22.092-.486.528v1.072h-.761v-3.856h.761v1.748l1.562-1.748h.995l-1.545 1.68 1.557 2.176h-.95l-1.133-1.6Z\"\n        fill=\"#fff\"\n      />\n      <path\n        d=\"M30.842 12.352c0-2.024 1.55-3.316 3.274-3.316 1.723 0 2.69 1.076 2.945 2.104l-1.177.368c-.154-.608-.651-1.28-1.768-1.28-.96 0-1.975.68-1.975 2.124 0 1.352.959 2.096 1.995 2.096 1.096 0 1.63-.708 1.805-1.3l1.169.348c-.247.976-1.17 2.16-2.974 2.16-1.805 0-3.29-1.28-3.29-3.308l-.004.004Z\"\n        fill=\"#fff\"\n      />\n      <path\n        d=\"M40.514 12.299a1.778 1.778 0 0 0-.365-.036c-.615 0-1.149.296-1.149 1.244v2.016h-1.206v-4.408h1.17v.656c.27-.584.886-.688 1.27-.688.101 0 .19.008.28.016v1.2Z\"\n        fill=\"#fff\"\n      />\n      <path\n        d=\"M45.478 13.32c0 1.351-1.008 2.34-2.339 2.34s-2.339-.985-2.339-2.34c0-1.357 1.008-2.34 2.339-2.34s2.339.975 2.339 2.34Zm-1.206 0c0-.833-.542-1.257-1.133-1.257-.59 0-1.133.42-1.133 1.256 0 .836.542 1.256 1.133 1.256.59 0 1.133-.42 1.133-1.256Z\"\n        fill=\"#fff\"\n      />\n      <path\n        d=\"M46.902 14.071c.029.348.292.672.818.672.4 0 .59-.208.59-.44 0-.196-.137-.36-.481-.432l-.59-.136c-.863-.188-1.251-.7-1.251-1.316 0-.788.708-1.444 1.667-1.444 1.27 0 1.695.796 1.748 1.272l-1.008.224c-.036-.26-.226-.592-.732-.592-.316 0-.57.188-.57.44 0 .216.161.348.408.396l.635.136c.878.18 1.323.708 1.323 1.352 0 .716-.562 1.452-1.731 1.452-1.344 0-1.805-.86-1.858-1.36l1.032-.224Z\"\n        fill=\"#fff\"\n      />\n      <path\n        d=\"M50.9 14.071c.029.348.292.672.818.672.4 0 .59-.208.59-.44 0-.196-.137-.36-.481-.432l-.59-.136c-.863-.188-1.251-.7-1.251-1.316 0-.788.708-1.444 1.667-1.444 1.27 0 1.695.796 1.748 1.272l-1.008.224c-.036-.26-.226-.592-.732-.592-.316 0-.57.188-.57.44 0 .216.161.348.408.396l.636.136c.878.18 1.323.708 1.323 1.352 0 .716-.563 1.452-1.732 1.452-1.34 0-1.805-.86-1.858-1.36l1.032-.224Z\"\n        fill=\"#fff\"\n      />\n      <path d=\"M54.007 13.392v-1.056h2.63v1.056h-2.63Z\" fill=\"#fff\" />\n      <path\n        d=\"M57.216 12.352c0-2.024 1.55-3.316 3.274-3.316 1.723 0 2.69 1.076 2.945 2.104l-1.177.368c-.154-.608-.652-1.28-1.768-1.28-.96 0-1.975.68-1.975 2.124 0 1.352.96 2.096 1.995 2.096 1.096 0 1.63-.708 1.805-1.3l1.169.348c-.247.976-1.17 2.16-2.974 2.16-1.805 0-3.29-1.28-3.29-3.308l-.004.004Z\"\n        fill=\"#fff\"\n      />\n      <path\n        d=\"M65.366 15.524H64.16V9.036h1.206v2.448c.292-.34.781-.484 1.206-.484 1.133 0 1.66.78 1.66 1.748v2.776h-1.207v-2.572c0-.492-.242-.88-.825-.88-.506 0-.805.376-.834.86v2.592Z\"\n        fill=\"#fff\"\n      />\n      <path\n        d=\"m70.33 12.987 1.097-.16c.255-.036.336-.16.336-.312 0-.312-.247-.572-.752-.572-.506 0-.818.332-.854.716l-1.069-.224c.073-.692.717-1.452 1.915-1.452 1.412 0 1.938.788 1.938 1.676v2.168c0 .232.028.548.052.7H71.89a2.866 2.866 0 0 1-.045-.528c-.226.348-.651.656-1.315.656-.95 0-1.533-.636-1.533-1.328 0-.788.59-1.228 1.33-1.336l.005-.004Zm1.433.752v-.196l-1.007.152c-.308.044-.555.216-.555.556 0 .26.19.512.579.512.506 0 .98-.24.98-1.02l.003-.004Z\"\n        fill=\"#fff\"\n      />\n      <path\n        d=\"M74.576 8.931a.74.74 0 0 1 .745.744c0 .412-.328.724-.745.724a.736.736 0 0 1-.745-.724c0-.392.336-.744.745-.744Zm-.599 6.597v-4.409h1.206v4.409h-1.206Z\"\n        fill=\"#fff\"\n      />\n      <path\n        d=\"M77.493 15.523h-1.206v-4.408h1.17v.548c.271-.456.805-.664 1.287-.664 1.104 0 1.614.78 1.614 1.748v2.776h-1.206V12.95c0-.492-.246-.88-.825-.88-.526 0-.834.404-.834.912v2.54Z\"\n        fill=\"#fff\"\n      />\n    </Icon>\n  );\n};\n","import { Icon, IconProps } from '@chakra-ui/react';\n\ninterface BaseIconProps extends IconProps {\n  fill?: string;\n}\n\nexport const BaseIcon = ({\n  width = '24px',\n  height = '24px',\n  fill = '#0052FF',\n  ...props\n}: BaseIconProps) => {\n  return (\n    <Icon width={width} height={height} viewBox=\"0 0 111 111\" {...props}>\n      <path\n        d=\"M54.921 110.034C85.359 110.034 110.034 85.402 110.034 55.017C110.034 24.6319 85.359 0 54.921 0C26.0432 0 2.35281 22.1714 0 50.3923H72.8467V59.6416H3.9565e-07C2.35281 87.8625 26.0432 110.034 54.921 110.034Z\"\n        fill={fill}\n      />\n    </Icon>\n  );\n};\n","import Wei, { wei } from '@synthetixio/wei';\nimport React, { createContext, useState, PropsWithChildren, Dispatch, SetStateAction } from 'react';\n\nexport const ManagePositionContext = createContext<{\n  collateralChange: Wei;\n  debtChange: Wei;\n  setDebtChange: Dispatch<SetStateAction<Wei>>;\n  setCollateralChange: Dispatch<SetStateAction<Wei>>;\n}>({\n  collateralChange: wei(0),\n  debtChange: wei(0),\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\n  setDebtChange: () => {},\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\n  setCollateralChange: () => {},\n});\n\nexport const ManagePositionProvider: React.FC<PropsWithChildren> = ({ children }) => {\n  const [debtChange, setDebtChange] = useState(wei(0));\n  const [collateralChange, setCollateralChange] = useState(wei(0));\n\n  return (\n    <ManagePositionContext.Provider\n      value={{ debtChange, setDebtChange, collateralChange, setCollateralChange }}\n    >\n      {children}\n    </ManagePositionContext.Provider>\n  );\n};\n","export const GWEI_DECIMALS = 9;\nexport const GAS_LIMIT_MULTIPLIER = 1.5;\n\nexport const DEFAULT_QUERY_REFRESH_INTERVAL = 600_000; // 10min\nexport const DEFAULT_QUERY_STALE_TIME = 300_000; // 5min\n\nexport const INFURA_KEY = '3fed4f20a42a4302b7e9f15a2288f6a4';\nexport const ONBOARD_KEY = 'sec_jykTuCK0ZuqXWf3wNYqizxs2';\n\nexport const getSubgraphUrl = (networkName = 'optimism-mainnet') => {\n  switch (networkName) {\n    case 'base-goerli':\n      return 'https://subgraph.satsuma-prod.com/ce5e03f52f3b/synthetix/synthetix-base-testnet/api';\n    default:\n      return `https://api.thegraph.com/subgraphs/name/snx-v3/${networkName}`;\n  }\n};\n\nexport const SESSION_STORAGE_KEYS = {\n  TERMS_CONDITIONS_ACCEPTED: 'TERMS_CONDITIONS_ACCEPTED',\n};\nexport const offchainMainnetEndpoint =\n  process.env.PYTH_MAINNET_ENDPOINT || 'https://xc-mainnet.pyth.network';\nexport const offchainTestnetEndpoint =\n  process.env.PYTH_TESTNET_ENDPOINT || 'https://xc-testnet.pyth.network';\n","import { offchainMainnetEndpoint, offchainTestnetEndpoint } from '@snx-v3/constants';\nimport { EvmPriceServiceConnection } from '@pythnetwork/pyth-evm-js';\nimport { ethers, PopulatedTransaction, BigNumber } from 'ethers';\nimport { Wei } from '@synthetixio/wei';\n\nexport const fetchPriceUpdates = async (\n  requestedPriceUpdates: { priceFeedId: string; stalenessTolerance: Wei }[],\n  isTestnet: boolean\n) => {\n  if (requestedPriceUpdates.length === 0) return [];\n  const priceService = new EvmPriceServiceConnection(\n    isTestnet ? offchainTestnetEndpoint : offchainMainnetEndpoint\n  );\n  const signedPricesData = await priceService.getPriceFeedsUpdateData(\n    requestedPriceUpdates.map(({ priceFeedId }) => priceFeedId)\n  );\n\n  return signedPricesData.map((signedOffchainData, i) => {\n    const updateType = 1; // todo can I fetch this?\n\n    const { priceFeedId, stalenessTolerance } = requestedPriceUpdates[i];\n    return ethers.utils.defaultAbiCoder.encode(\n      ['uint8', 'uint64', 'bytes32[]', 'bytes[]'],\n      [updateType, stalenessTolerance.toBN(), [priceFeedId], [signedOffchainData]]\n    );\n  });\n};\n\nexport const priceUpdatesToPopulatedTx = (\n  from: string,\n  oracleAddresses: { address: string }[],\n  signedOffchainData: string[]\n) => {\n  if (oracleAddresses.length !== signedOffchainData.length) {\n    throw new Error('oracleAddresses and signedOffchainData must be the same length');\n  }\n  return signedOffchainData.map((signedOffchainDatum, i) => {\n    const tx: PopulatedTransaction = {\n      to: oracleAddresses[i].address,\n      from: from,\n      data: new ethers.utils.Interface([\n        'function fulfillOracleQuery(bytes calldata signedOffchainData) payable external',\n      ]).encodeFunctionData('fulfillOracleQuery', [signedOffchainDatum]),\n      // We set the value to 1 wei to avoid FeeRequired error from pyth, it's quite nice that their fee seems to be the lowest denominator on every network.\n      // If this ever changes, things wont break, but become slower.\n      value: BigNumber.from(1),\n    };\n    return tx;\n  });\n};\n","import { BigNumberish, utils } from 'ethers';\nimport { wei, WeiSource } from '@synthetixio/wei';\n\nexport const formatValue = (value: BigNumberish, decimals = 18) =>\n  parseFloat(utils.formatUnits(value, decimals));\n\nexport const parseUnits = (value: WeiSource, decimals = 18) => wei(value, decimals).toBN();\n\nexport const compareAddress = (add1: string | null = '', add2: string | null = '') =>\n  !!add1 && !!add2 && add1.toLowerCase() === add2.toLowerCase();\n\nexport const prettyString = (text: string, startLength = 6, endLength = 4) => {\n  if (text.length <= startLength + endLength) {\n    return text;\n  }\n  return `${text.substring(0, startLength)}...${text.substring(text.length - endLength)}`;\n};\n","import { Wei } from '@synthetixio/wei';\n\nexport function currency(\n  value: Wei,\n  options?: Intl.NumberFormatOptions,\n  minimumDigitsToShowAfterZeros = 2\n) {\n  try {\n    const stringValue = value.toString();\n    const numberValue = value.toNumber();\n\n    const decimals =\n      numberValue < 0\n        ? -numberValue - Math.floor(-numberValue)\n        : numberValue - Math.floor(numberValue);\n    const zeroDecimals = decimals !== 0 ? -Math.floor(Math.log10(decimals) + 1) : 0;\n\n    const maximumFractionDigits = zeroDecimals + minimumDigitsToShowAfterZeros;\n\n    return isNaN(numberValue)\n      ? stringValue\n      : numberValue.toLocaleString('en-US', {\n          minimumFractionDigits: 0,\n          maximumFractionDigits,\n          ...options,\n        });\n  } catch (error) {\n    return value + '';\n  }\n}\n","// This is a type guard function that checks if a value is not null and not undefined.\n// This is useful when filtering an array that might have null or undefined values.\nexport const notNil = <T>(x: T | null | undefined): x is T => x !== null && x !== undefined;\n","export type TransactionStatus = 'unsent' | 'prompting' | 'pending' | 'success' | 'error';\n\ntype TxnState = {\n  error: Error | null;\n  modalOpen: boolean;\n  txnStatus: TransactionStatus;\n  txnHash: string | null;\n};\n\nexport const initialState: TxnState = {\n  error: null,\n  modalOpen: false,\n  txnStatus: 'unsent',\n  txnHash: null,\n};\n\nexport type Actions =\n  | { type: 'prompting' }\n  | { type: 'pending'; payload: { txnHash: string } }\n  | { type: 'success' }\n  | { type: 'error'; payload: { error: Error } }\n  | { type: 'settled' };\n\nexport function reducer(state: TxnState, action: Actions): TxnState {\n  switch (action.type) {\n    case 'prompting':\n      return {\n        ...state,\n        txnStatus: 'prompting',\n        modalOpen: true,\n        error: null,\n      };\n\n    case 'pending':\n      return {\n        ...state,\n        txnStatus: 'pending',\n        txnHash: action.payload.txnHash,\n      };\n\n    case 'success':\n      return {\n        ...state,\n        txnStatus: 'success',\n      };\n\n    case 'error':\n      return {\n        ...state,\n        txnStatus: 'error',\n        error: action.payload.error,\n      };\n\n    case 'settled':\n      return {\n        ...state,\n        modalOpen: false,\n        txnStatus: 'unsent',\n        error: null,\n        txnHash: null,\n      };\n\n    default:\n      return state;\n  }\n}\n","import { Contract } from '@ethersproject/contracts';\nimport { useQuery } from '@tanstack/react-query';\nimport { useNetwork, useProvider, useSigner } from '@snx-v3/useBlockchain';\nimport { OracleManagerProxyType, importOracleManagerProxy } from '@synthetixio/v3-contracts';\n\nexport function useOracleManagerProxy() {\n  const network = useNetwork();\n  const provider = useProvider();\n  const signer = useSigner();\n  const signerOrProvider = signer || provider;\n  const withSigner = Boolean(signer);\n\n  return useQuery({\n    queryKey: [`${network.id}-${network.preset}`, 'OracleManagerProxy', { withSigner }],\n    queryFn: async function () {\n      const { address, abi } = await importOracleManagerProxy(network.id, network.preset);\n      return new Contract(address, abi, signerOrProvider) as OracleManagerProxyType;\n    },\n    enabled: Boolean(signerOrProvider),\n    staleTime: Infinity,\n    cacheTime: Infinity,\n  });\n}\n","// !!! DO NOT EDIT !!! Automatically generated file\n\nimport type { OracleManagerProxy as OracleManagerProxy1Main } from './1/OracleManagerProxy';\nimport type { OracleManagerProxy as OracleManagerProxy5Main } from './5/OracleManagerProxy';\nimport type { OracleManagerProxy as OracleManagerProxy10Main } from './10/OracleManagerProxy';\nimport type { OracleManagerProxy as OracleManagerProxy420Main } from './420/OracleManagerProxy';\nimport type { OracleManagerProxy as OracleManagerProxy11155111Main } from './11155111/OracleManagerProxy';\nimport type { OracleManagerProxy as OracleManagerProxy84531Main } from './84531/OracleManagerProxy';\nimport type { OracleManagerProxy as OracleManagerProxy84531Competition } from './84531-competition/OracleManagerProxy';\n\nexport type OracleManagerProxyType =\n  | OracleManagerProxy1Main\n  | OracleManagerProxy5Main\n  | OracleManagerProxy10Main\n  | OracleManagerProxy420Main\n  | OracleManagerProxy11155111Main\n  | OracleManagerProxy84531Main\n  | OracleManagerProxy84531Competition;\n\nexport async function importOracleManagerProxy(chainId: number, preset: string = 'main') {\n  switch (`${chainId}-${preset}`) {\n    case '1-main':\n      return import('./1/OracleManagerProxy');\n    case '5-main':\n      return import('./5/OracleManagerProxy');\n    case '10-main':\n      return import('./10/OracleManagerProxy');\n    case '420-main':\n      return import('./420/OracleManagerProxy');\n    case '11155111-main':\n      return import('./11155111/OracleManagerProxy');\n    case '84531-main':\n      return import('./84531/OracleManagerProxy');\n    case '84531-competition':\n      return import('./84531-competition/OracleManagerProxy');\n    default:\n      throw new Error(`Unsupported chain ${chainId} for OracleManagerProxy`);\n  }\n}\n","import { useQuery } from '@tanstack/react-query';\nimport { useMulticall3 } from '@snx-v3/useMulticall3';\nimport { ethers } from 'ethers';\nimport { useOracleManagerProxy } from '@snx-v3/useOracleManagerProxy';\nimport { z } from 'zod';\nimport { notNil } from '@snx-v3/tsHelpers';\nimport { useCoreProxy } from '@snx-v3/useCoreProxy';\nimport { CoreProxyType } from '@synthetixio/v3-contracts';\nimport { deploymentsWithERC7412, useNetwork } from '@snx-v3/useBlockchain';\nimport { ZodBigNumber } from '@snx-v3/zod';\nimport { wei } from '@synthetixio/wei';\n\nconst NodeSchema = z.object({\n  nodeType: z.number(),\n  parameters: z.string(),\n  parents: z.array(z.string()),\n});\n\nconst PythParametersSchema = z.object({\n  address: z.string(),\n  priceFeedId: z.string(),\n  stalenessTolerance: ZodBigNumber.transform((x) => wei(x)),\n});\n\nconst EXTERNAL_NODE_TYPE = 2;\n\nconst loadConfigs = async ({ CoreProxy }: { CoreProxy: CoreProxyType }) => {\n  const hideDisabled = false;\n  return await CoreProxy.getCollateralConfigurations(hideDisabled);\n};\nfunction removeDuplicatesByProp<T, K extends keyof T>(arr: T[], prop: K): T[] {\n  const seen = new Set<T[K]>();\n  return arr.filter((item) => {\n    const value = item[prop];\n    if (seen.has(value)) {\n      return false;\n    } else {\n      seen.add(value);\n      return true;\n    }\n  });\n}\n\nexport const useAllCollateralPriceIds = () => {\n  const { data: Multicall3 } = useMulticall3();\n  const { data: OracleProxy } = useOracleManagerProxy();\n  const { data: CoreProxy } = useCoreProxy();\n  const network = useNetwork();\n  return useQuery({\n    enabled: Boolean(Multicall3 && OracleProxy && CoreProxy),\n    staleTime: Infinity,\n    cacheTime: Infinity,\n\n    queryKey: [`${network.id}-${network.preset}`, 'Collateral Price IDs'],\n\n    queryFn: async () => {\n      if (!CoreProxy || !Multicall3 || !OracleProxy) {\n        throw Error('useAllCollateralPriceIds should not be enabled ');\n      }\n\n      if (!deploymentsWithERC7412.includes(`${network.id}-${network.preset}`)) return [];\n      const configs = await loadConfigs({ CoreProxy });\n      const oracleNodeIds = configs.map((x) => x.oracleNodeId);\n      const calls = oracleNodeIds.map((oracleNodeId) => ({\n        target: OracleProxy.address,\n        callData: OracleProxy.interface.encodeFunctionData('getNode', [oracleNodeId]),\n      }));\n\n      const { returnData } = await Multicall3.callStatic.aggregate(calls);\n      const decoded = returnData\n        .map((bytes, i) => {\n          const nodeResp = OracleProxy.interface.decodeFunctionResult('getNode', bytes)[0];\n\n          const { nodeType, parameters } = NodeSchema.parse({ ...nodeResp });\n          if (nodeType !== EXTERNAL_NODE_TYPE) return undefined;\n\n          try {\n            const [address, priceFeedId, stalenessTolerance] = ethers.utils.defaultAbiCoder.decode(\n              ['address', 'bytes32', 'uint256'],\n              parameters\n            );\n\n            const parametersDecoded = PythParametersSchema.parse({\n              address,\n              priceFeedId,\n              stalenessTolerance,\n            });\n            return {\n              parameters,\n              priceFeedId: parametersDecoded.priceFeedId,\n              address: parametersDecoded.address,\n              stalenessTolerance: parametersDecoded.stalenessTolerance,\n            };\n          } catch (error) {\n            console.error(`Decoding parameters failed, config:`, configs[i]);\n            console.error('parameters: ', parameters);\n            console.error(error);\n            return null;\n          }\n        })\n        .filter(notNil);\n\n      return removeDuplicatesByProp(decoded, 'priceFeedId');\n    },\n  });\n};\n","import { useQuery } from '@tanstack/react-query';\nimport { useWallet, useNetwork, useProvider } from '@snx-v3/useBlockchain';\nimport { Contract } from 'ethers';\nimport { ZodBigNumber } from '@snx-v3/zod';\nimport { wei } from '@synthetixio/wei';\n\nconst AllowanceSchema = ZodBigNumber.transform((x) => wei(x));\nconst abi = ['function allowance(address, address) view returns (uint256)'];\nexport const useAllowance = ({\n  contractAddress,\n  spender,\n}: {\n  contractAddress?: string;\n  spender?: string;\n}) => {\n  const wallet = useWallet();\n  const provider = useProvider();\n  const network = useNetwork();\n\n  return useQuery({\n    queryKey: [\n      `${network.id}-${network.preset}`,\n      'Allowance',\n      { accountAddress: wallet?.address },\n      { contractAddress, spender },\n    ],\n    queryFn: async () => {\n      if (!(contractAddress && spender && wallet?.address)) throw new Error('OMG');\n      const contract = new Contract(contractAddress, abi, provider);\n      const allowance = await contract.allowance(wallet.address, spender);\n      return AllowanceSchema.parse(allowance);\n    },\n    enabled: Boolean(wallet?.address && contractAddress && spender && provider),\n  });\n};\n","import { useReducer } from 'react';\nimport { useAllowance } from '@snx-v3/useAllowance';\nimport { BigNumber, ethers } from 'ethers';\nimport { useMutation } from '@tanstack/react-query';\nimport { useProvider, useSigner } from '@snx-v3/useBlockchain';\nimport { initialState, reducer } from '@snx-v3/txnReducer';\nimport { formatGasPriceForTransaction } from '@snx-v3/useGasOptions';\nimport { getGasPrice } from '@snx-v3/useGasPrice';\nimport { useGasSpeed } from '@snx-v3/useGasSpeed';\n\nconst approveAbi = ['function approve(address spender, uint256 amount) returns (bool)'];\n\nexport const useApprove = (\n  {\n    contractAddress,\n    amount,\n    spender,\n  }: {\n    contractAddress?: string;\n    amount: BigNumber;\n    spender?: string;\n  },\n  eventHandlers?: {\n    onSuccess?: () => void;\n    onMutate?: () => void;\n    onError?: (e: Error) => void;\n  }\n) => {\n  const [txnState, dispatch] = useReducer(reducer, initialState);\n  const { data: allowance, refetch: refetchAllowance } = useAllowance({ contractAddress, spender });\n\n  const sufficientAllowance = Boolean(allowance?.gte(amount));\n\n  const signer = useSigner();\n  const { gasSpeed } = useGasSpeed();\n  const provider = useProvider();\n\n  const mutation = useMutation({\n    mutationFn: async (infiniteApproval: boolean) => {\n      if (!(signer && contractAddress && spender)) return;\n      if (sufficientAllowance) return;\n\n      try {\n        dispatch({ type: 'prompting' });\n\n        const contract = new ethers.Contract(contractAddress, approveAbi, signer);\n        const amountToAppove = infiniteApproval ? ethers.constants.MaxUint256 : amount;\n\n        const gasPricesPromised = getGasPrice({ provider });\n        const gasLimitPromised = contract.estimateGas.approve(spender, amountToAppove);\n        const populatedTxnPromised = contract.populateTransaction.approve(spender, amountToAppove, {\n          gasLimit: gasLimitPromised,\n        });\n        const [gasPrices, gasLimit, populatedTxn] = await Promise.all([\n          gasPricesPromised,\n          gasLimitPromised,\n          populatedTxnPromised,\n        ]);\n\n        const gasOptionsForTransaction = formatGasPriceForTransaction({\n          gasLimit,\n          gasPrices,\n          gasSpeed,\n        });\n\n        const txn = await signer.sendTransaction({ ...populatedTxn, ...gasOptionsForTransaction });\n        dispatch({ type: 'pending', payload: { txnHash: txn.hash } });\n\n        await txn.wait();\n        dispatch({ type: 'success' });\n      } catch (error: any) {\n        dispatch({ type: 'error', payload: { error } });\n        throw error;\n      }\n    },\n    ...eventHandlers,\n  });\n  return {\n    mutation,\n    txnState,\n    isLoading: mutation.isLoading,\n    approve: mutation.mutateAsync,\n    refetchAllowance,\n    requireApproval: !sufficientAllowance,\n  };\n};\n","import { ethers } from 'ethers';\nimport React from 'react';\nimport { EthereumIcon, FailedIcon, OptimismIcon, LogoIcon, BaseIcon } from '@snx-v3/icons';\nimport { INFURA_KEY, ONBOARD_KEY } from '@snx-v3/constants';\nimport onboardInit, { AppState, WalletState } from '@web3-onboard/core';\nimport injectedModule from '@web3-onboard/injected-wallets';\nimport walletConnectModule from '@web3-onboard/walletconnect';\nimport SynthetixIcon from './SynthetixIcon.svg';\nimport SynthetixLogo from './SynthetixLogo.svg';\n\nexport type Network = {\n  id: number;\n  preset: string;\n  hexId: string;\n  token: string;\n  name: string;\n  rpcUrl: string;\n  label: string;\n  Icon: React.FC;\n  isSupported: boolean;\n  publicRpcUrl: string;\n  isTestnet: boolean;\n};\n\nexport const UNSUPPORTED_NETWORK: Network = {\n  id: 0,\n  preset: 'main',\n  hexId: `0x${Number(0).toString(16)}`,\n  token: 'ETH',\n  name: 'unsupported',\n  rpcUrl: '',\n  publicRpcUrl: '',\n  label: 'Unsupported',\n  Icon: () => <FailedIcon width=\"24px\" height=\"24px\" />,\n  isSupported: false,\n  isTestnet: false,\n};\n\nconst NETWORK_OPTIMISM: Network = {\n  id: 10,\n  preset: 'main',\n  hexId: `0x${Number(10).toString(16)}`,\n  token: 'ETH',\n  name: 'optimism-mainnet',\n  rpcUrl: `https://optimism-mainnet.infura.io/v3/${INFURA_KEY}`,\n  label: 'Optimism',\n  Icon: () => <OptimismIcon />,\n  isSupported: true,\n  publicRpcUrl: 'https://mainnet.optimism.io',\n  isTestnet: false,\n};\n\nexport const NETWORKS: Network[] = [\n  {\n    id: 1,\n    preset: 'main',\n    hexId: `0x${Number(1).toString(16)}`,\n    token: 'ETH',\n    name: 'mainnet',\n    rpcUrl: `https://mainnet.infura.io/v3/${INFURA_KEY}`,\n    label: 'Ethereum',\n    Icon: () => <EthereumIcon />,\n    isSupported: true,\n    publicRpcUrl: 'https://ethereum.publicnode.com',\n    isTestnet: false,\n  },\n  NETWORK_OPTIMISM,\n  {\n    id: 5,\n    preset: 'main',\n    hexId: `0x${Number(5).toString(16)}`,\n    token: 'ETH',\n    name: 'goerli',\n    rpcUrl: `https://goerli.infura.io/v3/${INFURA_KEY}`,\n    label: 'Goerli Testnet',\n    Icon: () => <EthereumIcon />,\n    isSupported: true,\n    publicRpcUrl: 'https://ethereum-goerli.publicnode.com',\n    isTestnet: true,\n  },\n  {\n    id: 11155111,\n    preset: 'main',\n    hexId: `0x${Number(11155111).toString(16)}`,\n    token: 'ETH',\n    name: 'sepolia',\n    rpcUrl: `https://sepolia.infura.io/v3/${INFURA_KEY}`,\n    label: 'Sepolia Testnet',\n    Icon: () => <EthereumIcon />,\n    isSupported: true,\n    publicRpcUrl: 'https://ethereum-sepolia.publicnode.com',\n    isTestnet: true,\n  },\n  {\n    id: 420,\n    preset: 'main',\n    hexId: `0x${Number(420).toString(16)}`,\n    token: 'ETH',\n    name: 'optimism-goerli',\n    rpcUrl: `https://optimism-goerli.infura.io/v3/${INFURA_KEY}`,\n    label: 'Optimistic Goerli',\n    Icon: () => <OptimismIcon />,\n    isSupported: true,\n    publicRpcUrl: 'https://goerli.optimism.io',\n    isTestnet: true,\n  },\n  {\n    id: 84531,\n    preset: 'main',\n    hexId: `0x${Number(84531).toString(16)}`,\n    token: 'ETH',\n    name: 'base-goerli',\n    rpcUrl: `https://base-goerli.infura.io/v3/${INFURA_KEY}`,\n    label: 'Base Goerli',\n    Icon: () => <BaseIcon />,\n    isSupported: true,\n    publicRpcUrl: 'https://base-goerli.publicnode.com',\n    isTestnet: true,\n  },\n  {\n    id: 84531,\n    preset: 'competition',\n    hexId: `0x${Number(84531).toString(16)}`,\n    token: 'ETH',\n    name: 'base-goerli',\n    rpcUrl: `https://base-goerli.infura.io/v3/${INFURA_KEY}`,\n    label: 'Base Goerli (competition)',\n    Icon: () => <BaseIcon />,\n    isSupported: true,\n    publicRpcUrl: 'https://base-goerli.publicnode.com',\n    isTestnet: true,\n  },\n  {\n    id: 13370,\n    preset: 'main',\n    hexId: `0x${Number(13370).toString(16)}`,\n    token: 'ETH',\n    name: 'cannon',\n    rpcUrl: `http://127.0.0.1:8545`,\n    label: 'Cannon',\n    Icon: () => <LogoIcon />,\n    isSupported: window.localStorage.getItem('DEFAULT_NETWORK') === '13370-main',\n    publicRpcUrl: 'http://127.0.0.1:8545',\n    isTestnet: true,\n  },\n];\n\nexport const deploymentsWithERC7412: string[] = ['84531-competition'];\n\nexport const DEFAULT_NETWORK =\n  NETWORKS.find(\n    (network) =>\n      `${network.id}-${network.preset}` === window.localStorage.getItem('DEFAULT_NETWORK')\n  ) ?? NETWORK_OPTIMISM;\n\nconst injected = injectedModule();\nconst walletConnect = walletConnectModule({\n  version: 2,\n  projectId: `${process.env.NEXT_PUBLIC_WC_PROJECT_ID}`,\n  requiredChains: [1, 10],\n});\n\nconst wallets = [injected, walletConnect];\n\nconst uniqueChains: Network[] = Object.values(\n  NETWORKS.reduce((result, network) => {\n    if (network.id in result) {\n      return result;\n    }\n    Object.assign(result, {\n      [network.id]: network,\n    });\n    return result;\n  }, {})\n);\nconst chains = uniqueChains.map((network) => ({\n  id: network.hexId,\n  token: network.token,\n  label: network.label,\n  rpcUrl: network.rpcUrl,\n  publicRpcUrl: network.publicRpcUrl,\n}));\n\nconst appMetadata = {\n  name: 'Synthetix',\n  icon: SynthetixIcon,\n  logo: SynthetixLogo,\n  description: 'Synthetix | The derivatives liquidity protocol.',\n  recommendedInjectedWallets: [\n    { name: 'MetaMask', url: 'https://metamask.io' },\n    { name: 'Brave Wallet', url: 'https://brave.com/wallet' },\n  ],\n  gettingStartedGuide: 'https://synthetix.io',\n  explore: 'https://blog.synthetix.io',\n};\n\nexport const onboard = onboardInit({\n  theme: 'dark',\n  wallets,\n  chains,\n  appMetadata,\n  apiKey: ONBOARD_KEY,\n  accountCenter: {\n    desktop: {\n      enabled: false,\n    },\n    mobile: {\n      enabled: false,\n    },\n  },\n  notify: {\n    enabled: false,\n  },\n});\n\nexport const BlockchainContext = React.createContext<{\n  onboardState: AppState;\n  network: Network;\n  setNetwork: React.Dispatch<React.SetStateAction<Network>>;\n}>({\n  onboardState: onboard.state.get(),\n  network: DEFAULT_NETWORK,\n  setNetwork: () => null,\n});\n\nexport const BlockchainProvider: React.FC<React.PropsWithChildren> = ({ children }) => {\n  const [onboardState, setOnboardState] = React.useState(onboard.state.get());\n  const [network, setNetwork] = React.useState(DEFAULT_NETWORK);\n\n  const isMounted = React.useRef(false);\n  React.useEffect(() => {\n    isMounted.current = true;\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  React.useEffect(() => {\n    const { unsubscribe } = onboard.state.select().subscribe((nextState) => {\n      setOnboardState(nextState);\n\n      const [currentWallet] = nextState.wallets;\n      if (currentWallet) {\n        const [chain] = currentWallet.chains;\n        if (chain) {\n          const selectedNetwork = NETWORKS.find((network) => network.hexId === chain.id);\n          if (selectedNetwork) {\n            setNetwork(selectedNetwork);\n            window.localStorage.setItem(\n              'DEFAULT_NETWORK',\n              `${selectedNetwork.id}-${selectedNetwork.preset}`\n            );\n          }\n        }\n      }\n    });\n    return () => {\n      if (isMounted.current) {\n        unsubscribe();\n      }\n    };\n  }, []);\n\n  return (\n    <BlockchainContext.Provider value={{ onboardState, network, setNetwork }}>\n      {children}\n    </BlockchainContext.Provider>\n  );\n};\n\nexport function useOnboardWallet(): WalletState | undefined {\n  const { onboardState } = React.useContext(BlockchainContext);\n  const { wallets } = onboardState;\n  if (wallets.length < 1) {\n    return undefined;\n  }\n  const [wallet] = wallets;\n\n  return wallet;\n}\n\nexport function useNetwork() {\n  const { network } = React.useContext(BlockchainContext);\n  const wallet = useOnboardWallet();\n  if (\n    !wallet ||\n    !Array.isArray(wallet.chains) ||\n    !wallet.chains[0] ||\n    !wallet.chains[0].id ||\n    wallet.chains[0].id === network.hexId\n  ) {\n    return network;\n  }\n  const connectedChain = NETWORKS.find((network) => network.hexId === wallet.chains[0].id);\n  if (connectedChain) {\n    return connectedChain;\n  }\n  return UNSUPPORTED_NETWORK;\n}\n\nexport function useSetNetwork() {\n  const { setNetwork } = React.useContext(BlockchainContext);\n  const wallet = useOnboardWallet();\n  const hasWallet = Boolean(wallet);\n  return React.useCallback(\n    async (network: Network) => {\n      setNetwork(network);\n      window.localStorage.setItem('DEFAULT_NETWORK', `${network.id}-${network.preset}`);\n      if (hasWallet) {\n        await onboard.setChain({ chainId: network.hexId });\n      }\n    },\n    [setNetwork, hasWallet]\n  );\n}\n\nexport function useIsConnected(): boolean {\n  const wallet = useOnboardWallet();\n  return Boolean(wallet);\n}\n\nexport function useProvider() {\n  const wallet = useOnboardWallet();\n  const network = useNetwork();\n\n  if (wallet) {\n    return new ethers.providers.Web3Provider(wallet.provider, 'any');\n  }\n\n  return new ethers.providers.JsonRpcProvider(network.rpcUrl);\n}\n\nexport function useSigner() {\n  const wallet = useOnboardWallet();\n\n  if (!wallet) {\n    return;\n  }\n\n  const provider = new ethers.providers.Web3Provider(wallet.provider, 'any');\n  return provider.getSigner();\n}\n\nexport function useWallet() {\n  const wallet = useOnboardWallet();\n  if (!wallet) {\n    return undefined;\n  }\n  const [account] = wallet.accounts;\n  return account;\n}\n\nexport function preserveConnectedWallets() {\n  const walletsSubscription = onboard.state.select('wallets');\n  const { unsubscribe } = walletsSubscription.subscribe((wallets) => {\n    const connectedWallets = wallets.map(({ label }) => label);\n    window.localStorage.setItem('connectedWallets', JSON.stringify(connectedWallets));\n  });\n  return unsubscribe;\n}\n\nexport async function autoConnect() {\n  const connectedWalletsRaw = window.localStorage.getItem('connectedWallets');\n  if (!connectedWalletsRaw) {\n    return;\n  }\n  try {\n    const [connectedWallet] = JSON.parse(connectedWalletsRaw);\n    await onboard.connectWallet({\n      autoSelect: { label: connectedWallet, disableModals: true },\n    });\n  } catch (_e) {\n    // whatever\n    return;\n  }\n}\n\nexport async function disconnect() {\n  window.localStorage.removeItem('connectedWallets');\n  return await Promise.all(\n    onboard.state.get().wallets.map(({ label }) => onboard.disconnectWallet({ label }))\n  );\n}\n","import { constants, utils } from 'ethers';\nimport { useQuery } from '@tanstack/react-query';\nimport { CoreProxyType, Multicall3Type } from '@synthetixio/v3-contracts';\nimport { z } from 'zod';\nimport { useMemo } from 'react';\nimport { ZodBigNumber } from '@snx-v3/zod';\nimport { wei } from '@synthetixio/wei';\nimport { useMulticall3 } from '@snx-v3/useMulticall3';\nimport { useNetwork } from '@snx-v3/useBlockchain';\nimport { useCoreProxy } from '@snx-v3/useCoreProxy';\n\nconst CollateralConfigurationSchema = z.object({\n  depositingEnabled: z.boolean(),\n  issuanceRatioD18: ZodBigNumber.transform((x) => wei(x)),\n  liquidationRatioD18: ZodBigNumber.transform((x) => wei(x)),\n  liquidationRewardD18: ZodBigNumber.transform((x) => wei(x)),\n  oracleNodeId: z.string(),\n  tokenAddress: z.string().startsWith('0x'), // As of current version in zod this will be a string: https://github.com/colinhacks/zod/issues/1747\n  minDelegationD18: ZodBigNumber.transform((x) => wei(x)),\n});\n\nconst CollateralTypeSchema = CollateralConfigurationSchema.extend({\n  symbol: z.string(),\n  displaySymbol: z.string(),\n});\n\nexport type CollateralType = z.infer<typeof CollateralTypeSchema>;\n\nconst SymbolSchema = z.string();\nconst ERC20Interface = new utils.Interface(['function symbol() view returns (string)']);\n\nasync function loadSymbols({\n  Multicall3,\n  tokenConfigs,\n}: {\n  Multicall3: Multicall3Type;\n  tokenConfigs: z.infer<typeof CollateralConfigurationSchema>[];\n}) {\n  const calls = tokenConfigs.map((tokenConfig) => ({\n    target: tokenConfig.tokenAddress,\n    callData: ERC20Interface.encodeFunctionData('symbol'),\n  }));\n  const multicallResult = await Multicall3.callStatic.aggregate(calls);\n  return multicallResult.returnData.map((bytes: string) =>\n    SymbolSchema.parse(ERC20Interface.decodeFunctionResult('symbol', bytes)[0])\n  );\n}\n\nasync function loadCollateralTypes({\n  CoreProxy,\n  Multicall3,\n}: {\n  CoreProxy: CoreProxyType;\n  Multicall3: Multicall3Type;\n}): Promise<CollateralType[]> {\n  const hideDisabled = true;\n  const tokenConfigsRaw = await CoreProxy.getCollateralConfigurations(hideDisabled);\n  const tokenConfigs = tokenConfigsRaw\n    .map((x) => CollateralConfigurationSchema.parse({ ...x }))\n    .filter(({ depositingEnabled }) => depositingEnabled); // sometimes we get back disabled ones, even though we ask for only enabled ones\n\n  const symbols = await loadSymbols({ Multicall3, tokenConfigs });\n\n  return tokenConfigs.map((config, i) => ({\n    depositingEnabled: config.depositingEnabled,\n    issuanceRatioD18: config.issuanceRatioD18,\n    liquidationRatioD18: config.liquidationRatioD18,\n    liquidationRewardD18: config.liquidationRewardD18,\n    minDelegationD18: config.minDelegationD18,\n    oracleNodeId: config.oracleNodeId,\n    tokenAddress: config.tokenAddress,\n    symbol: symbols[i],\n    displaySymbol: symbols[i] === 'WETH' ? 'ETH' : symbols[i],\n  }));\n}\n\nexport function useCollateralTypes(includeDelegationOff = false) {\n  const network = useNetwork();\n  const { data: CoreProxy } = useCoreProxy();\n  const { data: Multicall3 } = useMulticall3();\n\n  return useQuery({\n    queryKey: [`${network.id}-${network.preset}`, 'CollateralTypes', { includeDelegationOff }],\n    queryFn: async () => {\n      if (!CoreProxy || !Multicall3)\n        throw Error('Query should not be enabled when contracts missing');\n      const collateralTypes = await loadCollateralTypes({ CoreProxy, Multicall3 });\n      if (includeDelegationOff) {\n        return collateralTypes;\n      }\n\n      // By default we only return collateral types that have minDelegationD18 < MaxUint256\n      // When minDelegationD18 === MaxUint256, delegation is effectively disabled\n      return collateralTypes.filter((x) => {\n        return x.minDelegationD18.lt(constants.MaxUint256);\n      });\n    },\n    // one hour in ms\n    staleTime: 60 * 60 * 1000,\n    placeholderData: [],\n    enabled: Boolean(CoreProxy && Multicall3),\n  });\n}\n\nexport function useCollateralType(collateralSymbol?: string) {\n  const { data: collateralTypes, isLoading, error } = useCollateralTypes();\n\n  return {\n    isLoading,\n    error,\n    data: useMemo(() => {\n      if (!collateralTypes || !collateralTypes?.length) {\n        return;\n      }\n      if (!collateralSymbol) {\n        return collateralTypes[0];\n      }\n      return collateralTypes.find(\n        (collateral) => `${collateral.symbol}`.toLowerCase() === `${collateralSymbol}`.toLowerCase()\n      );\n    }, [collateralSymbol, collateralTypes]),\n  };\n}\n","import { ethers, utils } from 'ethers';\nimport { useCallback } from 'react';\nimport { ERC7412_ABI } from '@snx-v3/withERC7412';\n\nexport type ContractErrorType = {\n  data: string;\n  name: string;\n  signature: string;\n  args: Record<string, any>;\n};\n\nexport function useContractErrorParser(Contract?: ethers.Contract) {\n  return useCallback(\n    (error: any): ContractErrorType | undefined => {\n      if (!Contract) {\n        return undefined;\n      }\n      try {\n        const errorData = error?.error?.data?.data || error?.error?.error?.data; // add more options as we find them\n        if (!errorData) {\n          console.error({ error }); // intentional logging as object so we can inspect all properties\n          return undefined;\n        }\n\n        const contractAbi = Contract.interface.format(utils.FormatTypes.full) as string[];\n        const newContract = new ethers.Contract(\n          Contract.address,\n          Array.from(\n            new Set(\n              contractAbi.concat(ERC7412_ABI).concat([\n                // ERC721 errors\n                'error CannotSelfApprove(address addr)',\n                'error InvalidTransferRecipient(address addr)',\n                'error InvalidOwner(address addr)',\n                'error TokenDoesNotExist(uint256 id)',\n                'error TokenAlreadyMinted(uint256 id)',\n              ])\n            )\n          ), // uniq\n          Contract.signer || Contract.provider\n        );\n        const errorParsed = newContract.interface.parseError(errorData);\n        const errorArgs = Object.fromEntries(\n          Object.entries(errorParsed.args)\n            .filter(([key]) => `${parseInt(key)}` !== key)\n            .map(([key, value]) => {\n              if (value instanceof ethers.BigNumber) {\n                // Guess wei\n                const unwei = parseFloat(ethers.utils.formatEther(value.toString()));\n                if (unwei > 0.001) {\n                  // must be wei\n                  return [key, unwei];\n                }\n\n                // Guess date\n                if (\n                  value.toNumber() > new Date(2000, 1, 1).getTime() / 1000 &&\n                  value.toNumber() < new Date(2100, 1, 1).getTime() / 1000\n                ) {\n                  return [key, new Date(value.toNumber() * 1000)];\n                }\n\n                // Just a number\n                return [key, parseFloat(value.toString())];\n              }\n\n              // Not a number\n              return [key, value];\n            })\n        );\n\n        return {\n          data: errorData,\n          name: errorParsed.name,\n          signature: errorParsed.signature,\n          args: errorArgs,\n        };\n      } catch (e) {\n        console.error(e);\n        return undefined;\n      }\n    },\n    [Contract]\n  );\n}\n","import { Contract } from '@ethersproject/contracts';\nimport { useQuery } from '@tanstack/react-query';\nimport { useNetwork, useProvider, useSigner } from '@snx-v3/useBlockchain';\nimport { CoreProxyType, importCoreProxy } from '@synthetixio/v3-contracts';\n\nexport function useCoreProxy() {\n  const network = useNetwork();\n  const provider = useProvider();\n  const signer = useSigner();\n  const signerOrProvider = signer || provider;\n  const withSigner = Boolean(signer);\n\n  return useQuery({\n    queryKey: [`${network.id}-${network.preset}`, 'CoreProxy', { withSigner }],\n    queryFn: async function () {\n      const { address, abi } = await importCoreProxy(network.id, network.preset);\n      return new Contract(address, abi, signerOrProvider) as CoreProxyType;\n    },\n    enabled: Boolean(signerOrProvider),\n    staleTime: Infinity,\n    cacheTime: Infinity,\n  });\n}\n","import { useQuery } from '@tanstack/react-query';\nimport { useWallet, useNetwork, useProvider } from '@snx-v3/useBlockchain';\nimport { ZodBigNumber } from '@snx-v3/zod';\nimport { wei } from '@synthetixio/wei';\nimport { InfuraProvider } from '@ethersproject/providers';\n\nconst BalanceSchema = ZodBigNumber.transform((x) => wei(x));\n\nexport function useEthBalance(networkId?: number) {\n  const wallet = useWallet();\n  const connectedProvider = useProvider();\n  const network = useNetwork();\n\n  return useQuery({\n    queryKey: [\n      `${network.id}-${network.preset}`,\n      'EthBalance',\n      { accountAddress: wallet?.address },\n    ],\n    queryFn: async () => {\n      if (!wallet?.address) throw Error('useEthBalance should not be enabled');\n      const provider =\n        networkId && networkId !== network.id\n          ? new InfuraProvider(networkId, process.env.NEXT_PUBLIC_INFURA_PROJECT_ID)\n          : connectedProvider;\n      return BalanceSchema.parse(await provider.getBalance(wallet.address));\n    },\n    enabled: Boolean((networkId ?? network.id) && wallet?.address),\n  });\n}\n","import type { GasPrices } from '@snx-v3/useGasPrice';\nimport type { BigNumber } from '@ethersproject/bignumber';\nimport { wei } from '@synthetixio/wei';\nimport { GWEI_DECIMALS, GAS_LIMIT_MULTIPLIER } from '@snx-v3/constants';\n\n// Note it looks like gas limit estimation is coming in higher slightly higher than what gets used according to etherscan\n// Will try without a buffer, if we get user report of out of gas we can increase it again.\nconst GAS_LIMIT_BUFFER = wei(GAS_LIMIT_MULTIPLIER, GWEI_DECIMALS);\n\nfunction addGasLimitBuffer(gasLimit?: BigNumber) {\n  return wei(gasLimit ?? 0, GWEI_DECIMALS)\n    .mul(GAS_LIMIT_BUFFER)\n    .toBN();\n}\n\nexport function formatGasPriceForTransaction({\n  gasPrices,\n  gasSpeed,\n  gasLimit,\n}: {\n  gasPrices: GasPrices;\n  gasSpeed: keyof GasPrices;\n  gasLimit: BigNumber;\n}) {\n  const gasPrice = gasPrices[gasSpeed];\n  if ('baseFeePerGas' in gasPrice) {\n    const { baseFeePerGas: _baseFeePerGas, ...gasPriceToReturn } = gasPrice;\n    return { ...gasPriceToReturn, gasLimit: addGasLimitBuffer(gasLimit) };\n  }\n  return { ...gasPrice, gasLimit: addGasLimitBuffer(gasLimit) };\n}\n","// copied from npm package: moving-averages\n// Only grabbed what we needed and added types\nexport const isNumber = (subject: unknown) =>\n  typeof subject === 'number' &&\n  // is not NaN: `NaN === NaN` => `false`\n  subject === subject;\n\nexport const dma = (data: number[], alpha: number, noHead?: boolean): number[] => {\n  const length = data.length;\n\n  if (alpha > 1) {\n    return Array(length);\n  }\n\n  if (alpha === 1) {\n    return data.slice();\n  }\n\n  const noArrayWeight = !Array.isArray(alpha);\n  const ret = [];\n\n  let datum;\n\n  // period `i`\n  let i = 0;\n\n  // `s` is the value of the DWMA at any time period `i`\n  let s = 0;\n\n  // Handles head\n  for (; i < length; i++) {\n    datum = data[i];\n\n    if (isNumber(datum) && (noArrayWeight || isNumber(datum))) {\n      ret[i] = noHead ? 0 : datum;\n\n      s = datum;\n      i++;\n\n      break;\n    }\n  }\n\n  // Dynamic weights: an array of weights\n  // Ref:\n  // https://en.wikipedia.org/wiki/Moving_average#Exponential_moving_average\n  // with a dynamic alpha\n  if (!noArrayWeight) {\n    for (; i < length; i++) {\n      datum = data[i];\n\n      isNumber(datum) && isNumber(alpha[i])\n        ? (s = ret[i] = alpha[i] * datum + (1 - alpha[i]) * s)\n        : (ret[i] = ret[i - 1]);\n    }\n\n    return ret;\n  }\n\n  const o = 1 - alpha;\n\n  // Fixed alpha\n  for (; i < length; i++) {\n    datum = data[i];\n\n    isNumber(datum) ? (s = ret[i] = alpha * datum + o * s) : (ret[i] = ret[i - 1]);\n  }\n\n  return ret;\n};\n\nexport const ema = (data: number[], size: number) => dma(data, 2 / (size + 1));\n","import { Wei } from '@synthetixio/wei';\n\nexport const rewardsFilterOutliers = (\n  blocksRewards: Wei[][],\n  outlierBlocks: number[],\n  rewardIndex: number\n) =>\n  blocksRewards\n    .filter((_, index) => !outlierBlocks.includes(index))\n    .map((reward) => reward[rewardIndex].toNumber());\n\nexport const getOutlierBlocksToRemove = (blocksRewards: Wei[][], index: number) => {\n  const blocks: number[] = [];\n  blocksRewards\n    .map((reward) => reward[index])\n    .forEach((gweiReward, i) => {\n      if (gweiReward.gt(5)) {\n        blocks.push(i);\n      }\n    });\n  return blocks;\n};\n","/**\n * This module is heavily inspired by https://github.com/rainbow-me/fee-suggestions\n * That library have some hardcoded min and max that doesn't make sense for optimism. See: https://github.com/rainbow-me/fee-suggestions/blob/main/src/index.ts#L165\n *\n * So I changed min max a bit\n *\n * That library is also a bit overkill in how it calculates maxFeePerGas per gas. It's using linear regression and sampling curves.\n * Instead of doing that, this module calculates max by taking  (previous baseFeePerGas * 2) + maxPriorityFeePerGas.\n *\n * The calculation for maxPriorityFeePerGas I kept quite complex since that will affect what the user actually pay..\n * It's calculated based on the Exponential Moving Average (EMA) of the block rewards at the 15th, 30th, and 45th percentiles, after removing the outliers.\n *\n * The other differences is that I also rely on our Wei library.\n *\n */\nimport { ethers } from 'ethers';\nimport { ema } from './math';\nimport { getOutlierBlocksToRemove, rewardsFilterOutliers } from './utils';\nimport { wei, Wei } from '@synthetixio/wei';\nimport { GWEI_DECIMALS } from '@snx-v3/constants';\n\ntype Reward = string[];\ntype GasUsedRatio = number[];\ninterface FeeHistoryResponse {\n  baseFeePerGas: string[];\n  gasUsedRatio: GasUsedRatio;\n  oldestBlock: number;\n  reward: Reward[];\n}\n\nconst defaultForLocalProvider = () => {\n  const baseFeePerGas = wei(1, 9).toBN();\n  const maxFeePerGas = wei(5, 9).toBN();\n  const maxPriorityFeePerGas = wei(1, 9).toBN();\n  return {\n    average: {\n      maxPriorityFeePerGas,\n      maxFeePerGas,\n      baseFeePerGas,\n    },\n    fast: {\n      maxPriorityFeePerGas,\n      maxFeePerGas,\n      baseFeePerGas,\n    },\n    fastest: {\n      maxPriorityFeePerGas,\n      maxFeePerGas,\n      baseFeePerGas,\n    },\n  };\n};\nexport const feeSuggestion = async (\n  provider: ethers.providers.JsonRpcProvider,\n  fromBlock = 'latest'\n) => {\n  // If local or base-goerli, use defaults\n  // Base goerli sometimes doesn't have enough tx we can use to estimate the priority fee, when this happens the tx will get \"tx underprices\"\n  if (provider.network.chainId === 13370 || provider.network.chainId === 84531) {\n    return defaultForLocalProvider();\n  }\n  const feeHistory = await provider\n    .send('eth_feeHistory', [\n      ethers.utils.hexStripZeros(ethers.utils.hexlify(10)),\n      fromBlock,\n      [15, 30, 45],\n    ])\n    .then((feeHistoryResponse: FeeHistoryResponse) => {\n      return {\n        baseFeePerGas: feeHistoryResponse.baseFeePerGas.map((x) => wei(x, GWEI_DECIMALS, true)),\n        reward: feeHistoryResponse.reward.map((x) => x.map((num) => wei(num, GWEI_DECIMALS, true))),\n      };\n    });\n  const blocksRewards = feeHistory.reward;\n  const baseFeePerGas = feeHistory.baseFeePerGas.at(-1);\n\n  if (!blocksRewards.length) throw new Error('Error: block reward was empty');\n  if (!baseFeePerGas) throw new Error('Error: currentBaseFee was empty');\n\n  const outlierBlocks = getOutlierBlocksToRemove(blocksRewards, 0);\n\n  const blocksRewardsPerc15 = rewardsFilterOutliers(blocksRewards, outlierBlocks, 0);\n  const blocksRewardsPerc30 = rewardsFilterOutliers(blocksRewards, outlierBlocks, 1);\n  const blocksRewardsPerc45 = rewardsFilterOutliers(blocksRewards, outlierBlocks, 2);\n\n  const emaPerc15 = ema(blocksRewardsPerc15, blocksRewardsPerc15.length)[\n    blocksRewardsPerc15.length - 1\n  ];\n  const emaPerc30 = ema(blocksRewardsPerc30, blocksRewardsPerc30.length)[\n    blocksRewardsPerc30.length - 1\n  ];\n  const emaPerc45 = ema(blocksRewardsPerc45, blocksRewardsPerc45.length)[\n    blocksRewardsPerc45.length - 1\n  ];\n\n  if (emaPerc15 === undefined || emaPerc30 === undefined || emaPerc45 === undefined) {\n    throw new Error('Error: ema was undefined');\n  }\n\n  const averageMaxPriorityFee = wei(Math.min(emaPerc15, 1), GWEI_DECIMALS);\n  const fastMaxPriorityFee = wei(Math.min(emaPerc30, 2), GWEI_DECIMALS);\n  const fastestMaxPriorityFee = wei(Math.min(emaPerc45, 4), GWEI_DECIMALS);\n\n  const baseFeeToMax = (base: Wei, prio: Wei) => base.mul(wei(2, GWEI_DECIMALS)).add(prio);\n  return {\n    average: {\n      maxPriorityFeePerGas: averageMaxPriorityFee.toBN(),\n      maxFeePerGas: baseFeeToMax(baseFeePerGas, averageMaxPriorityFee).toBN(),\n      baseFeePerGas: baseFeePerGas.toBN(),\n    },\n    fast: {\n      maxPriorityFeePerGas: fastMaxPriorityFee.toBN(),\n      maxFeePerGas: baseFeeToMax(baseFeePerGas, fastMaxPriorityFee).toBN(),\n      baseFeePerGas: baseFeePerGas.toBN(),\n    },\n    fastest: {\n      maxPriorityFeePerGas: fastestMaxPriorityFee.toBN(),\n      maxFeePerGas: baseFeeToMax(baseFeePerGas, fastestMaxPriorityFee).toBN(),\n      baseFeePerGas: baseFeePerGas.toBN(),\n    },\n  };\n};\n","import { useQuery } from '@tanstack/react-query';\nimport { ethers } from 'ethers';\nimport { useNetwork, useProvider } from '@snx-v3/useBlockchain';\nimport { feeSuggestion } from '@snx-v3/feeSuggestion';\n\nconst getGasPriceFromProvider = async (provider: ethers.providers.JsonRpcProvider) => {\n  try {\n    const gasPrice = await provider.getGasPrice();\n    return {\n      fastest: { gasPrice },\n      fast: { gasPrice },\n      average: { gasPrice },\n    };\n  } catch (e) {\n    throw new Error('Could not retrieve gas price from provider');\n  }\n};\n\nexport const getGasPrice = async ({ provider }: { provider: ethers.providers.JsonRpcProvider }) => {\n  try {\n    const block = await provider.getBlock('latest');\n    if (block.baseFeePerGas) {\n      return feeSuggestion(provider);\n    }\n    // When missing baseFeePerGas we get the Gas Price through the provider\n    return getGasPriceFromProvider(provider);\n  } catch (e) {\n    throw new Error(`Could not fetch and compute network fee. ${e}`);\n  }\n};\n\nexport type GasPrices = Awaited<ReturnType<typeof getGasPrice>>;\n\nexport const useGasPrice = () => {\n  const network = useNetwork();\n  const provider = useProvider();\n\n  return useQuery({\n    enabled: Boolean(provider),\n    queryKey: [`${network.id}-${network.preset}`, 'GasPrice'],\n    queryFn: () => getGasPrice({ provider }),\n  });\n};\n","import React, {\n  createContext,\n  useState,\n  PropsWithChildren,\n  Dispatch,\n  SetStateAction,\n  useContext,\n} from 'react';\n\nexport type GasSpeed = 'average' | 'fast' | 'fastest';\n\nexport const GasSpeedContext = createContext<{\n  gasSpeed: GasSpeed;\n  setGasSpeed: Dispatch<SetStateAction<GasSpeed>>;\n}>({\n  gasSpeed: 'average',\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\n  setGasSpeed: () => {},\n});\n\nexport const GasSpeedProvider: React.FC<PropsWithChildren> = ({ children }) => {\n  const [gasSpeed, setGasSpeed] = useState<GasSpeed>('average');\n  return (\n    <GasSpeedContext.Provider value={{ gasSpeed, setGasSpeed }}>\n      {children}\n    </GasSpeedContext.Provider>\n  );\n};\n\nexport const useGasSpeed = () => {\n  return useContext(GasSpeedContext);\n};\n","import { Contract } from '@ethersproject/contracts';\nimport { useQuery } from '@tanstack/react-query';\nimport { useNetwork, useProvider, useSigner } from '@snx-v3/useBlockchain';\nimport { Multicall3Type, importMulticall3 } from '@synthetixio/v3-contracts';\n\nexport function useMulticall3() {\n  const network = useNetwork();\n  const provider = useProvider();\n  const signer = useSigner();\n  const signerOrProvider = signer || provider;\n  const withSigner = Boolean(signer);\n\n  return useQuery({\n    queryKey: [`${network.id}-${network.preset}`, 'Multicall3', { withSigner }],\n    queryFn: async function () {\n      const { address, abi } = await importMulticall3(network.id, network.preset);\n      return new Contract(address, abi, signerOrProvider) as Multicall3Type;\n    },\n    enabled: Boolean(signerOrProvider),\n    staleTime: Infinity,\n    cacheTime: Infinity,\n  });\n}\n","import { useParams as useParamsRouter, useSearchParams } from 'react-router-dom';\nimport { useMemo } from 'react';\n\nexport function searchParamsToObject(searchParams: URLSearchParams) {\n  return Object.fromEntries(Array.from(searchParams));\n}\n\nexport function sortObject(params: Record<string, string>): Record<string, string> {\n  return Object.fromEntries(Object.entries(params).sort(([a], [b]) => a.localeCompare(b)));\n}\n\nexport function cleanObject(params: Record<string, string | undefined>): Record<string, string> {\n  const cleaned = Object.entries(params).filter(([, value]) => value !== undefined) as [\n    [string, string],\n  ];\n  return Object.fromEntries(cleaned);\n}\n\nexport const useParams = (): Record<string, string | undefined> => {\n  const pathParams = useParamsRouter();\n  const [queryParams] = useSearchParams();\n\n  return useMemo(\n    () => sortObject({ ...cleanObject(pathParams), ...searchParamsToObject(queryParams) }),\n    [pathParams, queryParams]\n  );\n};\n","import { useQuery } from '@tanstack/react-query';\nimport { useCoreProxy } from '@snx-v3/useCoreProxy';\nimport { useNetwork } from '@snx-v3/useBlockchain';\nimport { ZodBigNumber } from '@snx-v3/zod';\nimport { z } from 'zod';\nimport { ethers } from 'ethers';\n\nexport const PoolIdSchema = ZodBigNumber.transform((x) => x.toString());\n\nexport const PoolSchema = z.object({\n  id: PoolIdSchema,\n  name: z.string().default('Unnamed Pool'),\n  isPreferred: z.boolean(),\n});\nexport type PoolType = z.infer<typeof PoolSchema>;\n\nexport const PoolsSchema = z.array(PoolSchema);\nexport type PoolsType = z.infer<typeof PoolsSchema>;\n\nexport function usePools() {\n  const network = useNetwork();\n  const { data: CoreProxy } = useCoreProxy();\n\n  return useQuery({\n    enabled: Boolean(CoreProxy),\n    queryKey: [`${network.id}-${network.preset}`, 'Pools'],\n    queryFn: async () => {\n      if (!CoreProxy) throw 'usePools is missing required data';\n\n      const [preferredPoolIdRaw, approvedPoolIdsRaw] = await CoreProxy.callStatic.multicall([\n        CoreProxy.interface.encodeFunctionData('getPreferredPool'),\n        CoreProxy.interface.encodeFunctionData('getApprovedPools'),\n      ]);\n\n      const [preferredPoolId] = CoreProxy.interface.decodeFunctionResult(\n        'getPreferredPool',\n        preferredPoolIdRaw\n      );\n      const [approvedPoolIds] = CoreProxy.interface.decodeFunctionResult(\n        'getApprovedPools',\n        approvedPoolIdsRaw\n      );\n\n      const incompletePools = [\n        {\n          id: preferredPoolId,\n          isPreferred: true,\n        },\n      ].concat(\n        approvedPoolIds.map((id: ethers.BigNumber) => ({\n          id,\n          isPreferred: false,\n        }))\n      );\n\n      const poolNamesRaw = await CoreProxy.callStatic.multicall(\n        incompletePools.map(({ id }) => CoreProxy.interface.encodeFunctionData('getPoolName', [id]))\n      );\n\n      const poolNames = poolNamesRaw.map(\n        (bytes: string) => CoreProxy.interface.decodeFunctionResult('getPoolName', bytes)[0]\n      );\n\n      const poolsRaw = incompletePools.map(({ id, isPreferred }, i) => ({\n        id,\n        isPreferred,\n        name: poolNames[i],\n      }));\n\n      const pools = PoolsSchema.parse(poolsRaw);\n\n      return pools;\n    },\n  });\n}\n\nexport function usePool(poolId?: string) {\n  const { isLoading, error, data } = usePools();\n\n  return {\n    isLoading,\n    error,\n    data: data?.find((item) => item.id === poolId),\n  };\n}\n\nexport function usePreferredPool() {\n  const { isLoading, error, data } = usePools();\n\n  return {\n    isLoading,\n    error,\n    data: data?.find((item) => item.isPreferred),\n  };\n}\n","import { assertAddressType } from '@snx-v3/assertAddressType';\nimport { wei } from '@synthetixio/wei';\nimport { useQuery } from '@tanstack/react-query';\nimport { useWallet, useNetwork, useProvider } from '@snx-v3/useBlockchain';\nimport { Contract } from 'ethers';\nimport { ZodBigNumber } from '@snx-v3/zod';\nimport { InfuraProvider } from '@ethersproject/providers';\n\nconst BalanceSchema = ZodBigNumber.transform((x) => wei(x));\nconst abi = ['function balanceOf(address) view returns (uint256)'];\n\nexport const useTokenBalance = (address?: string, networkId?: number) => {\n  const wallet = useWallet();\n  const connectedProvider = useProvider();\n  const network = useNetwork();\n\n  const tokenAddress = assertAddressType(address) ? address : undefined;\n  const networkIdToUse = networkId ?? network.id;\n  return useQuery({\n    queryKey: [\n      `${network.id}-${network.preset}`,\n      'TokenBalance',\n      { accountAddress: wallet?.address },\n      { tokenAddress },\n    ],\n    queryFn: async () => {\n      if (!tokenAddress || !wallet?.address) throw Error('Query should not be enabled');\n      const provider =\n        networkId && networkId !== network.id\n          ? new InfuraProvider(networkId, process.env.NEXT_PUBLIC_INFURA_PROJECT_ID)\n          : connectedProvider;\n      const contract = new Contract(tokenAddress, abi, provider);\n\n      return BalanceSchema.parse(await contract.balanceOf(wallet.address));\n    },\n    enabled: Boolean(networkIdToUse && wallet?.address && tokenAddress),\n    refetchInterval: 5000,\n  });\n};\n","export function assertAddressType(tokenAddress?: string): tokenAddress is `0x${string}` {\n  return tokenAddress ? tokenAddress.startsWith('0x') : false;\n}\n","import { Contract } from '@ethersproject/contracts';\nimport { useQuery } from '@tanstack/react-query';\nimport type { JsonRpcProvider } from '@ethersproject/providers';\nimport { useNetwork, useProvider, useSigner, NETWORKS } from '@snx-v3/useBlockchain';\nimport { USDProxyType, importUSDProxy } from '@synthetixio/v3-contracts';\n\nexport function useUSDProxy(nonConnectedProvider?: JsonRpcProvider) {\n  const connectedNetwork = useNetwork();\n  const provider = useProvider();\n  const signer = useSigner();\n\n  const providerToUse = nonConnectedProvider || provider;\n  const signerOrProvider = signer || providerToUse;\n  const withSigner = Boolean(signer);\n\n  const network =\n    NETWORKS.find((n) => n.id === nonConnectedProvider?.network.chainId) ?? connectedNetwork;\n\n  return useQuery({\n    queryKey: [`${network.id}-${network.preset}`, 'USDProxy', { withSigner }],\n    queryFn: async function () {\n      const { address, abi } = await importUSDProxy(network.id, network.preset);\n      return new Contract(address, abi, signerOrProvider) as USDProxyType;\n    },\n    enabled: Boolean(signerOrProvider),\n    staleTime: Infinity,\n    cacheTime: Infinity,\n  });\n}\n","// !!! DO NOT EDIT !!! Automatically generated file\n\nimport type { USDProxy as USDProxy1Main } from './1/USDProxy';\nimport type { USDProxy as USDProxy5Main } from './5/USDProxy';\nimport type { USDProxy as USDProxy10Main } from './10/USDProxy';\nimport type { USDProxy as USDProxy420Main } from './420/USDProxy';\nimport type { USDProxy as USDProxy11155111Main } from './11155111/USDProxy';\nimport type { USDProxy as USDProxy84531Main } from './84531/USDProxy';\nimport type { USDProxy as USDProxy84531Competition } from './84531-competition/USDProxy';\n\nexport type USDProxyType =\n  | USDProxy1Main\n  | USDProxy5Main\n  | USDProxy10Main\n  | USDProxy420Main\n  | USDProxy11155111Main\n  | USDProxy84531Main\n  | USDProxy84531Competition;\n\nexport async function importUSDProxy(chainId: number, preset: string = 'main') {\n  switch (`${chainId}-${preset}`) {\n    case '1-main':\n      return import('./1/USDProxy');\n    case '5-main':\n      return import('./5/USDProxy');\n    case '10-main':\n      return import('./10/USDProxy');\n    case '420-main':\n      return import('./420/USDProxy');\n    case '11155111-main':\n      return import('./11155111/USDProxy');\n    case '84531-main':\n      return import('./84531/USDProxy');\n    case '84531-competition':\n      return import('./84531-competition/USDProxy');\n    default:\n      throw new Error(`Unsupported chain ${chainId} for USDProxy`);\n  }\n}\n","import { useSigner } from '@snx-v3/useBlockchain';\nimport { useCollateralType } from '@snx-v3/useCollateralTypes';\nimport { useEthBalance } from '@snx-v3/useEthBalance';\nimport { useTokenBalance } from '@snx-v3/useTokenBalance';\nimport { Contract } from 'ethers';\nimport { useMutation } from '@tanstack/react-query';\nimport Wei from '@synthetixio/wei';\nimport { useCallback } from 'react';\n\nconst minimalWETHABI = ['function deposit() payable', 'function withdraw(uint256 wad)'];\n\nexport const useWrapEth = () => {\n  const signer = useSigner();\n\n  const { data: ethCollateral } = useCollateralType('WETH');\n  const { data: ethBalance, refetch: refetchETHBalance } = useEthBalance();\n  const { data: wethBalance, refetch: refetchWETHBalance } = useTokenBalance(\n    ethCollateral?.tokenAddress\n  );\n\n  const { mutateAsync, isLoading } = useMutation({\n    mutationFn: async (amount: Wei) => {\n      if (!ethCollateral || !signer) return;\n      const contract = new Contract(ethCollateral?.tokenAddress, minimalWETHABI, signer);\n      const txn = await contract.deposit({ value: amount.toBN() });\n      await txn.wait();\n    },\n  });\n  const exec = useCallback(\n    async (amount: Wei) => {\n      if (!ethBalance) return;\n      if (ethBalance.lt(amount)) return;\n\n      await mutateAsync(amount);\n      refetchETHBalance();\n      refetchWETHBalance();\n    },\n    [ethBalance, mutateAsync, refetchETHBalance, refetchWETHBalance]\n  );\n  return {\n    exec,\n    isLoading,\n    wethBalance,\n    ethBalance,\n  };\n};\n\nexport const useUnWrapEth = () => {\n  const signer = useSigner();\n\n  const { data: ethCollateral } = useCollateralType('WETH');\n  const { data: ethBalance, refetch: refetchETHBalance } = useEthBalance();\n  const { data: wethBalance, refetch: refetchWETHBalance } = useTokenBalance(\n    ethCollateral?.tokenAddress\n  );\n\n  const { mutateAsync, isLoading } = useMutation({\n    mutationFn: async (amount: Wei) => {\n      if (!ethCollateral || !signer) return;\n      const contract = new Contract(ethCollateral?.tokenAddress, minimalWETHABI, signer);\n      const txn = await contract.withdraw(amount.toBN());\n      await txn.wait();\n    },\n  });\n\n  const exec = useCallback(\n    async (amount: Wei) => {\n      if (!wethBalance) return;\n      if (wethBalance.lt(amount)) return;\n      await mutateAsync(amount);\n      await Promise.all([refetchETHBalance(), refetchWETHBalance()]);\n    },\n    [mutateAsync, refetchETHBalance, refetchWETHBalance, wethBalance]\n  );\n\n  return {\n    exec,\n    isLoading,\n    wethBalance,\n    ethBalance,\n  };\n};\n","interface CacheItem<T> {\n  timestamp: number;\n  value: T;\n}\n\ninterface Cache<T> {\n  [key: string]: CacheItem<T> | undefined;\n}\n\nconst cache: Cache<unknown> = {};\ntype MaybeString = 'no-cache' | undefined;\n\n/**\n * This function, `withMemoryCache`, takes a function as an argument.\n * The passed function can optionally be given an extra argument to bypass the cache.\n * If the last argument passed to `func` is `true`, the cache will be bypassed.\n * Otherwise, the function will use the cache, if available.\n */\nexport const withMemoryCache = <T extends unknown[], R>(\n  func: (...args: T) => Promise<R>,\n  cacheDuration: number\n) => {\n  return async (...args: [...T, MaybeString]): Promise<R> => {\n    const lastArg = args[args.length - 1];\n    const bypassCache = lastArg === 'no-cache';\n    const funcArgs = (bypassCache ? args.slice(0, -1) : args) as T;\n    const cacheKey = JSON.stringify(funcArgs);\n    const currentTime = Date.now();\n\n    if (!bypassCache) {\n      const cacheItem = cache[cacheKey] as CacheItem<R> | undefined;\n      if (cacheItem && currentTime - cacheItem.timestamp < cacheDuration) {\n        return cacheItem.value;\n      }\n    }\n\n    const result = await func(...funcArgs);\n\n    cache[cacheKey] = {\n      timestamp: currentTime,\n      value: result,\n    };\n\n    return result;\n  };\n};\n","/* eslint-disable no-console */\nimport { BigNumber, ethers, providers } from 'ethers';\nimport { EvmPriceServiceConnection } from '@pythnetwork/pyth-evm-js';\nimport { z } from 'zod';\nimport { ZodBigNumber } from '@snx-v3/zod';\nimport { offchainMainnetEndpoint, offchainTestnetEndpoint } from '@snx-v3/constants';\nimport { deploymentsWithERC7412, Network } from '@snx-v3/useBlockchain';\nimport type { Modify } from '@snx-v3/tsHelpers';\nimport { importCoreProxy, importMulticall3 } from '@synthetixio/v3-contracts';\nimport { withMemoryCache } from './withMemoryCache';\n\nexport const ERC7412_ABI = [\n  'error OracleDataRequired(address oracleContract, bytes oracleQuery)',\n  'error FeeRequired(uint feeAmount)',\n  'function oracleId() view external returns (bytes32)',\n  'function fulfillOracleQuery(bytes calldata signedOffchainData) payable external',\n];\n\ntype TransactionRequest = ethers.providers.TransactionRequest;\ntype TransactionRequestWithGasLimit = Modify<TransactionRequest, { gasLimit: ethers.BigNumber }>;\n\nconst PRICE_CACHE_LENGTH = 5000;\n\nconst fetchOffchainData = withMemoryCache(\n  async (oracleQuery: string, isTestnet: boolean, logLabel: string) => {\n    const priceService = new EvmPriceServiceConnection(\n      isTestnet ? offchainTestnetEndpoint : offchainMainnetEndpoint\n    );\n    const OracleQuerySchema = z.tuple([z.number(), ZodBigNumber, z.array(z.string())]);\n    const decoded = ethers.utils.defaultAbiCoder.decode(\n      ['uint8', 'uint64', 'bytes32[]'],\n      oracleQuery\n    );\n    const [updateType, stalenessTolerance, priceIds] = OracleQuerySchema.parse(decoded);\n    console.log(`[${logLabel}] stale price for priceFeedId: ${priceIds[0]}`);\n    if (updateType !== 1) {\n      throw new Error(`update type ${updateType} not supported`);\n    }\n    const signedOffchainData = await priceService.getPriceFeedsUpdateData(priceIds);\n\n    return ethers.utils.defaultAbiCoder.encode(\n      ['uint8', 'uint64', 'bytes32[]', 'bytes[]'],\n      [updateType, stalenessTolerance, priceIds, signedOffchainData]\n    );\n  },\n  PRICE_CACHE_LENGTH\n);\n\nfunction makeMulticall(\n  calls: TransactionRequest[],\n  senderAddr: string,\n  multicallAddress: string,\n  multiCallAbi: string[]\n): TransactionRequest {\n  const multicallInterface = new ethers.utils.Interface(multiCallAbi);\n  const encodedData = multicallInterface.encodeFunctionData('aggregate3Value', [\n    calls.map((call) => ({\n      target: call.to,\n      callData: call.data,\n      value: call.value || ethers.BigNumber.from(0),\n      allowFailure: false,\n    })),\n  ]);\n\n  let totalValue = ethers.BigNumber.from(0);\n  for (const call of calls) {\n    totalValue = totalValue.add(call.value || ethers.BigNumber.from(0));\n  }\n\n  return {\n    from: senderAddr,\n    to: multicallAddress,\n    data: encodedData,\n    value: totalValue,\n  };\n}\n\n// This should be used for networks that doesn't have a multicall setup as a trusted forwarder\n// TODO remove when all networks have a trusted forwarder\nconst makeCoreProxyMulticall = (\n  calls: TransactionRequest[],\n  senderAddr: string,\n  coreProxyAddress: string,\n  coreProxyAbi: string[]\n) => {\n  const CoreProxyInterface = new ethers.utils.Interface(coreProxyAbi);\n  const encodedData = CoreProxyInterface.encodeFunctionData('multicall', [\n    calls.map((call) => call.data),\n  ]);\n\n  let totalValue = ethers.BigNumber.from(0);\n  for (const call of calls) {\n    totalValue = totalValue.add(call.value || ethers.BigNumber.from(0));\n  }\n\n  return {\n    from: senderAddr,\n    to: coreProxyAddress,\n    data: encodedData,\n    value: totalValue,\n  };\n};\n\nconst ERC7412ErrorSchema = z.union([\n  z.object({\n    name: z.literal('OracleDataRequired'),\n    args: z.tuple([z.string(), z.string()]),\n  }),\n  z.object({\n    name: z.literal('FeeRequired'),\n    args: z.tuple([ZodBigNumber]),\n  }),\n]);\nconst erc7412Interface = new ethers.utils.Interface(ERC7412_ABI);\n\nconst parseError = async (error: any, provider: providers.JsonRpcProvider) => {\n  let errorData = error.data || error.error?.data?.data || error.error?.error?.data;\n\n  if (!errorData) {\n    try {\n      console.log('Error is missing revert data, trying provider.call, instead of estimate gas..');\n      // Some wallets swallows the revert reason when calling estimate gas,try to get the error by using provider.call\n      // provider.call wont actually revert, instead the error data is just returned\n      const lookedUpError = await provider.call(error.transaction);\n      errorData = lookedUpError;\n    } catch (newError: any) {\n      console.log('provider.call(error.transaction) failed, trying to extract error');\n      // I dont think we should end up here.. But it hard to know if some combo of wallets and rpc provider would....\n      errorData = error.data || error.error?.data?.data || error.error?.error?.data;\n      console.log('Error data: ', errorData);\n    }\n  }\n  try {\n    const decodedError = erc7412Interface.parseError(errorData);\n    return ERC7412ErrorSchema.parse(decodedError);\n  } catch (parseError) {\n    console.error(\n      'Error is not a ERC7412 error, re-throwing original error, for better parsing. Parse error reason: ',\n      parseError\n    );\n    // If we cant parse it, throw the original error\n    throw error;\n  }\n};\n\n// simulate w/ wETH contract because it will have eth balance\n// This is useful when we do read/static calls but still need an balance for the price update\n// TODO: this probably need to be network aware, maybe look into a different solution even.\nconst getDefaultFromAddress = (chainName: string) => {\n  switch (chainName) {\n    case 'cannon':\n      return '0x4200000000000000000000000000000000000006'; // TODO, unclear what to put here\n    case 'mainnet':\n      return '0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2';\n    case 'goerli':\n      return '0xb4fbf271143f4fbf7b91a5ded31805e42b2208d6';\n    case 'sepolia':\n      return '0x7b79995e5f793a07bc00c21412e50ecae098e7f9';\n    case 'optimism-mainnet':\n    case 'optimism-goerli':\n    case 'base-goerli':\n      return '0x4200000000000000000000000000000000000006';\n\n    default:\n      throw new Error(`Unsupported chain ${chainName}`);\n  }\n};\n\n/**\n * If a tx requires ERC7412 pattern, wrap your tx with this function.\n */\nexport const withERC7412 = async (\n  network: Network,\n  tx: TransactionRequest | TransactionRequest[],\n  logLabel?: string\n): Promise<TransactionRequestWithGasLimit> => {\n  const initialMulticallLength = Array.isArray(tx) ? tx.length : 1;\n  // eslint-disable-next-line prefer-const\n  let multicallCalls = [tx].flat(); // Use let to communicate that we mutate this array\n\n  if (multicallCalls.some((x) => !x.to)) {\n    throw Error(`Make sure all txs have 'to' field set`);\n  }\n  if (multicallCalls.some((x) => !x.from)) {\n    throw Error(`Make sure all txs have 'from' field set`);\n  }\n\n  const from = multicallCalls[0].from as string;\n\n  const jsonRpcProvider = new ethers.providers.JsonRpcProvider(network?.rpcUrl); // Make sure we're always using JSONRpcProvider, the web3 provider coming from the signer might have bugs causing errors to miss revert data\n\n  // If from is set to the default address (wETH) we can assume it's a read rather than a write\n  const isRead = from === getDefaultFromAddress(network.name);\n  const networkHaveERC7412 = deploymentsWithERC7412.includes(`${network.id}-${network.preset}`);\n  const useCoreProxy = !networkHaveERC7412 && !isRead;\n\n  const { address: multicallAddress, abi: multiCallAbi } = useCoreProxy\n    ? await importCoreProxy(network.id, network.preset)\n    : await importMulticall3(network.id, network.preset);\n\n  while (true) {\n    try {\n      if (multicallCalls.length == 1) {\n        const initialCall = multicallCalls[0];\n        // The normal flow would go in here, then if the estimate call fail, we catch the error and handle ERC7412\n        const gasLimit = await jsonRpcProvider.estimateGas(initialCall);\n        console.log(`Estimated gas succeeded, with no price updates`);\n        return { ...initialCall, gasLimit };\n      }\n      // If we're here it means we now added a tx to do .\n      // Some networks doesn't have ERC7412 and a trusted forwarder setup, on write calls we still need to use the coreproxy for those\n      const multicallTxn = useCoreProxy\n        ? makeCoreProxyMulticall(multicallCalls, from, multicallAddress, multiCallAbi)\n        : makeMulticall(multicallCalls, from, multicallAddress, multiCallAbi);\n\n      const gasLimit = await jsonRpcProvider.estimateGas(multicallTxn);\n\n      console.log(\n        `[${logLabel}] Estimated gas succeeded, with ${\n          multicallCalls.length - initialMulticallLength\n        } price updates`\n      );\n\n      return { ...multicallTxn, gasLimit };\n    } catch (error: any) {\n      const parsedError = await parseError(error, jsonRpcProvider);\n\n      if (parsedError.name === 'OracleDataRequired') {\n        const [oracleAddress, oracleQuery] = parsedError.args;\n        const ignoreCache = !isRead;\n        const signedRequiredData = await fetchOffchainData(\n          oracleQuery,\n          network.isTestnet,\n          logLabel || '',\n          ignoreCache ? 'no-cache' : undefined\n        );\n        const newTransactionRequest = {\n          from,\n          to: oracleAddress,\n          data: new ethers.utils.Interface(ERC7412_ABI).encodeFunctionData('fulfillOracleQuery', [\n            signedRequiredData,\n          ]),\n          // If from is set to the default address we can add a value directly, before getting FeeRequired revert.\n          // This will be a static call so no money would be withdrawn either way.\n          value: isRead ? ethers.utils.parseEther('0.1') : BigNumber.from(0),\n        };\n\n        // If we get OracleDataRequired, add an extra transaction request just before the last element\n        multicallCalls.splice(\n          multicallCalls.length - initialMulticallLength,\n          0,\n          newTransactionRequest\n        );\n      } else if (parsedError.name === 'FeeRequired') {\n        const requiredFee = parsedError.args[0];\n\n        const txToUpdate = multicallCalls.find(({ value }) => requiredFee.gt(value || 0)); // The first tx with value less than the required fee, is the one we need to update\n        if (txToUpdate === undefined) {\n          throw Error(\n            `Didn't find any tx with a value less than the required fee ${multicallCalls}`\n          );\n        }\n        txToUpdate.value = requiredFee;\n      } else {\n        throw error;\n      }\n    }\n  }\n};\n\n/**\n * This can be used to do reads plus decoding. The return type will be whatever the type of the decode function is. And the arguments passed will have the multicall decoded and price updates removed\n */\nexport async function erc7412Call<T>(\n  network: Network,\n  provider: ethers.providers.Provider,\n  txRequests: TransactionRequest | TransactionRequest[],\n  decode: (x: string[] | string) => T,\n  logLabel?: string\n) {\n  const { address: multicallAddress, abi: multicallAbi } = await importMulticall3(\n    network.id,\n    network.preset\n  );\n\n  const reqs = [txRequests].flat();\n  for (const txRequest of reqs) {\n    txRequest.from = getDefaultFromAddress(network.name); // Reads can always use WETH\n  }\n  const newCall = await withERC7412(network, reqs, logLabel);\n\n  const res = await provider.call(newCall);\n\n  if (newCall.to === multicallAddress) {\n    // If this was a multicall, decode and remove price updates.\n    const decodedMultiCall: { returnData: string }[] = new ethers.utils.Interface(\n      multicallAbi\n    ).decodeFunctionResult('aggregate3Value', res)[0];\n\n    // Remove the price updates\n    const responseWithoutPriceUpdates = decodedMultiCall.filter(\n      ({ returnData }) => returnData !== '0x' // price updates have 0x as return data\n    );\n    return decode(responseWithoutPriceUpdates.map(({ returnData }) => returnData));\n  }\n\n  return decode(res);\n}\n","import { BigNumber } from 'ethers';\nimport { z } from 'zod';\nimport { wei } from '@synthetixio/wei';\n\nexport const ZodBigNumber = z.custom<BigNumber>((val) => BigNumber.isBigNumber(val));\n\nexport const SmallIntSchema = ZodBigNumber.transform((x) => wei(x, 0).toNumber());\nexport const WeiSchema = ZodBigNumber.transform((x) => wei(x));\n","import {\n  ComponentMultiStyleConfig,\n  ComponentStyleConfig,\n  defineStyle,\n  extendTheme,\n} from '@chakra-ui/react';\nimport { mode } from '@chakra-ui/theme-tools';\n\nconst gradients = {\n  'green-cyan': {\n    500: 'linear(to-tr, green.500, cyan.500)',\n    600: 'linear(to-tr, green.600, cyan.600)',\n    700: 'linear(to-tr, green.700, cyan.800)',\n  },\n\n  grey: {\n    900: 'linear(to-tr, grey.900, blackAlpha.900)',\n  },\n  dark: {\n    500: 'linear(to-tr, #171923, #141414)',\n  },\n\n  'pink-purple': {\n    500: 'linear(to-tr, pink.500, purple.500)',\n    600: 'linear(to-tr, pink.600, purple.600)',\n    700: 'linear(to-tr, pink.700, purple.800)',\n  },\n\n  'pink-blue': {\n    500: 'linear(to-tr, pink.500, blue.500)',\n    600: 'linear(to-tr, pink.600, blue.600)',\n    700: 'linear(to-tr, pink.700, blue.800)',\n  },\n  'pink-cyan': {\n    500: 'linear(to-tr, pink.500, cyan.500)',\n    600: 'linear(to-tr, pink.600, cyan.600)',\n    700: 'linear(to-tr, pink.700, cyan.800)',\n  },\n\n  orange: {\n    500: 'linear(to-tr, orange.500, orange.300)',\n    600: 'linear(to-tr, orange.600, orange.400)',\n    700: 'linear(to-tr, orange.700, orange.500)',\n  },\n};\n\n// adapted from https://github.com/chakra-ui/chakra-ui/blob/main/packages/components/theme/src/components/button.ts#L90\nconst variantSolid = defineStyle((props) => {\n  const { colorScheme: c } = props;\n\n  if (c === 'gray') {\n    const bg = mode(`gray.100`, `whiteAlpha.200`)(props);\n\n    return {\n      color: mode(`black`, `whiteAlpha.900`)(props),\n      bg,\n      _hover: {\n        bg: mode(`gray.200`, `whiteAlpha.300`)(props),\n        _disabled: {\n          bg,\n        },\n      },\n      _active: { bg: mode(`gray.300`, `whiteAlpha.400`)(props) },\n    };\n  }\n\n  if (c === 'cyan') {\n    return {\n      bgGradient: gradients['green-cyan'][500],\n      color: 'black',\n      _hover: {\n        bgGradient: gradients['green-cyan'][600],\n        _disabled: {\n          background: gradients['green-cyan'][500],\n        },\n      },\n      _active: {\n        bgGradient: gradients['green-cyan'][700],\n      },\n    };\n  }\n\n  const bg = `${c}.500`;\n  const color = 'white';\n  const hoverBg = `${c}.600`;\n  const activeBg = `${c}.700`;\n  const background = mode(bg, `${c}.600`)(props);\n\n  return {\n    bg: background,\n    color: mode(color, `white`)(props),\n    _hover: {\n      bg: mode(hoverBg, `${c}.500`)(props),\n      _disabled: {\n        bg: background,\n      },\n    },\n    _active: { bg: mode(activeBg, `${c}.400`)(props) },\n  };\n});\n\nconst Button: ComponentStyleConfig = {\n  defaultProps: {\n    colorScheme: 'cyan',\n  },\n  variants: {\n    solid: variantSolid,\n    outline: (props) => {\n      if (props.colorScheme === 'gray') {\n        return {\n          color: 'whiteAlpha.800',\n          borderColor: 'gray.900',\n          _hover: { bg: 'rgba(255, 255, 255, 0.12)' }, // white 0.12 opacity\n          _active: { bg: 'rgba(255, 255, 255, 0.24)' }, //white 0.24 opacity\n        };\n      }\n      return {\n        color: 'cyan.500', // needed for storybook for some reason\n        border: '1px solid', // needed for storybook for some reason\n        borderColor: 'cyan.500', // needed for storybook for some reason\n        _hover: { bg: 'rgb(0, 209, 255, 0.12)' }, // cyan.500 0.12 opacity\n        _active: { bg: 'rgb(0, 209, 255, 0.24)' }, // cyan.500 0.24 opacity\n      };\n    },\n    ghost: {\n      color: 'cyan.500', // needed for storybook for some reason\n      _hover: { bg: 'rgb(0, 209, 255, 0.12)' }, // cyan.500 0.12 opacity\n      _active: { bg: 'rgb(0, 209, 255, 0.24)' }, // cyan.500 0.24 opacity\n    },\n  },\n};\n\nconst Menu: ComponentMultiStyleConfig = {\n  parts: ['button', 'list', 'item'],\n  baseStyle: {\n    button: {\n      color: 'white',\n      span: {\n        display: 'flex',\n        alignItems: 'center',\n        px: 2,\n      },\n      height: '100%',\n    },\n    list: {\n      mt: 2,\n      bgColor: 'navy.900',\n      padding: 0,\n      border: 'none',\n      borderRadius: 'md',\n      py: 0,\n    },\n    item: {\n      bgColor: 'blackAlpha.300',\n      color: 'whiteAlpha.900',\n      p: 3,\n      _hover: {\n        bgColor: 'whiteAlpha.400',\n      },\n      _active: {\n        bgColor: 'navy.900',\n      },\n      _first: {\n        borderTopLeftRadius: 'md',\n        borderTopRightRadius: 'md',\n      },\n      _last: {\n        borderBottomLeftRadius: 'md',\n        borderBottomRightRadius: 'md',\n      },\n      _focus: {\n        bgColor: 'blackAlpha.400',\n      },\n    },\n  },\n};\n\nconst Input: ComponentStyleConfig = {\n  defaultProps: {\n    focusBorderColor: 'cyan.500',\n    errorBorderColor: 'red.500',\n  },\n};\n\nconst Select: ComponentStyleConfig = {\n  defaultProps: {\n    focusBorderColor: 'cyan.500',\n    iconColor: 'cyan.500',\n    errorBorderColor: 'red.500',\n  },\n};\n\nconst NumberInput: ComponentStyleConfig = {\n  defaultProps: {\n    focusBorderColor: 'cyan.500',\n    errorBorderColor: 'red.500',\n  },\n};\n\nconst Textarea: ComponentStyleConfig = {\n  defaultProps: {\n    focusBorderColor: 'cyan.500',\n    colorScheme: 'cyan',\n    errorBorderColor: 'red.500',\n  },\n};\n\nconst Alert: ComponentStyleConfig = {\n  defaultProps: {\n    variant: 'left-accent',\n  },\n  variants: {\n    'left-accent': (props) => {\n      return {\n        container: {\n          bg: `${props.colorScheme}.900`,\n          borderInlineStartColor: `${props.colorScheme}.500`,\n        },\n      };\n    },\n    solid: (props) => {\n      return {\n        icon: { color: 'white' },\n        container: { bg: `${props.colorScheme}.500`, color: 'white' },\n      };\n    },\n  },\n};\n\nconst Skeleton: ComponentStyleConfig = {\n  defaultProps: {\n    startColor: 'gray.900',\n    endColor: 'gray.800',\n  },\n};\n\nconst Checkbox: ComponentStyleConfig = {\n  defaultProps: {\n    colorScheme: 'cyan',\n  },\n  baseStyle: {\n    control: {\n      borderColor: 'cyan.500',\n      _checked: {\n        bg: 'cyan.500',\n        borderColor: 'cyan.500',\n        _hover: {\n          bg: 'cyan.600',\n          borderColor: 'cyan.600',\n        },\n      },\n      _invalid: {\n        borderColor: 'red.500',\n      },\n      _disabled: {\n        _hover: {\n          borderColor: 'transparent',\n        },\n      },\n      _hover: {\n        borderColor: 'cyan.600',\n      },\n    },\n  },\n};\n\nconst Radio: ComponentStyleConfig = {\n  defaultProps: {\n    colorScheme: 'cyan',\n  },\n  baseStyle: {\n    control: {\n      borderColor: 'cyan.500',\n      _checked: {\n        bg: 'cyan.500',\n        borderColor: 'cyan.500',\n        _hover: {\n          bg: 'cyan.600',\n          borderColor: 'cyan.600',\n        },\n      },\n      _invalid: {\n        borderColor: 'red.500',\n      },\n      _disabled: {\n        _hover: {\n          borderColor: 'transparent',\n        },\n      },\n      _hover: {\n        borderColor: 'cyan.600',\n      },\n    },\n  },\n};\n\nconst Badge: ComponentStyleConfig = {\n  defaultProps: {\n    colorScheme: 'cyan',\n  },\n  variants: {\n    subtle: (props) => ({\n      color: `${props.colorScheme}.500`,\n    }),\n    solid: (props) => ({\n      background: `${props.colorScheme}.500`,\n      color: 'black',\n    }),\n    outline: (props) => ({\n      borderColor: `${props.colorScheme}.500`,\n      color: `${props.colorScheme}.500`,\n    }),\n    percent: {\n      color: 'cyan.500',\n      bg: 'whiteAlpha.300',\n      fontFamily: 'heading',\n      py: 1,\n      px: 2,\n      borderRadius: 'base',\n      borderWidth: '1px',\n      borderColor: 'transparent',\n      width: '100%',\n      textAlign: 'center',\n      userSelect: 'none',\n    },\n  },\n};\n\nconst Tag: ComponentStyleConfig = {\n  defaultProps: {\n    colorScheme: 'cyan',\n    variant: 'solid',\n  },\n  variants: {\n    solid: (props) => ({\n      container: {\n        background: `${props.colorScheme}.500`,\n        color: 'black',\n      },\n    }),\n  },\n};\n\nconst Accordion: ComponentStyleConfig = {\n  baseStyle: {\n    container: {\n      borderColor: 'gray.900',\n      borderWidth: '1px',\n      borderRadius: 'base',\n    },\n  },\n};\n\nconst Progress: ComponentStyleConfig = {\n  defaultProps: {\n    colorScheme: 'cyan',\n    variant: 'solid',\n    borderRadius: 'full',\n  },\n  variants: {\n    solid: (props) => ({\n      filledTrack: {\n        background: `${props.colorScheme}.500`,\n        borderRadius: 'full',\n      },\n      track: {\n        borderRadius: 'full',\n      },\n    }),\n  },\n};\n\nconst Tabs: ComponentStyleConfig = {\n  defaultProps: {\n    colorScheme: 'cyan',\n  },\n  variants: {\n    'solid-rounded': (props) => ({\n      tab: {\n        _selected: {\n          background: `${props.colorScheme}.500`,\n          color: 'black',\n        },\n        color: `${props.colorScheme}.500`,\n      },\n    }),\n    'soft-rounded': {\n      tab: {\n        _selected: {\n          background: 'whiteAlpha.300',\n          color: 'cyan.500',\n        },\n        color: 'cyan.500',\n      },\n    },\n  },\n};\n\nconst Tooltip: ComponentStyleConfig = {\n  baseStyle: {\n    textAlign: 'center',\n    bg: 'gray.900',\n    color: 'white.500',\n    '--popper-arrow-bg': 'var(--chakra-colors-gray-900)',\n  },\n};\n\nconst Switch: ComponentStyleConfig = {\n  defaultProps: {\n    colorScheme: 'cyan',\n  },\n  baseStyle: {\n    track: {\n      _checked: {\n        background: 'cyan.500',\n      },\n    },\n  },\n};\n\nconst Spinner: ComponentStyleConfig = {\n  baseStyle: {\n    color: 'cyan.500',\n  },\n};\n\nexport const theme = extendTheme({\n  useSystemColorMode: false,\n  initialColorMode: 'dark',\n  colors: {\n    gray: {\n      50: '#F6F6F6',\n      100: '#F1F1F1',\n      200: '#DDDDDF',\n      300: '#C3C3C9',\n      400: '#AAAAB2',\n      500: '#91919B',\n      600: '#7A7A85',\n      700: '#63636E',\n      800: '#4D4D57',\n      900: '#303037',\n    },\n    red: {\n      50: '#FFEDEF',\n      100: '#FFC4CB',\n      200: '#FF9BA7',\n      300: '#FF7384',\n      400: '#FF4A60',\n      500: '#E4364B',\n      600: '#C53030',\n      700: '#9B2C2C',\n      800: '#822727',\n      900: '#63171B',\n    },\n    orange: {\n      50: '#FFF3EB',\n      100: '#FFD8BE',\n      200: '#FFBE92',\n      300: '#FFA365',\n      400: '#FF9A54',\n      500: '#FC8738',\n      600: '#DC732D',\n      700: '#96420A',\n      800: '#743002',\n      900: '#522100',\n    },\n    yellow: {\n      50: '#FFFBEF',\n      100: '#FFF2CA',\n      200: '#FFF5A8',\n      300: '#FFF889',\n      400: '#FFF458',\n      500: '#FAE527',\n      600: '#EAD516',\n      700: '#B5932B',\n      800: '#776017',\n      900: '#55430D',\n    },\n    green: {\n      50: '#EDFFF9',\n      100: '#C3FFEC',\n      200: '#9AE6B4',\n      300: '#72FFD3',\n      400: '#47FAC2',\n      500: '#34EDB3',\n      600: '#2BD39F',\n      700: '#11946B',\n      800: '#077250',\n      900: '#015037',\n    },\n    blue: {\n      50: '#EDF6FF',\n      100: '#C4E2FF',\n      200: '#9CCFFF',\n      300: '#73BBFF',\n      400: '#479EF0',\n      500: '#3182CE',\n      600: '#1F68AC',\n      700: '#11508A',\n      800: '#073968',\n      900: '#012546',\n    },\n    cyan: {\n      50: '#E5FAFF',\n      100: '#B7F2FF',\n      200: '#8AEAFF',\n      300: '#5CE1FF',\n      400: '#2ED9FF',\n      500: '#00D1FF',\n      600: '#00B0D6',\n      700: '#008EAD',\n      800: '#006D85',\n      900: '#004B5C',\n    },\n    purple: {\n      50: '#F0EEFF',\n      100: '#CFC9FF',\n      200: '#AEA4FF',\n      300: '#8D7EFF',\n      400: '#6B59FF',\n      500: '#5744EA',\n      600: '#402FC8',\n      700: '#2D1EA6',\n      800: '#1D1084',\n      900: '#10104E',\n    },\n    pink: {\n      50: '#FDE8FF',\n      100: '#F9B6FF',\n      200: '#F583FF',\n      300: '#F471FF',\n      400: '#EB46FF',\n      500: '#EE2EFF',\n      600: '#BE02CE',\n      700: '#8D0099',\n      800: '#6E0077',\n      900: '#4E0055',\n    },\n    navy: {\n      50: '#522ED1',\n      100: '#401FB7',\n      200: '#3719A6',\n      300: '#2F1298',\n      400: '#1F0777',\n      500: '#150942',\n      600: '#0E052F',\n      700: '#0B0B22',\n      800: '#0A0A25',\n      900: '#06061B',\n    },\n    error: '#FF4A60', // red.400,\n    success: '#34EDB3', //green.500\n    warning: '#FC8738', // orange.500\n  },\n  shadows: {\n    outline: '0 0 0 3px rgba(0, 209, 255, 1)',\n  },\n  fonts: {\n    heading:\n      'Inter, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"',\n    body: 'Inter, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"',\n    display:\n      '\"GT America Condensed\", Inter, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"',\n    mono: '\"GT America Mono\", SFMono-Regular,Menlo,Monaco,Consolas,\"Liberation Mono\",\"Courier New\",monospace',\n  },\n  components: {\n    Popover: {\n      variants: {\n        responsive: {\n          popper: {\n            maxWidth: 'unset',\n            width: 'unset',\n          },\n        },\n      },\n    },\n    Button,\n    Input,\n    Select,\n    NumberInput,\n    Alert,\n    Textarea,\n    Skeleton,\n    Checkbox,\n    Radio,\n    Badge,\n    Tag,\n    Accordion,\n    Progress,\n    Tabs,\n    Tooltip,\n    Switch,\n    Spinner,\n    Menu,\n  },\n  // To be imported and used with the bgGradient prop\n  // See: https://chakra-ui.com/docs/styled-system/gradient#background-gradient-api\n  gradients,\n  textStyles: {\n    'heading-4xl': {\n      fontSize: { base: '60px', lg: '72px' },\n      fontFamily: 'heading',\n      lineHeight: { base: '57.6px', lg: '72px' },\n      fontWeight: 700,\n    },\n    'heading-3xl': {\n      fontSize: { base: '48px', md: '60px' },\n      fontFamily: 'heading',\n      lineHeight: { base: '57.6px', md: '72px', lg: '60px' },\n      fontWeight: 700,\n    },\n    'heading-2xl': {\n      fontSize: { base: '36px', md: '48px' },\n      fontFamily: 'heading',\n      lineHeight: { base: '120%' },\n      fontWeight: 700,\n    },\n    'heading-xl': {\n      fontSize: { base: '30px', lg: '36px' },\n      fontFamily: 'heading',\n      lineHeight: { base: '36px', lg: '120%' },\n      fontWeight: 700,\n    },\n    'heading-lg': {\n      fontSize: { base: '24px', lg: '30px' },\n      fontFamily: 'heading',\n      lineHeight: { base: '28.8px', lg: '36px' },\n      fontWeight: 700,\n    },\n    'heading-md': {\n      fontSize: { base: '20px', lg: '24px' },\n      fontFamily: 'heading',\n      lineHeight: '24px',\n      fontWeight: 700,\n    },\n    'heading-sm': {\n      fontSize: '16px',\n      fontFamily: 'heading',\n      lineHeight: '19.2px',\n      fontWeight: 700,\n    },\n    'heading-xs': {\n      fontSize: '14px',\n      fontFamily: 'heading',\n      lineHeight: '16.8px',\n      fontWeight: 700,\n    },\n  },\n  sizes: {\n    px: '1px',\n    0.5: '0.125rem',\n    1: '0.25rem',\n    1.5: '0.375rem',\n    2: '0.5rem',\n    2.5: '0.625rem',\n    3: '0.75rem',\n    3.5: '0.875rem',\n    4: '1rem',\n    5: '1.25rem',\n    6: '1.5rem',\n    7: '1.75rem',\n    8: '2rem',\n    9: '2.25rem',\n    10: '2.5rem',\n    12: '3rem',\n    14: '3.5rem',\n    16: '4rem',\n    20: '5rem',\n    24: '6rem',\n    28: '7rem',\n    32: '8rem',\n    36: '9rem',\n    40: '10rem',\n    44: '11rem',\n    48: '12rem',\n    52: '13rem',\n    56: '14rem',\n    60: '15rem',\n    64: '16rem',\n    72: '18rem',\n    80: '20rem',\n    96: '24rem',\n    max: 'max-content',\n    min: 'min-content',\n    full: '100%',\n    '3xs': '14rem',\n    '2xs': '16rem',\n    xs: '20rem',\n    sm: '24rem',\n    md: '28rem',\n    lg: '32rem',\n    xl: '36rem',\n    '2xl': '42rem',\n    '3xl': '48rem',\n    '4xl': '56rem',\n    '5xl': '64rem',\n    '6xl': '72rem',\n    '7xl': '80rem',\n    '8xl': '90rem',\n    container: {\n      sm: '640px',\n      md: '768px',\n      lg: '1024px',\n      xl: '1280px',\n    },\n  },\n  styles: {\n    global: {\n      body: {\n        bg: 'navy.900',\n      },\n    },\n  },\n});\n","import { Global } from '@emotion/react';\n\nexport const Fonts = () => (\n  <Global\n    styles={`\n      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@200..700&display=swap');\n      @font-face {\n        font-family: 'GT America Condensed';\n        font-style: normal;\n        font-display: swap;\n        font-weight: 700;\n        src: local('GT America Condensed'),\n          url('https://fonts.synthetix.io/GT%20America%20Condensed%20Bold.woff2') format('woff2'),\n          url('https://fonts.synthetix.io/GT%20America%20Condensed%20Bold.woff') format('woff'),\n          url('https://fonts.synthetix.io/GT%20America%20Condensed%20Bold.otf') format('opentype');\n      }\n      @font-face {\n        font-family: 'GT America Condensed';\n        font-style: italic;\n        font-display: swap;\n        font-weight: 700;\n        src: local('GT America Condensed'),\n          url('https://fonts.synthetix.io/GT%20America%20Condensed%20Bold%20Italic.woff2')\n            format('woff2'),\n          url('https://fonts.synthetix.io/GT%20America%20Condensed%20Bold%20Italic.woff')\n            format('woff'),\n          url('https://fonts.synthetix.io/GT%20America%20Condensed%20Bold%20Italic.otf')\n            format('opentype');\n      }\n      @font-face {\n        font-family: 'GT America Condensed';\n        font-style: normal;\n        font-display: swap;\n        font-weight: 100;\n        src: local('GT America Condensed'),\n          url('https://fonts.synthetix.io/GT%20America%20Condensed%20Thin.woff2') format('woff2'),\n          url('https://fonts.synthetix.io/GT%20America%20Condensed%20Thin.woff') format('woff'),\n          url('https://fonts.synthetix.io/GT%20America%20Condensed%20Thin.otf') format('opentype');\n      }\n      @font-face {\n        font-family: 'GT America Condensed';\n        font-style: italic;\n        font-display: swap;\n        font-weight: 100;\n        src: local('GT America Condensed'),\n          url('https://fonts.synthetix.io/GT%20America%20Condensed%20Thin%20Italic.woff2')\n            format('woff2'),\n          url('https://fonts.synthetix.io/GT%20America%20Condensed%20Thin%20Italic.woff')\n            format('woff'),\n          url('https://fonts.synthetix.io/GT%20America%20Condensed%20Thin%20Italic.otf')\n            format('opentype');\n      }\n      @font-face {\n        font-family: 'GT America Mono';\n        font-style: normal;\n        font-display: swap;\n        font-weight: 700;\n        src: local('GT America Mono'),\n          url('https://fonts.synthetix.io/GT%20America%20Mono%20Bold.woff2') format('woff2'),\n          url('https://fonts.synthetix.io/GT%20America%20Mono%20Bold.woff') format('woff'),\n          url('https://fonts.synthetix.io/GT%20America%20Mono%20Bold.otf') format('opentype');\n      }\n      @font-face {\n        font-family: 'Lustra Text';\n        font-style: normal;\n        font-display: swap;\n        font-weight: 400;\n        src: local('Lustra Text'),\n          url('https://fonts.synthetix.io/Lustra%20Text%20Thin.otf') format('opentype');\n      }\n    `}\n  />\n);\n","import { useState } from 'react';\nimport {\n  Modal,\n  ModalOverlay,\n  ModalContent,\n  ModalHeader,\n  ModalBody,\n  Text,\n  Button,\n  Box,\n  Link,\n  ListItem,\n  UnorderedList,\n} from '@chakra-ui/react';\nimport { Link as ReactRouterLink } from 'react-router-dom';\nimport { theme } from '@synthetixio/v3-theme';\nimport { SESSION_STORAGE_KEYS } from '@snx-v3/constants';\n\ninterface TermsModalProps {\n  defaultOpen: boolean;\n}\n\nexport const TermsModal = ({ defaultOpen = true }: TermsModalProps) => {\n  const [isOpen, setOpen] = useState(defaultOpen);\n  const [enabled, setEnabled] = useState(false);\n\n  const onSubmit = () => {\n    if (enabled) {\n      sessionStorage.setItem(SESSION_STORAGE_KEYS.TERMS_CONDITIONS_ACCEPTED, JSON.stringify(true));\n      setOpen(false);\n    }\n  };\n\n  return (\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    <Modal isOpen={isOpen} onClose={() => {}}>\n      <ModalOverlay />\n      <ModalContent\n        bgGradient={theme.gradients['dark'][500]}\n        pt=\"10\"\n        pb=\"3\"\n        borderWidth=\"1px\"\n        borderColor=\"gray.900\"\n        data-testid=\"transaction modal\"\n      >\n        <ModalHeader py={0} textAlign=\"center\">\n          Synthetix Terms of Service\n        </ModalHeader>\n        <ModalBody fontSize=\"xs\" color=\"gray.600\">\n          <Text fontSize=\"sm\">\n            By clicking I Agree below, you agree to be bound by the terms of this Agreement. As\n            such, you fully understand that:\n          </Text>\n          <Box\n            onScroll={(e) => {\n              const div = e.currentTarget;\n              const scrollTopWithTolerance = div.scrollTop + 10;\n              if (scrollTopWithTolerance >= div.scrollHeight - div.offsetHeight) {\n                setEnabled(true);\n              } else {\n                setEnabled(false);\n              }\n            }}\n            as=\"div\"\n            my={2}\n            py={3}\n            height=\"350px\"\n            overflow=\"auto\"\n            overflowX=\"scroll\"\n            sx={{\n              '::-webkit-scrollbar': {\n                display: 'block',\n              },\n              '::-webkit-scrollbar-track': {\n                backgroundColor: 'transparent',\n              },\n              '::-webkit-scrollbar-track-piece': {\n                backgroundColor: 'transparent',\n              },\n              '::-webkit-scrollbar-corner': {\n                backgroundColor: 'transparent',\n              },\n            }}\n          >\n            <UnorderedList>\n              <Text fontSize=\"14px\">\n                <ListItem>\n                  <Link\n                    href=\"https://synthetix.io/\"\n                    target=\"_blank\"\n                    color=\"cyan.500\"\n                    _focusVisible={{ outline: 'none' }}\n                  >\n                    Synthetix{' '}\n                  </Link>\n                  is a blockchain-based decentralized finance project. You are participating at your\n                  own risk.\n                </ListItem>\n                <ListItem mt={2}>\n                  Synthetix is offered for use as is and without any guarantees regarding\n                  security. The protocol is made up of immutable code and can be accessed through a\n                  variety of user interfaces.\n                </ListItem>\n                <ListItem mt={2}>\n                  No central entity operates the Synthetix protocol. Decisions related to the\n                  protocol are governed by a dispersed group of participants who collectively govern\n                  and maintain the protocol.\n                </ListItem>\n                <ListItem mt={2}>\n                  Synthetix DAO does not unilaterally offer, maintain, operate, administer, or\n                  control any trading interfaces. The only user interfaces maintained by Synthetix\n                  DAO are the governance and liquidity interfaces herein.\n                </ListItem>\n                <ListItem mt={2}>\n                  You can participate in the governance process by staking SNX tokens in accordance\n                  with the rules and parameters summarized{' '}\n                  <Link\n                    href=\"https://governance.synthetix.io/\"\n                    target=\"_blank\"\n                    color=\"cyan.500\"\n                    _focusVisible={{ outline: 'none' }}\n                  >\n                    here\n                  </Link>\n                  , and/or joining the{' '}\n                  <Link\n                    color=\"cyan.500\"\n                    target=\"_blank\"\n                    href=\"https://discord.com/invite/AEdUHzt\"\n                    _focusVisible={{ outline: 'none' }}\n                  >\n                    Synthetix Discord\n                  </Link>{' '}\n                  and contributing to the conversation.\n                </ListItem>\n                <ListItem mt={2}>\n                  The rules and parameters associated with the Synthetix protocol and Synthetix DAO\n                  governance are subject to change at any time.\n                </ListItem>\n                <ListItem mt={2}>\n                  Your use of Synthetix is conditioned upon your acceptance to be bound by the\n                  Synthetix Term of Use, which can be found{' '}\n                  <Link\n                    as={ReactRouterLink}\n                    to=\"/terms\"\n                    target=\"_blank\"\n                    color=\"cyan.500\"\n                    _focusVisible={{ outline: 'none' }}\n                  >\n                    here\n                  </Link>\n                  .\n                </ListItem>\n                <ListItem mt={2}>\n                  The laws that apply to your use of Synthetix may vary based upon the jurisdiction\n                  in which you are located. We strongly encourage you to speak with legal counsel in\n                  your jurisdiction if you have any questions regarding your use of Synthetix.\n                </ListItem>\n                <ListItem mt={2}>\n                  By entering into this agreement, you are not agreeing to enter into a partnership.\n                  You understand that Synthetix is a decentralized protocol provided on an as is\n                  basis.\n                </ListItem>\n                <ListItem mt={2}>\n                  You hereby release all present and future claims against Synthetix DAO related to\n                  your use of the protocol, the SNX token, SNX DAO governance, and any other facet\n                  of the protocol.\n                </ListItem>\n                <ListItem mt={2}>\n                  You agree to indemnify and hold harmless SNX DAO and its affiliates for any costs\n                  arising out of or relating to your use of the Synthetix protocol.\n                </ListItem>\n                <ListItem mt={2}>\n                  You are not accessing the protocol from Burma (Myanmar), Cuba, Iran, Sudan, Syria,\n                  the Western Balkans, Belarus, Cte dIvoire, Democratic Republic of the Congo,\n                  Iraq, Lebanon, Liberia, Libya, North Korea, Russia, certain sanctioned areas of\n                  Ukraine, Somalia, Venezuela, Yemen, or Zimbabwe (collectively, Prohibited\n                  Jurisdictions), or any other jurisdiction listed as a Specially Designated\n                  National by the United States Office of Foreign Asset Control (OFAC).\n                </ListItem>\n              </Text>\n            </UnorderedList>\n          </Box>\n        </ModalBody>\n        <Button\n          variant=\"outline\"\n          _focusVisible={{ outline: 'none' }}\n          my={4}\n          mx={6}\n          onClick={onSubmit}\n          isDisabled={!enabled}\n        >\n          I agree\n        </Button>\n      </ModalContent>\n    </Modal>\n  );\n};\n","import { Box } from '@chakra-ui/react';\n\nexport default function Footer() {\n  return (\n    <Box textAlign=\"center\" fontSize=\"xs\" p=\"1\" background=\"whiteAlpha.200\" mt=\"4\">\n      This is an experimental prototype for Synthetix V3. Provide feedback in{' '}\n      <a rel=\"noreferrer\" target=\"_blank\" href=\"https://discord.gg/ngpjqNWW\">\n        <u>#synthetix-v3</u>\n      </a>{' '}\n      on Discord. View on{' '}\n      <a rel=\"noreferrer\" target=\"_blank\" href=\"https://github.com/Synthetixio/synthetix-v3\">\n        <u>GitHub</u>\n      </a>\n      .\n    </Box>\n  );\n}\n","import { Button, Flex, Menu, MenuButton, MenuItem, MenuList, Text } from '@chakra-ui/react';\nimport { ChevronDown, ChevronUp, WalletIcon } from '@snx-v3/icons';\nimport {\n  disconnect,\n  NETWORKS,\n  onboard,\n  useNetwork,\n  useSetNetwork,\n  useWallet,\n} from '@snx-v3/useBlockchain';\nimport { prettyString } from '@snx-v3/format';\n\nexport function NetworkController() {\n  const wallet = useWallet();\n  const activeNetwork = useNetwork();\n  const setNetwork = useSetNetwork();\n  return (\n    <Flex>\n      <Menu>\n        {({ isOpen }) => (\n          <>\n            <MenuButton\n              as={Button}\n              variant=\"outline\"\n              colorScheme=\"gray\"\n              sx={{ '> span': { display: 'flex', alignItems: 'center' } }}\n              mr={1}\n            >\n              <activeNetwork.Icon />\n              <Text\n                variant=\"nav\"\n                fontSize=\"sm\"\n                fontWeight={700}\n                ml={1.5}\n                mr={2}\n                display={{ base: 'none', md: 'initial' }}\n              >\n                {activeNetwork.label}\n              </Text>\n              <Flex display={{ base: 'none', md: 'initial' }}>\n                {isOpen ? <ChevronUp color=\"cyan\" /> : <ChevronDown color=\"cyan.500\" />}\n              </Flex>\n            </MenuButton>\n            <MenuList>\n              {NETWORKS.filter((network) => network.isSupported).map((network) => (\n                <MenuItem\n                  key={`${network.id}-${network.preset}`}\n                  onClick={() => setNetwork(network)}\n                >\n                  <network.Icon />\n                  <Text variant=\"nav\" ml={2}>\n                    {network.label}\n                  </Text>\n                </MenuItem>\n              ))}\n            </MenuList>\n          </>\n        )}\n      </Menu>\n      {wallet ? (\n        <Menu>\n          <MenuButton\n            as={Button}\n            variant=\"outline\"\n            colorScheme=\"gray\"\n            ml={2}\n            height={10}\n            py=\"6px\"\n            px=\"9.5px\"\n            whiteSpace=\"nowrap\"\n          >\n            <WalletIcon />\n            <Text\n              as=\"span\"\n              ml={1}\n              color=\"whiteAlpha.800\"\n              fontWeight={700}\n              fontSize=\"xs\"\n              userSelect=\"none\"\n            >\n              {wallet.ens?.name || prettyString(wallet.address)}\n            </Text>\n          </MenuButton>\n          <MenuList>\n            <MenuItem\n              onClick={() => {\n                try {\n                  navigator.clipboard.writeText(wallet?.address);\n                } catch (_e) {}\n              }}\n            >\n              <Text variant=\"nav\" ml={2}>\n                Copy address\n              </Text>\n            </MenuItem>\n            <MenuItem onClick={disconnect}>\n              <Text variant=\"nav\" ml={2}>\n                Disconnect\n              </Text>\n            </MenuItem>\n          </MenuList>\n        </Menu>\n      ) : (\n        <Button\n          onClick={() => onboard.connectWallet()}\n          type=\"button\"\n          size=\"sm\"\n          ml={2}\n          py={5}\n          data-testid=\"connect-wallet-button\"\n        >\n          Connect Wallet\n        </Button>\n      )}\n    </Flex>\n  );\n}\n","import { Contract } from '@ethersproject/contracts';\nimport { useQuery } from '@tanstack/react-query';\nimport { useNetwork, useProvider, useSigner } from '@snx-v3/useBlockchain';\nimport { AccountProxyType, importAccountProxy } from '@synthetixio/v3-contracts';\n\nexport function useAccountProxy() {\n  const network = useNetwork();\n  const provider = useProvider();\n  const signer = useSigner();\n  const signerOrProvider = signer || provider;\n  const withSigner = Boolean(signer);\n\n  return useQuery({\n    queryKey: [`${network.id}-${network.preset}`, 'AccountProxy', { withSigner }],\n    queryFn: async function () {\n      const { address, abi } = await importAccountProxy(network.id, network.preset);\n      return new Contract(address, abi, signerOrProvider) as AccountProxyType;\n    },\n    enabled: Boolean(network.isSupported && signerOrProvider),\n    staleTime: Infinity,\n    cacheTime: Infinity,\n  });\n}\n","// !!! DO NOT EDIT !!! Automatically generated file\n\nimport type { AccountProxy as AccountProxy1Main } from './1/AccountProxy';\nimport type { AccountProxy as AccountProxy5Main } from './5/AccountProxy';\nimport type { AccountProxy as AccountProxy10Main } from './10/AccountProxy';\nimport type { AccountProxy as AccountProxy420Main } from './420/AccountProxy';\nimport type { AccountProxy as AccountProxy11155111Main } from './11155111/AccountProxy';\nimport type { AccountProxy as AccountProxy84531Main } from './84531/AccountProxy';\nimport type { AccountProxy as AccountProxy84531Competition } from './84531-competition/AccountProxy';\n\nexport type AccountProxyType =\n  | AccountProxy1Main\n  | AccountProxy5Main\n  | AccountProxy10Main\n  | AccountProxy420Main\n  | AccountProxy11155111Main\n  | AccountProxy84531Main\n  | AccountProxy84531Competition;\n\nexport async function importAccountProxy(chainId: number, preset: string = 'main') {\n  switch (`${chainId}-${preset}`) {\n    case '1-main':\n      return import('./1/AccountProxy');\n    case '5-main':\n      return import('./5/AccountProxy');\n    case '10-main':\n      return import('./10/AccountProxy');\n    case '420-main':\n      return import('./420/AccountProxy');\n    case '11155111-main':\n      return import('./11155111/AccountProxy');\n    case '84531-main':\n      return import('./84531/AccountProxy');\n    case '84531-competition':\n      return import('./84531-competition/AccountProxy');\n    default:\n      throw new Error(`Unsupported chain ${chainId} for AccountProxy`);\n  }\n}\n","import { useQuery, useMutation } from '@tanstack/react-query';\nimport { useAccountProxy } from '@snx-v3/useAccountProxy';\nimport { useNetwork, useWallet, onboard } from '@snx-v3/useBlockchain';\nimport { useEffect, useMemo } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport { useCoreProxy } from '@snx-v3/useCoreProxy';\n\nexport function useAccounts() {\n  const wallet = useWallet();\n  const { data: AccountProxy } = useAccountProxy();\n  const network = useNetwork();\n\n  return useQuery({\n    queryKey: [`${network.id}-${network.preset}`, 'Accounts', { accountAddress: wallet?.address }],\n    queryFn: async function () {\n      if (!AccountProxy || !wallet?.address) throw new Error('Should be disabled');\n      const numberOfAccountTokens = await AccountProxy.balanceOf(wallet.address);\n      if (numberOfAccountTokens.eq(0)) {\n        // No accounts created yet\n        return [];\n      }\n      const accountIndexes = Array.from(Array(numberOfAccountTokens.toNumber()).keys());\n      const accounts = await Promise.all(\n        accountIndexes.map(async (i) => {\n          if (!wallet?.address) throw new Error('OMG!');\n          return await AccountProxy.tokenOfOwnerByIndex(wallet.address, i);\n        })\n      );\n      return accounts.map((accountId) => accountId.toString());\n    },\n    enabled: Boolean(AccountProxy?.address && wallet?.address),\n    placeholderData: [],\n  });\n}\n\nexport function useCreateAccount() {\n  const { data: CoreProxy } = useCoreProxy();\n\n  return useMutation({\n    mutationFn: async function () {\n      try {\n        if (!CoreProxy) throw new Error('CoreProxy undefined');\n        const tx = await CoreProxy['createAccount()']();\n        const res = await tx.wait();\n\n        let newAccountId: string | undefined;\n\n        res.logs.forEach((log: any) => {\n          if (log.topics[0] === CoreProxy.interface.getEventTopic('AccountCreated')) {\n            const accountId = CoreProxy.interface.decodeEventLog(\n              'AccountCreated',\n              log.data,\n              log.topics\n            )?.accountId;\n            newAccountId = accountId?.toString();\n          }\n        });\n\n        return [newAccountId];\n      } catch (error) {\n        console.error(error);\n        throw error;\n      }\n    },\n  });\n}\n\nexport function useAccountUrlSync() {\n  const accounts = useAccounts();\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  const queryParams = useMemo(() => new URLSearchParams(location.search), [location.search]);\n\n  useEffect(() => {\n    const accountId = queryParams.get('accountId') || undefined;\n\n    if (accounts.isFetched && accounts.data && accounts.data.length > 0) {\n      // Accounts fetched and we have some, preselect one\n      if (!accountId || !accounts.data.includes(accountId)) {\n        queryParams.set('accountId', accounts.data[0]);\n\n        navigate(\n          {\n            pathname: location.pathname,\n            search: queryParams.toString(),\n          },\n          { replace: true }\n        );\n      }\n      // when accountId param is present, and it also exists in the accounts list, do nothing\n      return;\n    }\n\n    const { wallets } = onboard.state.get();\n    if (\n      // Check separately for the case when wallet is not connected\n      wallets.length < 1 ||\n      (accounts.isFetched && (!accounts.data || accounts.data.length < 1))\n    ) {\n      // We have fetched accounts but there are none, remove account id from url\n      if (accountId) {\n        queryParams.delete('accountId');\n        navigate(\n          {\n            pathname: location.pathname,\n            search: queryParams.toString(),\n          },\n          { replace: true }\n        );\n      }\n    }\n  }, [accounts.data, accounts.isFetched, navigate, location.pathname, queryParams]);\n}\n","// import { CheckIcon } from '@chakra-ui/icons';\n// import { useEffect } from 'react';\nimport { Button, Fade, Skeleton, Text, useClipboard } from '@chakra-ui/react';\n// import { createSearchParams, generatePath, Link as RouterLink } from 'react-router-dom';\nimport { prettyString } from '@snx-v3/format';\nimport { useAccounts, useCreateAccount } from '@snx-v3/useAccounts';\nimport { useParams } from '@snx-v3/useParams';\nimport { useAccountUrlSync } from '@snx-v3/useAccounts';\n\n// function AccountMenuItem({ accountId }: { accountId: string }) {\n//   const params = useParams();\n\n//   return (\n//     <RouterLink\n//       to={{\n//         pathname: generatePath('/'),\n//         search: accountId ? createSearchParams({ accountId }).toString() : '',\n//       }}\n//     >\n//       <MenuItem\n//         _hover={{ bg: 'whiteAlpha.200' }}\n//         _focus={{ bg: 'whiteAlpha.200' }}\n//         _active={{ bg: 'whiteAlpha.200' }}\n//       >\n//         <Flex width=\"100%\" alignItems=\"center\">\n//           {params.accountId === accountId && <CheckIcon marginRight={1} />}\n//           {accountId}\n//         </Flex>\n//       </MenuItem>\n//     </RouterLink>\n//   );\n// }\n\ninterface AccountsSelectorUiProps {\n  isLoading: boolean;\n  accountId?: string;\n  createAccount: () => void;\n}\n\nexport function AccountsSelectorUi({\n  accountId,\n  isLoading,\n  createAccount,\n}: AccountsSelectorUiProps) {\n  const { onCopy } = useClipboard(accountId || '');\n\n  return (\n    <>\n      {isLoading ? (\n        <Skeleton startColor=\"whiteAlpha.500\" endColor=\"whiteAlpha.200\">\n          <Text>Loading...</Text>\n        </Skeleton>\n      ) : (\n        <Fade in={!isLoading}>\n          <Button\n            size=\"sm\"\n            borderRadius=\"4px\"\n            height=\"40px\"\n            as={Button}\n            variant=\"outline\"\n            w=\"100%\"\n            maxW=\"180px\"\n            data-testid=\"current account id\"\n            data-account-id={accountId}\n            onClick={accountId ? onCopy : () => createAccount()}\n          >\n            {`${accountId ? `Account #${prettyString(accountId, 3, 3)}` : 'Create Account'} `}\n          </Button>\n        </Fade>\n      )}\n    </>\n    // Temporarily disable account selector menu\n    // <Menu>\n    //   <MenuList fontSize=\"xs\" bg=\"black\" h=\"36px\" py={0} border=\"1px solid rgba(255,255,255,0.33)\">\n    //       <Button size=\"sm\" as={Button} variant=\"outline\" w=\"100%\" maxW=\"180px\" h=\"36px\">\n    //     {`Account #${prettyString(params.accountId, 3, 3)}`}\n    //   </Button>\n    //     {accounts.map((accountId) => (\n    //       <AccountMenuItem key={accountId} accountId={accountId} />\n    //     ))}\n    //     <Link\n    //       as={RouterLink}\n    //       to=\"/accounts/create\"\n    //       _focus={{ boxShadow: 'none' }}\n    //       _hover={{ textDecoration: 'none' }}\n    //     >\n    //       <MenuItem\n    //         _hover={{ bg: 'whiteAlpha.200' }}\n    //         _focus={{ bg: 'whiteAlpha.200' }}\n    //         _active={{ bg: 'whiteAlpha.200' }}\n    //         height=\"100%\"\n    //       >\n    //         <Text fontWeight=\"semibold\" px=\"2\">\n    //           Create new account\n    //         </Text>\n    //       </MenuItem>\n    //     </Link>\n    //   </MenuList>\n    // </Menu>\n  );\n}\n\nexport function AccountsSelector() {\n  const params = useParams();\n\n  const {\n    data: accounts,\n    isLoading: isAccountsLoading,\n    isFetching: isAccountsFetching,\n  } = useAccounts();\n\n  const {\n    mutate: createAccount,\n    isLoading: isCreateAccountLoading,\n    data: createAccountData,\n  } = useCreateAccount();\n\n  useAccountUrlSync();\n\n  const isLoading = isAccountsLoading || isAccountsFetching || isCreateAccountLoading || !accounts;\n\n  // If we create an account, use it\n  // If the account in params exists in the accounts list, use it\n  // If not use the first account in the list\n  // If there are no accounts, use undefined\n  const accountId = createAccountData\n    ? createAccountData[0]\n    : accounts?.includes(params?.accountId || '')\n    ? params.accountId\n    : accounts?.[0];\n\n  return (\n    <AccountsSelectorUi isLoading={isLoading} createAccount={createAccount} accountId={accountId} />\n  );\n}\n","import { Box, Container, Flex, Link, useDisclosure } from '@chakra-ui/react';\nimport { Link as RouterLink, useLocation } from 'react-router-dom';\nimport { NetworkController } from './NetworkController';\nimport { useEffect } from 'react';\nimport { AccountsSelector } from '@snx-v3/AccountsSelector';\nimport { Logo, LogoIcon } from '@snx-v3/icons';\n\nexport default function Header() {\n  const { onClose } = useDisclosure();\n  const location = useLocation();\n\n  useEffect(() => {\n    onClose();\n  }, [location, onClose]);\n\n  return (\n    <>\n      <Flex mb=\"8\" py=\"4\" bg=\"navy.900\" borderBottomWidth=\"1px\" borderBottomColor=\"gray.900\">\n        <Container maxW=\"1024px\" as={Flex} justifyContent=\"space-between\" alignItems=\"center\">\n          <Box display={{ base: 'none', md: 'inline-block' }}>\n            <Link\n              to={{\n                pathname: '/',\n              }}\n              as={RouterLink}\n              py={4}\n              pr={2}\n            >\n              <Logo />\n            </Link>\n          </Box>\n          <Box display={{ md: 'none' }}>\n            <Link to=\"/\" as={RouterLink} py={4} pr={2}>\n              <LogoIcon />\n            </Link>\n          </Box>\n          <Flex justifyContent=\"center\" alignItems=\"center\">\n            <Box display={{ base: 'none', md: 'inline-block' }} mr={3}>\n              <AccountsSelector />\n            </Box>\n            <NetworkController />\n          </Flex>\n        </Container>\n      </Flex>\n    </>\n  );\n}\n","import { FC } from 'react';\nimport { Box, Container, Flex } from '@chakra-ui/react';\nimport { Outlet } from 'react-router-dom';\nimport Footer from './Footer';\nimport Header from './Header';\n\nexport const DefaultLayout: FC = () => (\n  <Box\n    as=\"main\"\n    minHeight=\"100vh\"\n    color=\"rgba(255,255,255,0.85)\"\n    display=\"flex\"\n    flexDirection=\"column\"\n    bg=\"navy.900\"\n  >\n    <Flex flex=\"1\" flexDirection=\"column\">\n      <Header />\n      <Container display=\"flex\" flexDir=\"column\" maxW=\"1024px\" flex=\"1\">\n        <Outlet />\n      </Container>\n    </Flex>\n    <Footer />\n  </Box>\n);\n","import type { MarketSnapshotByWeekSchema, PoolType } from '@snx-v3/usePoolData';\nimport { z } from 'zod';\nimport { wei, Wei } from '@synthetixio/wei';\n\ntype MarketSnapshotByWeek = z.infer<typeof MarketSnapshotByWeekSchema>;\nexport const calculateSevenDaysPnlGrowth = (marketSnapshots?: MarketSnapshotByWeek[]) => {\n  if (!marketSnapshots || marketSnapshots.length === 0) return undefined;\n  const end = marketSnapshots[0].pnl;\n  const start = marketSnapshots[1]?.pnl || wei(0);\n\n  return {\n    value: end.sub(start),\n    percentage: start.eq(0) ? undefined : end.sub(start).div(start.abs()),\n  };\n};\n\nexport const calculatePoolPerformanceLifetime = (poolData?: PoolType) => {\n  return poolData?.configurations.reduce((acc, { market }) => {\n    return acc.add(market.pnl);\n  }, wei(0));\n};\n\nexport const calculatePoolPerformanceSevenDays = (poolData?: PoolType) => {\n  const total = calculatePoolPerformanceLifetime(poolData);\n  const totalSevenDaysAgo = poolData?.configurations.reduce((acc, { market }) => {\n    return acc.add(market.market_snapshots_by_week[1]?.pnl || wei(0));\n  }, wei(0));\n  if (!total || !totalSevenDaysAgo) {\n    return undefined;\n  }\n  return {\n    value: total.sub(totalSevenDaysAgo), // Not that this value does not take into account that other pools might have exposure to markets\n    growthPercentage: totalSevenDaysAgo.eq(0)\n      ? undefined\n      : total.sub(totalSevenDaysAgo).div(totalSevenDaysAgo.abs()),\n  };\n};\n\nexport const calculateCRatio = (debt: Wei, collateralValue: Wei) =>\n  debt.eq(0) || collateralValue.eq(0) ? wei(0) : collateralValue.div(debt);\n","import { Amount } from '@snx-v3/Amount';\nimport { Button, Flex, Td, Text, Tr } from '@chakra-ui/react';\nimport { generatePath, Link, useLocation } from 'react-router-dom';\nimport { FC } from 'react';\nimport { CollateralType } from '@snx-v3/useCollateralTypes';\nimport { onboard, useIsConnected } from '@snx-v3/useBlockchain';\nimport { CollateralIcon } from '@snx-v3/icons';\nimport { wei } from '@synthetixio/wei';\nimport { calculateCRatio } from '@snx-v3/calculations';\nimport { LiquidityPositionType } from '@snx-v3/useLiquidityPositions';\n\nfunction VaultRowUi({\n  collateralType,\n  liquidityPosition,\n  poolId,\n  isConnected,\n  openConnectModal,\n}: {\n  collateralType: CollateralType;\n  liquidityPosition?: LiquidityPositionType;\n  poolId: string;\n  isConnected: boolean;\n  openConnectModal?: () => void;\n}) {\n  const location = useLocation();\n  const cRatio = calculateCRatio(\n    liquidityPosition?.debt || wei(0),\n    liquidityPosition?.collateralValue || wei(0)\n  );\n  const hasLiquidity = liquidityPosition && liquidityPosition.collateralAmount.gt(0);\n\n  return (\n    <Tr>\n      <Td>\n        <Flex flexDir=\"row\" py={4}>\n          <CollateralIcon width=\"40px\" height=\"40px\" symbol={collateralType.symbol} />\n          <Flex flexDirection=\"column\" justifyContent=\"center\" ml={2}>\n            <Text fontSize=\"sm\" lineHeight=\"20px\" fontWeight=\"500\">\n              {liquidityPosition?.collateralValue.gt(0) ? (\n                <Amount value={liquidityPosition.collateralValue} prefix=\"$\" />\n              ) : (\n                '-'\n              )}\n            </Text>\n            <Text fontSize=\"xs\" color=\"gray.500\">\n              {liquidityPosition?.collateralAmount.gt(0) && (\n                <Amount value={liquidityPosition.collateralAmount} />\n              )}{' '}\n              {collateralType.symbol}\n            </Text>\n          </Flex>\n        </Flex>\n      </Td>\n      <Td>\n        {liquidityPosition?.debt.gt(0) ? <Amount value={liquidityPosition.debt} prefix=\"$\" /> : '-'}\n      </Td>\n      <Td>{cRatio.gt(0) ? <Amount value={cRatio.mul(100)} suffix=\"%\" /> : '-'}</Td>\n      <Td>\n        <Amount value={collateralType.issuanceRatioD18.mul(100)} suffix=\"%\" />\n      </Td>\n      <Td>\n        <Amount value={collateralType.liquidationRatioD18.mul(100)} suffix=\"%\" />\n      </Td>\n      <Td textAlign=\"end\">\n        {isConnected && hasLiquidity ? (\n          <Button\n            as={Link}\n            to={{\n              pathname: generatePath('/positions/:collateralSymbol/:poolId', {\n                poolId: poolId,\n                collateralSymbol: collateralType.symbol,\n              }),\n              search: location.search,\n            }}\n          >\n            Manage\n          </Button>\n        ) : null}\n\n        {isConnected && !hasLiquidity ? (\n          <Button\n            as={Link}\n            to={{\n              pathname: generatePath('/deposit/:collateralSymbol/:poolId', {\n                poolId: poolId,\n                collateralSymbol: collateralType.symbol,\n              }),\n              search: location.search,\n            }}\n          >\n            Deposit\n          </Button>\n        ) : null}\n\n        {!isConnected && openConnectModal ? (\n          <Button onClick={openConnectModal}>Connect</Button>\n        ) : null}\n      </Td>\n    </Tr>\n  );\n}\n\nexport type VaultRowProps = {\n  collateralType: CollateralType;\n  poolId: string;\n  liquidityPosition?: LiquidityPositionType;\n};\n\nexport const VaultRow: FC<VaultRowProps> = ({ collateralType, poolId, liquidityPosition }) => {\n  const isConnected = useIsConnected();\n\n  return (\n    <VaultRowUi\n      collateralType={collateralType}\n      liquidityPosition={liquidityPosition}\n      poolId={poolId}\n      isConnected={isConnected}\n      openConnectModal={() => onboard.connectWallet()}\n    />\n  );\n};\n","import { Flex, FlexProps } from '@chakra-ui/react';\n\nexport const BorderBox = (props: FlexProps) => (\n  <Flex bg=\"navy.900\" borderWidth=\"1px\" borderColor=\"gray.900\" borderRadius=\"base\" {...props} />\n);\n","import { useQuery } from '@tanstack/react-query';\nimport { useCoreProxy } from '@snx-v3/useCoreProxy';\nimport { CoreProxyType } from '@synthetixio/v3-contracts';\nimport { ZodBigNumber } from '@snx-v3/zod';\nimport Wei, { wei } from '@synthetixio/wei';\nimport { useNetwork } from '@snx-v3/useBlockchain';\nimport { erc7412Call } from '@snx-v3/withERC7412';\nimport { useCollateralTypes } from '@snx-v3/useCollateralTypes';\n\nconst PriceSchema = ZodBigNumber.transform((x) => wei(x));\n\nexport async function loadPrices({\n  CoreProxy,\n  collateralAddresses,\n}: {\n  CoreProxy: CoreProxyType;\n  collateralAddresses: string[];\n}) {\n  const calls = await Promise.all(\n    collateralAddresses.map((address) => {\n      return CoreProxy.populateTransaction.getCollateralPrice(address);\n    })\n  );\n  if (calls.length === 0) return { calls: [], decoder: () => [] };\n\n  const decoder = (multicallEncoded: string | string[]) => {\n    if (Array.isArray(multicallEncoded)) {\n      return multicallEncoded.map((encoded) => {\n        const pricesEncoded = CoreProxy.interface.decodeFunctionResult(\n          'getCollateralPrice',\n          encoded\n        )[0];\n\n        return PriceSchema.parse(pricesEncoded);\n      });\n    }\n    throw Error('Expected array got: ' + typeof multicallEncoded);\n  };\n  return { calls, decoder };\n}\n\nexport const useCollateralPrices = () => {\n  const network = useNetwork();\n  const { data: CoreProxy } = useCoreProxy();\n  const { data: collateralData } = useCollateralTypes();\n\n  const collateralAddresses = collateralData?.map((x) => x.tokenAddress);\n\n  return useQuery({\n    enabled: Boolean(CoreProxy && collateralAddresses && collateralAddresses?.length > 0),\n    queryKey: [`${network.id}-${network.preset}`, 'CollateralPrices', { collateralAddresses }],\n    queryFn: async () => {\n      if (!CoreProxy || !collateralAddresses || collateralAddresses.length == 0) {\n        throw 'useCollateralPrices missing required data';\n      }\n      const { calls, decoder } = await loadPrices({ CoreProxy, collateralAddresses });\n\n      const prices = await erc7412Call(\n        network,\n        CoreProxy.provider,\n        calls,\n        decoder,\n        'useCollateralPrices'\n      );\n      return collateralAddresses.reduce((acc: Record<string, Wei | undefined>, address, i) => {\n        acc[address] = prices[i];\n        return acc;\n      }, {});\n    },\n  });\n};\n","import { useQuery } from '@tanstack/react-query';\nimport { useCoreProxy } from '@snx-v3/useCoreProxy';\nimport { CoreProxyType } from '@synthetixio/v3-contracts';\nimport { useNetwork } from '@snx-v3/useBlockchain';\nimport { Wei, wei } from '@synthetixio/wei';\nimport { useCollateralTypes } from '@snx-v3/useCollateralTypes';\nimport { erc7412Call } from '@snx-v3/withERC7412';\n\nexport type AccountCollateralType = {\n  tokenAddress: string;\n  availableCollateral: Wei;\n  totalAssigned: Wei;\n  totalDeposited: Wei;\n  totalLocked: Wei;\n};\n\nexport const loadAccountCollateral = async ({\n  accountId,\n  tokenAddresses,\n  CoreProxy,\n}: {\n  accountId: string;\n  tokenAddresses: string[];\n  CoreProxy: CoreProxyType;\n}) => {\n  const callsP = tokenAddresses.flatMap((tokenAddress) => [\n    CoreProxy.populateTransaction.getAccountAvailableCollateral(accountId, tokenAddress),\n    CoreProxy.populateTransaction.getAccountCollateral(accountId, tokenAddress),\n  ]);\n  const calls = await Promise.all(callsP);\n  const decoder = (multicallEncoded: string | string[]) => {\n    if (!Array.isArray(multicallEncoded)) throw Error('Expected array');\n    return tokenAddresses.map((tokenAddress, i) => {\n      const [availableCollateral] = CoreProxy.interface.decodeFunctionResult(\n        'getAccountAvailableCollateral',\n        multicallEncoded[i * 2]\n      );\n      const { totalAssigned, totalDeposited, totalLocked } =\n        CoreProxy.interface.decodeFunctionResult(\n          'getAccountCollateral',\n          multicallEncoded[i * 2 + 1]\n        );\n      return {\n        tokenAddress,\n        availableCollateral: wei(availableCollateral),\n        totalAssigned: wei(totalAssigned),\n        totalDeposited: wei(totalDeposited),\n        totalLocked: wei(totalLocked),\n      };\n    });\n  };\n  return { decoder, calls };\n};\n\nexport type AccountCollateralWithSymbol = AccountCollateralType & { symbol: string };\n\nexport function useAccountCollateral({\n  accountId,\n  includeDelegationOff,\n}: {\n  accountId?: string;\n  includeDelegationOff?: boolean;\n}) {\n  const { data: CoreProxy } = useCoreProxy();\n\n  const network = useNetwork();\n\n  const collateralTypes = useCollateralTypes(includeDelegationOff);\n\n  const tokenAddresses = collateralTypes.data?.map((c) => c.tokenAddress) ?? [];\n\n  return useQuery({\n    queryKey: [\n      `${network.id}-${network.preset}`,\n      'AccountCollateral',\n      { accountId },\n      { tokens: tokenAddresses },\n    ],\n    enabled: Boolean(CoreProxy && accountId && tokenAddresses.length > 0),\n    queryFn: async function () {\n      if (!CoreProxy || !accountId || tokenAddresses.length < 1) {\n        throw 'useAccountCollateral should be disabled';\n      }\n      const { calls, decoder } = await loadAccountCollateral({\n        accountId,\n        tokenAddresses,\n        CoreProxy,\n      });\n      const data = await erc7412Call(\n        network,\n        CoreProxy.provider,\n        calls,\n        decoder,\n        'useAccountCollateral'\n      );\n\n      return data.map((x) => ({\n        ...x,\n        symbol: collateralTypes.data?.find((c) => c.tokenAddress === x.tokenAddress)?.symbol ?? '',\n      }));\n    },\n  });\n}\n\nexport function useAccountSpecificCollateral(accountId?: string, collateralAddress?: string) {\n  const { data: CoreProxy } = useCoreProxy();\n\n  const network = useNetwork();\n  return useQuery({\n    queryKey: [\n      `${network.id}-${network.preset}`,\n      'AccountSpecificCollateral',\n      { accountId },\n      { token: collateralAddress },\n    ],\n    enabled: Boolean(CoreProxy && accountId && collateralAddress),\n    queryFn: async function () {\n      if (!CoreProxy || !accountId || !collateralAddress) {\n        throw 'useAccountSpecificCollateral should not be enabled';\n      }\n      const { calls, decoder } = await loadAccountCollateral({\n        accountId,\n        tokenAddresses: [collateralAddress],\n        CoreProxy,\n      });\n      const data = await erc7412Call(\n        network,\n        CoreProxy.provider,\n        calls,\n        decoder,\n        'useAccountSpecificCollateral'\n      );\n\n      return data.at(0);\n    },\n  });\n}\n","import { useCoreProxy } from '@snx-v3/useCoreProxy';\nimport { CoreProxyType } from '@synthetixio/v3-contracts';\nimport { ZodBigNumber } from '@snx-v3/zod';\nimport Wei, { wei } from '@synthetixio/wei';\nimport { useQuery } from '@tanstack/react-query';\nimport { z } from 'zod';\nimport { useNetwork } from '@snx-v3/useBlockchain';\nimport { erc7412Call } from '@snx-v3/withERC7412';\nimport { loadPrices } from '@snx-v3/useCollateralPrices';\nimport { loadAccountCollateral, AccountCollateralType } from '@snx-v3/useAccountCollateral';\nimport { useAllCollateralPriceIds } from '@snx-v3/useAllCollateralPriceIds';\nimport { fetchPriceUpdates, priceUpdatesToPopulatedTx } from '@snx-v3/fetchPythPrices';\nimport { useUSDProxy } from '@snx-v3/useUSDProxy';\n\nconst PositionCollateralSchema = z.object({\n  value: ZodBigNumber.transform((x) => wei(x)).optional(), // This is currently only removed on base-goreli\n  amount: ZodBigNumber.transform((x) => wei(x)),\n});\nconst DebtSchema = ZodBigNumber.transform((x) => wei(x));\n\nexport const loadPosition = async ({\n  CoreProxy,\n  accountId,\n  poolId,\n  tokenAddress,\n}: {\n  CoreProxy: CoreProxyType;\n  accountId: string;\n  poolId: string;\n  tokenAddress: string;\n}) => {\n  const calls = await Promise.all([\n    CoreProxy.populateTransaction.getPositionCollateral(accountId, poolId, tokenAddress),\n    CoreProxy.populateTransaction.getPositionDebt(accountId, poolId, tokenAddress),\n  ]);\n  const decoder = (multicallEncoded: string | string[]) => {\n    if (Array.isArray(multicallEncoded) && multicallEncoded.length === 2) {\n      const decodedCollateral = CoreProxy.interface.decodeFunctionResult(\n        'getPositionCollateral',\n        multicallEncoded[0]\n      );\n      const decodedDebt = CoreProxy.interface.decodeFunctionResult(\n        'getPositionDebt',\n        multicallEncoded[1]\n      )[0];\n      return {\n        debt: DebtSchema.parse(decodedDebt),\n        collateral: PositionCollateralSchema.parse({ ...decodedCollateral }),\n      };\n    }\n    throw Error('Expected array with two items');\n  };\n\n  return { calls, decoder };\n};\n\nexport type LiquidityPosition = {\n  collateralAmount: Wei;\n  collateralPrice: Wei;\n  collateralValue: Wei;\n  debt: Wei;\n  accountCollateral: AccountCollateralType;\n  usdCollateral: AccountCollateralType;\n  tokenAddress: string;\n};\n\nexport const useLiquidityPosition = ({\n  tokenAddress,\n  accountId,\n  poolId,\n}: {\n  tokenAddress?: string;\n  accountId?: string;\n  poolId?: string;\n}) => {\n  const { data: collateralPriceUpdates } = useAllCollateralPriceIds();\n  const { data: CoreProxy } = useCoreProxy();\n  const { data: UsdProxy } = useUSDProxy();\n  const network = useNetwork();\n  return useQuery({\n    queryKey: [\n      `${network.id}-${network.preset}`,\n      'LiquidityPosition',\n      { accountId },\n      {\n        pool: poolId,\n        token: tokenAddress,\n        collateralPriceUpdatesLength: collateralPriceUpdates?.length,\n      },\n    ],\n    enabled: Boolean(\n      CoreProxy && UsdProxy && poolId && accountId && tokenAddress && collateralPriceUpdates\n    ),\n    queryFn: async () => {\n      if (\n        !CoreProxy ||\n        !accountId ||\n        !poolId ||\n        !tokenAddress ||\n        !collateralPriceUpdates ||\n        !UsdProxy\n      ) {\n        throw Error('useLiquidityPosition should not be enabled');\n      }\n      const { calls: priceCalls, decoder: priceDecoder } = await loadPrices({\n        collateralAddresses: [tokenAddress],\n        CoreProxy,\n      });\n      const { calls: positionCalls, decoder: positionDecoder } = await loadPosition({\n        CoreProxy,\n        accountId,\n        poolId,\n        tokenAddress,\n      });\n\n      const { calls: accountCollateralCalls, decoder: accountCollateralDecoder } =\n        await loadAccountCollateral({\n          accountId,\n          tokenAddresses: [tokenAddress, UsdProxy.address],\n          CoreProxy,\n        });\n      const collateralPriceCalls = await fetchPriceUpdates(\n        collateralPriceUpdates,\n        network.isTestnet\n      ).then((signedData) => priceUpdatesToPopulatedTx('0x', collateralPriceUpdates, signedData));\n      const allCalls = collateralPriceCalls.concat(\n        priceCalls.concat(positionCalls).concat(accountCollateralCalls)\n      );\n\n      return await erc7412Call(\n        network,\n        CoreProxy.provider,\n        allCalls,\n        (encoded) => {\n          if (!Array.isArray(encoded)) throw Error('Expected array ');\n          const startOfPrice = 0;\n          const endOfPrice = priceCalls.length;\n          const startOfPosition = endOfPrice;\n          const endOfPosition = startOfPosition + positionCalls.length;\n\n          const startOfAccountCollateral = endOfPosition;\n          const [collateralPrice] = priceDecoder(encoded.slice(startOfPrice, endOfPrice));\n          const decodedPosition = positionDecoder(encoded.slice(startOfPosition, endOfPosition));\n          const [accountCollateral, usdCollateral] = accountCollateralDecoder(\n            encoded.slice(startOfAccountCollateral)\n          );\n          return {\n            collateralPrice,\n            collateralAmount: decodedPosition.collateral.amount,\n            collateralValue: decodedPosition.collateral.amount.mul(collateralPrice),\n            debt: decodedPosition.debt,\n            tokenAddress,\n            accountCollateral,\n            usdCollateral,\n          };\n        },\n\n        `useLiquidityPosition`\n      );\n    },\n  });\n};\n","export function keyBy<T extends Record<K, PropertyKey>, K extends keyof T>(key: K, array: T[]) {\n  return array.reduce(\n    (acc, item) => {\n      const keyValue = item[key];\n      acc[keyValue] = item;\n      return acc;\n    },\n    {} as Record<T[K], T>\n  );\n}\n","import { CollateralType, useCollateralTypes } from '@snx-v3/useCollateralTypes';\nimport { useCoreProxy } from '@snx-v3/useCoreProxy';\nimport { loadPosition } from '@snx-v3/useLiquidityPosition';\nimport { usePools } from '@snx-v3/usePools';\nimport Wei, { wei } from '@synthetixio/wei';\nimport { useQuery } from '@tanstack/react-query';\nimport { useNetwork } from '@snx-v3/useBlockchain';\nimport { loadPrices } from '@snx-v3/useCollateralPrices';\nimport { calculateCRatio } from '@snx-v3/calculations';\nimport { erc7412Call } from '@snx-v3/withERC7412';\nimport { keyBy } from '@snx-v3/tsHelpers';\nimport { useAllCollateralPriceIds } from '@snx-v3/useAllCollateralPriceIds';\nimport { fetchPriceUpdates, priceUpdatesToPopulatedTx } from '@snx-v3/fetchPythPrices';\n\nexport type LiquidityPositionType = {\n  id: `${string}-${string}`;\n  accountId: string;\n  poolId: string;\n  poolName: string;\n  collateralAmount: Wei;\n  collateralPrice: Wei;\n  collateralValue: Wei;\n  collateralType: CollateralType;\n  cRatio: Wei;\n  debt: Wei;\n};\nexport type LiquidityPositionsById = {\n  [poolIdDashSymbol: `${string}-${string}`]: LiquidityPositionType;\n};\n\nfunction toPairs<T>(array: T[]): [T, T][] {\n  return Array.from(\n    { length: array.length / 2 },\n    (_, i) => [array[i * 2], array[i * 2 + 1]] as [T, T]\n  );\n}\n\nexport const useLiquidityPositions = ({ accountId }: { accountId?: string }) => {\n  const { data: CoreProxy } = useCoreProxy();\n  const { data: pools } = usePools();\n  const { data: collateralTypes } = useCollateralTypes();\n  const { data: collateralPriceUpdates } = useAllCollateralPriceIds();\n\n  const network = useNetwork();\n\n  return useQuery({\n    queryKey: [\n      `${network.id}-${network.preset}`,\n      'LiquidityPositions',\n      { accountId },\n      {\n        pools: pools ? pools.map((pool) => pool.id).sort() : [],\n        tokens: collateralTypes ? collateralTypes.map((x) => x.tokenAddress).sort() : [],\n        collateralPriceUpdatesLength: collateralPriceUpdates?.length,\n      },\n    ],\n    queryFn: async () => {\n      if (!pools || !collateralTypes || !CoreProxy || !accountId || !collateralPriceUpdates) {\n        throw Error('Query should not be enabled');\n      }\n\n      const positionCallsAndDataNested = await Promise.all(\n        pools.map(async ({ id: poolId, name: poolName }) =>\n          Promise.all(\n            collateralTypes.map(async (collateralType) => {\n              const { calls, decoder } = await loadPosition({\n                CoreProxy,\n                accountId,\n                poolId,\n                tokenAddress: collateralType.tokenAddress,\n              });\n              return { calls, decoder, poolName, collateralType, poolId };\n            })\n          )\n        )\n      );\n      const positionCallsAndData = positionCallsAndDataNested.flat();\n      const { calls: priceCalls, decoder: priceDecoder } = await loadPrices({\n        collateralAddresses: collateralTypes.map((x) => x.tokenAddress),\n        CoreProxy,\n      });\n      const positionCalls = positionCallsAndData.map((x) => x.calls).flat();\n      const collateralPriceCalls = await fetchPriceUpdates(\n        collateralPriceUpdates,\n        network.isTestnet\n      ).then((signedData) => priceUpdatesToPopulatedTx('0x', collateralPriceUpdates, signedData));\n      const allCalls = collateralPriceCalls.concat(priceCalls.concat(positionCalls));\n      const singlePositionDecoder = positionCallsAndData.at(0)?.decoder;\n      return await erc7412Call(\n        network,\n        CoreProxy.provider,\n        allCalls,\n        (encoded) => {\n          if (!Array.isArray(encoded)) throw Error('Expected array ');\n          if (!singlePositionDecoder) return {};\n          const pricesByAddress = keyBy(\n            'address',\n            priceDecoder(encoded.slice(0, priceCalls.length)).map((price, i) => ({\n              price,\n              address: collateralTypes[i].tokenAddress,\n            }))\n          );\n\n          const positionsEncoded = encoded.slice(priceCalls.length);\n          const positionData = toPairs(positionsEncoded).map((x) => singlePositionDecoder(x));\n\n          const positions = positionData.map(({ debt, collateral }, index) => {\n            const { poolName, collateralType, poolId } = positionCallsAndData[index];\n            // Value will be removed from the collateral call in next release, so to prepare for that calculate it manually\n            const collateralAmount = collateral.amount;\n            const collateralPrice = pricesByAddress?.[collateralType.tokenAddress].price;\n            const collateralValue = collateralPrice\n              ? collateralAmount.mul(collateralPrice)\n              : wei(0);\n            const cRatio = calculateCRatio(debt, collateralValue);\n\n            return {\n              id: `${poolId}-${collateralType.symbol}` as const,\n              accountId,\n              poolId,\n              poolName,\n              collateralPrice,\n              collateralAmount,\n              collateralValue,\n              collateralType,\n              cRatio,\n              debt,\n            };\n          });\n          return keyBy('id', positions);\n        },\n        'useLiquidityPositions'\n      );\n    },\n    enabled: Boolean(\n      collateralPriceUpdates && CoreProxy && collateralTypes?.length && accountId && pools?.length\n    ),\n  });\n};\n","import { Flex, Box, Alert, AlertIcon, Text, Link } from '@chakra-ui/react';\n\nexport const Welcome = () => (\n  <Flex alignItems=\"flex-end\" flexWrap={{ base: 'wrap', md: 'nowrap' }}>\n    <Box flexGrow={1}>\n      <Alert status=\"warning\">\n        <AlertIcon />\n        <Box>\n          This is an experimental prototype for Synthetix V3.{' '}\n          <Text fontWeight=\"bold\" display=\"inline\">\n            Any incentives (including voting power) are exclusively determined based on\n            participation in{' '}\n            <Link textDecoration=\"underline\" href=\"https://staking.synthetix.io\">\n              Synthetix V2\n            </Link>\n            .\n          </Text>\n        </Box>\n      </Alert>\n    </Box>\n  </Flex>\n);\n","export function numberWithCommas(value: string, decimals?: number) {\n  const parts = value.split('.');\n  parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n  const joinedParts = parts.join('.');\n  return decimals ? joinedParts.substring(0, joinedParts.indexOf('.') + decimals + 1) : joinedParts;\n}\n\ninterface Options extends Intl.NumberFormatOptions {\n  locales?: string | string[];\n}\nexport const formatNumberToUsd = (val: number | string, options?: Options) => {\n  const optionsWithDefault = { style: 'currency', currency: 'USD', locales: 'en-EN', ...options };\n  return new Intl.NumberFormat(optionsWithDefault.locales, optionsWithDefault).format(Number(val));\n};\n\nexport const formatNumberToCurrencyBasedOnSize = (val: number | string) => {\n  const num = Number(val);\n  if (num < 0.0001) {\n    return formatNumberToUsd(num, { maximumFractionDigits: 8 });\n  }\n  if (num < 1) {\n    return formatNumberToUsd(num, { maximumFractionDigits: 4 });\n  }\n  return formatNumberToUsd(num, { maximumFractionDigits: 2 });\n};\n\nexport const formatNumber = (value: number | string, options?: Options) => {\n  const optionsWithDefault = {\n    minimumFractionDigits: 2,\n    maximumFractionDigits: 2,\n    locales: 'en-EN',\n    ...options,\n  };\n  return new Intl.NumberFormat(optionsWithDefault.locales, optionsWithDefault).format(\n    Number(value)\n  );\n};\n\nexport const formatPercent = (value: number | string, options?: Options) => {\n  const optionsWithDefault = {\n    minimumFractionDigits: 0,\n    maximumFractionDigits: 2,\n    locales: 'en-EN',\n    style: 'percent',\n    ...options,\n  };\n  return new Intl.NumberFormat(optionsWithDefault.locales, optionsWithDefault).format(\n    Number(value)\n  );\n};\n","import { Flex, Text } from '@chakra-ui/react';\nimport { formatNumberToUsd } from '@snx-v3/formatters';\nimport { BorderBox } from '@snx-v3/BorderBox';\n\nexport interface StatsProps {\n  totalDebt?: number;\n  totalCollateral?: number;\n}\n\nexport const Stats = ({ totalDebt, totalCollateral }: StatsProps) => {\n  return (\n    <Flex justifyContent=\"space-between\" gap={4} flexDirection={{ base: 'column', md: 'row' }}>\n      <BorderBox p={4} width=\"33%\" flexDir=\"column\">\n        <Text\n          fontSize=\"xs\"\n          fontFamily=\"heading\"\n          textTransform=\"uppercase\"\n          color=\"gray.500\"\n          textAlign=\"center\"\n          fontWeight=\"400\"\n        >\n          Total Collateral\n        </Text>\n        <Text fontFamily=\"heading\" fontWeight=\"800\" textAlign=\"center\" fontSize=\"2xl\">\n          {totalCollateral ? formatNumberToUsd(totalCollateral) : ''}\n        </Text>\n      </BorderBox>\n      <BorderBox p={4} flexDir=\"column\" width=\"33%\">\n        <Text\n          fontSize=\"xs\"\n          fontFamily=\"heading\"\n          textTransform=\"uppercase\"\n          color=\"gray.500\"\n          textAlign=\"center\"\n          fontWeight=\"400\"\n        >\n          Total debt\n        </Text>\n        <Text fontFamily=\"heading\" fontWeight=\"800\" textAlign=\"center\" fontSize=\"2xl\">\n          {totalDebt ? formatNumberToUsd(totalDebt) : ''}\n        </Text>\n      </BorderBox>\n      <BorderBox p={4} flexDir=\"column\" width=\"33%\">\n        <Text\n          fontSize=\"xs\"\n          fontFamily=\"heading\"\n          textTransform=\"uppercase\"\n          color=\"gray.500\"\n          textAlign=\"center\"\n          fontWeight=\"400\"\n        >\n          Total Earnings Lifetime\n        </Text>\n        <Text fontFamily=\"heading\" fontWeight=\"800\" textAlign=\"center\" fontSize=\"2xl\">\n          \n        </Text>\n      </BorderBox>\n    </Flex>\n  );\n};\n","import { ethers } from 'ethers';\nimport { useQuery } from '@tanstack/react-query';\nimport { useCoreProxy } from '@snx-v3/useCoreProxy';\nimport { useNetwork } from '@snx-v3/useBlockchain';\n\nexport function useAccountCollateralUnlockDate({ accountId }: { accountId?: string }) {\n  const { data: CoreProxy } = useCoreProxy();\n  const network = useNetwork();\n\n  return useQuery({\n    queryKey: [`${network.id}-${network.preset}`, 'AccountCollateralUnlockDate', { accountId }],\n    enabled: Boolean(CoreProxy && accountId),\n    queryFn: async function () {\n      if (!CoreProxy || !accountId) throw 'OMG';\n\n      const [getAccountLastInteraction, getConfigUintAccountTimeoutWithdraw] =\n        await CoreProxy.callStatic.multicall([\n          CoreProxy.interface.encodeFunctionData('getAccountLastInteraction', [accountId]),\n          CoreProxy.interface.encodeFunctionData('getConfigUint', [\n            ethers.utils.formatBytes32String('accountTimeoutWithdraw'),\n          ]),\n        ]);\n\n      const [lastInteraction] = CoreProxy.interface.decodeFunctionResult(\n        'getAccountLastInteraction',\n        getAccountLastInteraction\n      );\n      const [accountTimeoutWithdraw] = CoreProxy.interface.decodeFunctionResult(\n        'getConfigUint',\n        getConfigUintAccountTimeoutWithdraw\n      );\n\n      const collateralUnlock = lastInteraction.add(accountTimeoutWithdraw);\n\n      return new Date(collateralUnlock.toNumber() * 1000);\n    },\n  });\n}\n","import { Amount } from '@snx-v3/Amount';\nimport { Button, Flex, Td, Text, Tr } from '@chakra-ui/react';\nimport { CollateralIcon } from '@snx-v3/icons';\nimport { AccountCollateralWithSymbol } from '@snx-v3/useAccountCollateral';\nimport React from 'react';\nimport { safeImport } from '@synthetixio/safe-import';\n\nconst WithdrawModal = React.lazy(() => safeImport(() => import('@snx-v3/WithdrawModal')));\n\nfunction AvailableCollateralRowUi({\n  accountCollateral,\n  isDisabled,\n}: {\n  accountCollateral: AccountCollateralWithSymbol;\n  isDisabled: boolean;\n}) {\n  const [isOpen, setIsOpen] = React.useState(false);\n\n  return (\n    <Tr data-testid=\"available collateral row\">\n      <Td>\n        <Flex flexDir=\"row\" py={4}>\n          <CollateralIcon width=\"32px\" height=\"32px\" symbol={accountCollateral.symbol} />\n          <Flex flexDirection=\"column\" justifyContent=\"center\" ml={2}>\n            <Text fontSize=\"lg\" color=\"gray.500\">\n              <Amount value={accountCollateral.availableCollateral} /> {accountCollateral.symbol}\n            </Text>\n          </Flex>\n        </Flex>\n      </Td>\n      <Td textAlign=\"end\">\n        <Button isDisabled={isDisabled} onClick={() => setIsOpen(true)}>\n          Withdraw\n        </Button>\n        <React.Suspense fallback={null}>\n          {isOpen ? (\n            <WithdrawModal\n              accountCollateral={accountCollateral}\n              onClose={() => setIsOpen(false)}\n              isOpen={isOpen}\n            />\n          ) : null}\n        </React.Suspense>\n      </Td>\n    </Tr>\n  );\n}\n\nexport type AvailableCollateralRowProps = {\n  accountCollateralUnlockDate?: Date;\n  accountCollateral: AccountCollateralWithSymbol;\n};\nexport function AvailableCollateralRow({\n  accountCollateral,\n  accountCollateralUnlockDate,\n}: AvailableCollateralRowProps) {\n  return (\n    <AvailableCollateralRowUi\n      accountCollateral={accountCollateral}\n      isDisabled={\n        !accountCollateralUnlockDate ||\n        accountCollateralUnlockDate.getTime() > Date.now() ||\n        accountCollateral.availableCollateral.eq(0)\n      }\n    />\n  );\n}\n","import React, { FC } from 'react';\nimport {\n  Alert,\n  AlertDescription,\n  AlertIcon,\n  AlertTitle,\n  Box,\n  Flex,\n  Heading,\n  Table,\n  Tbody,\n  Text,\n  Thead,\n  Tr,\n} from '@chakra-ui/react';\nimport { useParams } from '@snx-v3/useParams';\nimport { AccountCollateralWithSymbol, useAccountCollateral } from '@snx-v3/useAccountCollateral';\nimport { useAccountCollateralUnlockDate } from '@snx-v3/useAccountCollateralUnlockDate';\nimport { AvailableCollateralRow, AvailableCollateralRowProps } from './AvailableCollateralRow';\nimport formatDistanceToNow from 'date-fns/formatDistanceToNow';\nimport intlFormat from 'date-fns/intlFormat';\nimport { BorderBox } from '@snx-v3/BorderBox';\n\nexport function AvailableCollateralUi({\n  accountCollaterals,\n  timeToUnlock,\n  unlockDateString,\n  unlockDate,\n  AvailableCollateralRow,\n}: {\n  accountCollaterals: AccountCollateralWithSymbol[];\n  timeToUnlock?: string;\n  unlockDateString?: string;\n  unlockDate?: Date;\n  AvailableCollateralRow: FC<AvailableCollateralRowProps>;\n}) {\n  if (accountCollaterals.length === 0) {\n    return null;\n  }\n\n  return (\n    <BorderBox p={4} mt={8} flexDir=\"column\">\n      {/* only render if there's any 'available collateral' */}\n      <Heading fontSize=\"2xl\" mb=\"2\">\n        Available Collateral\n      </Heading>\n      <Flex alignItems=\"center\" mb=\"0\">\n        <Text color=\"gray.500\">\n          This collateral can be deposited to pools. As a security precaution, this collateral\n          cannot be withdrawn until at least 1 day has elapsed since previous account activity.\n        </Text>\n        <Alert\n          ml=\"auto\"\n          status={timeToUnlock === '' ? 'loading' : timeToUnlock ? 'error' : 'success'}\n          width=\"540px\"\n          title={unlockDateString}\n        >\n          <AlertIcon />\n          <Box width=\"100%\">\n            <AlertTitle>Withdrawals available</AlertTitle>\n            {timeToUnlock ? (\n              <AlertDescription display=\"block\">{timeToUnlock}</AlertDescription>\n            ) : null}\n          </Box>\n        </Alert>\n      </Flex>\n      <Box overflowX=\"auto\">\n        <Table mt={8} size=\"sm\" variant=\"unstyled\" mb=\"9\">\n          <Thead sx={{ tr: { borderBottomColor: 'gray.900', borderBottomWidth: '1px' } }}>\n            <Tr />\n          </Thead>\n          <Tbody sx={{ tr: { borderBottomColor: 'gray.900', borderBottomWidth: '1px' } }}>\n            {accountCollaterals.map((accountCollateral) => (\n              <AvailableCollateralRow\n                key={accountCollateral.tokenAddress}\n                accountCollateralUnlockDate={unlockDate}\n                accountCollateral={accountCollateral}\n              />\n            ))}\n          </Tbody>\n        </Table>\n      </Box>\n    </BorderBox>\n  );\n}\n\nexport function AvailableCollateral() {\n  const { accountId } = useParams();\n  const accountCollaterals = useAccountCollateral({ accountId, includeDelegationOff: true });\n\n  const accountCollateralUnlockDate = useAccountCollateralUnlockDate({ accountId });\n\n  const formatTimeToUnlock = React.useCallback(() => {\n    if (accountCollateralUnlockDate.isLoading) {\n      return '';\n    }\n    if (\n      !accountCollateralUnlockDate.data ||\n      accountCollateralUnlockDate.data.getTime() <= Date.now()\n    ) {\n      return undefined;\n    }\n    return formatDistanceToNow(accountCollateralUnlockDate.data, { addSuffix: true });\n  }, [accountCollateralUnlockDate.data, accountCollateralUnlockDate.isLoading]);\n\n  const [timeToUnlock, setTimeToUnlock] = React.useState(formatTimeToUnlock());\n  React.useEffect(() => {\n    const interval = setInterval(() => setTimeToUnlock(formatTimeToUnlock()), 1_000);\n    return () => clearInterval(interval);\n  }, [formatTimeToUnlock]);\n\n  const unlockDateString = React.useMemo(() => {\n    if (accountCollateralUnlockDate.isLoading) {\n      return '';\n    }\n    if (\n      !accountCollateralUnlockDate.data ||\n      accountCollateralUnlockDate.data.getTime() <= Date.now()\n    ) {\n      return undefined;\n    }\n    return intlFormat(accountCollateralUnlockDate.data, {\n      year: 'numeric',\n      month: 'numeric',\n      day: 'numeric',\n      hour: 'numeric',\n      minute: 'numeric',\n    });\n  }, [accountCollateralUnlockDate.data, accountCollateralUnlockDate.isLoading]);\n\n  return (\n    <AvailableCollateralUi\n      accountCollaterals={accountCollaterals.data || []}\n      timeToUnlock={timeToUnlock}\n      unlockDateString={unlockDateString}\n      unlockDate={accountCollateralUnlockDate.data}\n      AvailableCollateralRow={AvailableCollateralRow}\n    />\n  );\n}\n","import { Helmet } from 'react-helmet';\nimport {\n  Box,\n  Button,\n  Fade,\n  Flex,\n  Heading,\n  Skeleton,\n  Table,\n  Tbody,\n  Td,\n  Th,\n  Thead,\n  Tr,\n} from '@chakra-ui/react';\nimport React, { FC } from 'react';\nimport { generatePath, Link, useLocation } from 'react-router-dom';\nimport { CollateralType, useCollateralTypes } from '@snx-v3/useCollateralTypes';\nimport { VaultRow, VaultRowProps } from './VaultRow';\nimport { PoolsType, usePools } from '@snx-v3/usePools';\nimport { useParams } from '@snx-v3/useParams';\nimport { BorderBox } from '@snx-v3/BorderBox';\nimport { LiquidityPositionsById, useLiquidityPositions } from '@snx-v3/useLiquidityPositions';\nimport { Welcome } from '../../components/Shared/Welcome';\nimport { Stats, StatsProps } from './Stats';\nimport { AvailableCollateral } from './AvailableCollateral';\n\nconst LoadingRow = () => (\n  <Tr>\n    <Td>\n      <Skeleton w=\"full\" height={8} />\n    </Td>\n    <Td>\n      <Skeleton w=\"full\" height={8} />\n    </Td>\n    <Td>\n      <Skeleton w=\"full\" height={8} />\n    </Td>\n    <Td>\n      <Skeleton w=\"full\" height={8} />\n    </Td>\n    <Td>\n      <Skeleton w=\"full\" height={8} />\n    </Td>\n    <Td>\n      <Skeleton minWidth={16} height={8} />\n    </Td>\n  </Tr>\n);\n\nexport function HomeUi({\n  collateralTypes,\n  pools,\n  liquidityPositionsById,\n  isLoading,\n  VaultRow,\n  Stats,\n  AvailableCollateral,\n}: {\n  collateralTypes?: CollateralType[];\n  pools: PoolsType;\n  liquidityPositionsById?: LiquidityPositionsById;\n  isLoading: boolean;\n  VaultRow: FC<VaultRowProps>;\n  Stats: FC<StatsProps>;\n  AvailableCollateral: FC;\n}) {\n  const { totalCollateral, totalDebt } =\n    Object.values(liquidityPositionsById || []).reduce(\n      (acc, val) => {\n        acc.totalCollateral = acc.totalCollateral + val.collateralValue.toNumber();\n        acc.totalDebt = acc.totalDebt + val.debt.toNumber();\n        return acc;\n      },\n      { totalCollateral: 0, totalDebt: 0 }\n    ) || {};\n  const location = useLocation();\n\n  return (\n    <Flex height=\"100%\" flexDirection=\"column\">\n      <Box mb=\"8\">\n        <Welcome />\n      </Box>\n      <Stats totalDebt={totalDebt} totalCollateral={totalCollateral} />\n      {isLoading ? (\n        <BorderBox p={4} mt={8} flexDir=\"column\">\n          <Flex\n            justifyContent=\"space-between\"\n            flexWrap={{ base: 'wrap', md: 'nowrap' }}\n            alignItems=\"center\"\n          >\n            <Flex\n              alignItems=\"baseline\"\n              justifyContent=\"flex-start\"\n              flexDirection={{ base: 'column', md: 'row' }}\n            >\n              <Skeleton />\n            </Flex>\n          </Flex>\n        </BorderBox>\n      ) : (\n        <>\n          {pools.map((pool) => (\n            <BorderBox key={pool.id} p={4} mt={8} flexDir=\"column\">\n              <Flex\n                justifyContent=\"space-between\"\n                flexWrap={{ base: 'wrap', md: 'nowrap' }}\n                alignItems=\"center\"\n              >\n                <Flex\n                  alignItems=\"baseline\"\n                  justifyContent=\"flex-start\"\n                  flexDirection={{ base: 'column', md: 'row' }}\n                >\n                  <Fade in>\n                    <Heading fontSize=\"2xl\">{pool.name}</Heading>\n                  </Fade>\n                </Flex>\n                {pool.id && (\n                  <Fade in>\n                    <Button\n                      as={Link}\n                      mt={{ base: 2, md: 0 }}\n                      size=\"sm\"\n                      to={{\n                        pathname: generatePath('/pools/:poolId', { poolId: pool.id }),\n                        search: location.search,\n                      }}\n                      variant=\"outline\"\n                    >\n                      Pool Info\n                    </Button>\n                  </Fade>\n                )}\n              </Flex>\n              <Box overflowX=\"auto\">\n                <Table mt={8} size=\"sm\" variant=\"unstyled\" mb=\"9\">\n                  <Thead sx={{ tr: { borderBottomColor: 'gray.900', borderBottomWidth: '1px' } }}>\n                    <Tr>\n                      <Th\n                        color=\"gray.500\"\n                        fontSize=\"xs\"\n                        lineHeight=\"4\"\n                        pb=\"3\"\n                        textTransform=\"initial\"\n                      >\n                        Collateral\n                      </Th>\n                      <Th\n                        color=\"gray.500\"\n                        fontSize=\"xs\"\n                        lineHeight=\"4\"\n                        pb=\"3\"\n                        textTransform=\"initial\"\n                      >\n                        Debt\n                      </Th>\n                      <Th\n                        color=\"gray.500\"\n                        fontSize=\"xs\"\n                        lineHeight=\"4\"\n                        pb=\"3\"\n                        textTransform=\"initial\"\n                      >\n                        C-Ratio\n                      </Th>\n                      <Th\n                        color=\"gray.500\"\n                        fontSize=\"xs\"\n                        lineHeight=\"4\"\n                        pb=\"3\"\n                        textTransform=\"initial\"\n                      >\n                        Issuance Ratio\n                      </Th>\n                      <Th\n                        color=\"gray.500\"\n                        fontSize=\"xs\"\n                        lineHeight=\"4\"\n                        pb=\"3\"\n                        textTransform=\"initial\"\n                      >\n                        Liquidation Ratio\n                      </Th>\n                      <Th\n                        color=\"gray.500\"\n                        fontSize=\"xs\"\n                        lineHeight=\"4\"\n                        pb=\"2\"\n                        textTransform=\"initial\"\n                      ></Th>\n                    </Tr>\n                  </Thead>\n                  <Tbody sx={{ tr: { borderBottomColor: 'gray.900', borderBottomWidth: '1px' } }}>\n                    {collateralTypes ? (\n                      collateralTypes.map((c) => (\n                        <VaultRow\n                          key={c.tokenAddress}\n                          collateralType={c}\n                          poolId={pool.id}\n                          liquidityPosition={liquidityPositionsById?.[`${pool.id}-${c.symbol}`]}\n                        />\n                      ))\n                    ) : (\n                      <>\n                        <LoadingRow />\n                        <LoadingRow />\n                      </>\n                    )}\n                  </Tbody>\n                </Table>\n              </Box>\n            </BorderBox>\n          ))}\n        </>\n      )}\n      <AvailableCollateral />\n    </Flex>\n  );\n}\n\nexport function Home() {\n  const { accountId } = useParams();\n\n  const { data: collateralTypes = [], isLoading: collateralTypesLoading } = useCollateralTypes();\n  const { data: pools, isLoading: isPoolsLoading } = usePools();\n\n  const {\n    data: liquidityPositionsById,\n    isLoading: liquidityPositionLoading,\n    isInitialLoading: liquidityInitialLoading,\n  } = useLiquidityPositions({ accountId });\n\n  const isLoading =\n    collateralTypesLoading ||\n    isPoolsLoading ||\n    (liquidityPositionLoading && liquidityInitialLoading);\n\n  return (\n    <>\n      <Helmet>\n        <title>Synthetix V3</title>\n        <meta name=\"description\" content=\"Synthetix V3\" />\n      </Helmet>\n      <HomeUi\n        isLoading={isLoading}\n        liquidityPositionsById={liquidityPositionsById}\n        collateralTypes={collateralTypes}\n        pools={pools || []}\n        VaultRow={VaultRow}\n        AvailableCollateral={AvailableCollateral}\n        Stats={Stats}\n      />\n    </>\n  );\n}\n","import { calculateCRatio } from '@snx-v3/calculations';\nimport { Wei, wei } from '@synthetixio/wei';\n\nexport const validatePosition = ({\n  issuanceRatioD18,\n  collateralAmount,\n  collateralPrice,\n  debt,\n  collateralChange,\n  debtChange,\n}: {\n  issuanceRatioD18?: Wei;\n  collateralAmount?: Wei;\n  collateralPrice?: Wei;\n  debt?: Wei;\n  collateralChange: Wei;\n  debtChange: Wei;\n}) => {\n  const targetCRatio = issuanceRatioD18 ? issuanceRatioD18 : wei(1);\n  const newDebt = wei(debt || 0).add(debtChange);\n  const newCollateralAmount = wei(collateralAmount || 0).add(collateralChange);\n  const newCollateralValue = newCollateralAmount.mul(collateralPrice || 0);\n\n  const newCRatio = calculateCRatio(newDebt, newCollateralValue);\n  const maybeMaxDebt = wei(newCollateralAmount)\n    .mul(collateralPrice || 0)\n    .div(targetCRatio)\n    .sub(debt || 0);\n\n  const maxDebt = maybeMaxDebt.gte(0) ? maybeMaxDebt : wei(0);\n\n  const isValid =\n    (newCRatio.gte(targetCRatio) || newCRatio.lte(0)) &&\n    (newDebt.eq(0) || newCollateralAmount.gt(0));\n\n  return {\n    isValid,\n    hasChanges: !collateralChange.eq(0) || !debtChange.eq(0),\n    newCRatio,\n    newDebt,\n    newCollateralAmount,\n    maxDebt,\n  };\n};\n","import { Input, InputProps } from '@chakra-ui/react';\nimport { ChangeEvent, useCallback, useEffect, useRef, useState } from 'react';\nimport { Wei, wei } from '@synthetixio/wei';\n\nexport interface NumberInputProps extends InputProps {\n  'data-testid'?: string;\n  'data-max'?: string;\n}\n\nexport const NUMBER_REGEX = /^([0-9]*[.])?[0-9]{0,18}$/;\n\nfunction cleanupNumber(value: Wei) {\n  // Cleanup trailing precision zeroes\n  const float = parseFloat(value.toString());\n  if (float === value.toNumber()) {\n    return `${float}`;\n  }\n  return value.toString();\n}\n\nexport function NumberInput({\n  value,\n  onChange,\n  min,\n  max,\n  InputProps,\n}: {\n  onChange?: (value: Wei) => void;\n  value: Wei;\n  min?: Wei;\n  max?: Wei;\n  InputProps?: NumberInputProps;\n}) {\n  const [inputValue, setInputValue] = useState(value.gt(0) ? value.toString() : '');\n\n  const onInputChange = useCallback(\n    (e: ChangeEvent<HTMLInputElement>) => {\n      setInputValue(e.target.value);\n      if (!onChange) {\n        // Could be a read-only input\n        return;\n      }\n      if (!NUMBER_REGEX.test(`${e.target.value}`)) {\n        return;\n      }\n      let nextValue = value;\n      try {\n        nextValue = wei(e.target.value || 0);\n      } catch (_err) {\n        // whatever\n      }\n      if (!value.eq(nextValue)) {\n        onChange(nextValue);\n      }\n    },\n    [onChange, value]\n  );\n\n  const ref = useRef<HTMLInputElement>(null);\n  useEffect(() => {\n    if (!ref.current) {\n      return;\n    }\n    if (!NUMBER_REGEX.test(`${inputValue}`)) {\n      ref.current.setCustomValidity('Invalid number');\n      return;\n    }\n    if (value && value.eq(0)) {\n      ref.current.setCustomValidity('Value required');\n      return;\n    }\n    if (min && min.gte(0) && value && value.lt(min)) {\n      ref.current.setCustomValidity(`Value smaller than minimum of ${cleanupNumber(min)}`);\n      return;\n    }\n    if (max && max.gte(0) && value && value.gt(max)) {\n      ref.current.setCustomValidity(`Value greater than maximum of ${cleanupNumber(max)}`);\n      return;\n    }\n    ref.current.setCustomValidity('');\n  }, [inputValue, min, max, value]);\n\n  useEffect(() => {\n    if (value.eq(0)) {\n      return setInputValue('');\n    }\n    return setInputValue(cleanupNumber(value));\n  }, [value]);\n\n  return (\n    <Input\n      ref={ref}\n      flex=\"1\"\n      type=\"text\"\n      border=\"none\"\n      borderWidth=\"0px\"\n      textAlign=\"end\"\n      p={0}\n      outline=\"none\"\n      fontFamily=\"heading\"\n      fontSize=\"xl\"\n      fontWeight=\"black\"\n      lineHeight=\"2xl\"\n      color=\"white\"\n      height=\"unset\"\n      autoFocus={true}\n      placeholder=\"Enter Amount\"\n      _focus={{ boxShadow: 'none !important' }}\n      _placeholder={{ color: 'whiteAlpha.700' }}\n      value={inputValue}\n      onChange={onInputChange}\n      {...InputProps}\n    />\n  );\n}\n","import { Button, Flex, Text } from '@chakra-ui/react';\nimport { Amount } from '@snx-v3/Amount';\nimport { BorderBox } from '@snx-v3/BorderBox';\nimport { DollarCircle } from '@snx-v3/icons';\nimport { NumberInput } from '@snx-v3/NumberInput';\nimport { ManagePositionContext } from '@snx-v3/ManagePositionContext';\nimport { FC, useContext } from 'react';\nimport { validatePosition } from '@snx-v3/validatePosition';\nimport { useCollateralType } from '@snx-v3/useCollateralTypes';\nimport { useParams } from '@snx-v3/useParams';\nimport { LiquidityPosition } from '@snx-v3/useLiquidityPosition';\nimport Wei from '@synthetixio/wei';\n\nconst BorrowUi: FC<{\n  debtChange: Wei;\n  maxDebt: Wei;\n  setDebtChange: (val: Wei) => void;\n}> = ({ debtChange, setDebtChange, maxDebt }) => {\n  return (\n    <Flex flexDirection=\"column\">\n      <Text fontSize=\"md\" fontWeight=\"700\" mb=\"0.5\">\n        Borrow snxUSD\n      </Text>\n      <Text fontSize=\"sm\" color=\"gray.400\" mb=\"4\">\n        Take an interest-free loan of snxUSD against your collateral. This increases your debt and\n        decreases your C-Ratio.\n      </Text>\n      <BorderBox display=\"flex\" py={2} px={3} mb=\"4\">\n        <Text display=\"flex\" gap={2} alignItems=\"center\" fontWeight=\"600\" mx=\"2\">\n          <DollarCircle />\n          snxUSD\n        </Text>\n        <Flex flexDirection=\"column\" justifyContent=\"flex-end\" flexGrow={1}>\n          <NumberInput\n            InputProps={{\n              isRequired: true,\n              'data-testid': 'borrow amount input',\n              'data-max': maxDebt.toString(),\n            }}\n            value={debtChange}\n            onChange={(val) => setDebtChange(val)}\n            max={maxDebt}\n          />\n          <Flex flexDirection=\"column\" alignItems=\"flex-end\" fontSize=\"xs\" color=\"whiteAlpha.700\">\n            <Flex\n              gap=\"1\"\n              cursor=\"pointer\"\n              onClick={() => {\n                if (!maxDebt) {\n                  return;\n                }\n                setDebtChange(maxDebt);\n              }}\n            >\n              <Text>Max:</Text>\n              <Amount value={maxDebt} /> snxUSD\n            </Flex>\n          </Flex>\n        </Flex>\n      </BorderBox>\n      <Button data-testid=\"borrow submit\" type=\"submit\">\n        Borrow snxUSD\n      </Button>\n    </Flex>\n  );\n};\n\nexport const Borrow = ({ liquidityPosition }: { liquidityPosition?: LiquidityPosition }) => {\n  const params = useParams();\n  const { debtChange, collateralChange, setDebtChange } = useContext(ManagePositionContext);\n\n  const { data: collateralType } = useCollateralType(params.collateralSymbol);\n\n  const { maxDebt } = validatePosition({\n    issuanceRatioD18: collateralType?.issuanceRatioD18,\n    collateralAmount: liquidityPosition?.collateralAmount,\n    collateralPrice: liquidityPosition?.collateralPrice,\n    debt: liquidityPosition?.debt,\n    collateralChange: collateralChange,\n    debtChange: debtChange,\n  });\n\n  return <BorrowUi setDebtChange={setDebtChange} debtChange={debtChange} maxDebt={maxDebt} />;\n};\n","import { Button, Flex, Text, Tooltip } from '@chakra-ui/react';\nimport { Amount } from '@snx-v3/Amount';\nimport { BorderBox } from '@snx-v3/BorderBox';\nimport { DollarCircle } from '@snx-v3/icons';\nimport { ManagePositionContext } from '@snx-v3/ManagePositionContext';\nimport { NumberInput } from '@snx-v3/NumberInput';\nimport { useUSDProxy } from '@snx-v3/useUSDProxy';\nimport { LiquidityPosition } from '@snx-v3/useLiquidityPosition';\nimport { useTokenBalance } from '@snx-v3/useTokenBalance';\nimport Wei, { wei } from '@synthetixio/wei';\nimport { FC, useContext } from 'react';\n\nexport const RepayUi: FC<{\n  debtChange: Wei;\n  max?: Wei;\n  snxUSDBalance?: Wei;\n  availableUSDCollateral?: Wei;\n  currentDebt?: Wei;\n  setDebtChange: (val: Wei) => void;\n}> = ({ debtChange, setDebtChange, max, currentDebt, snxUSDBalance, availableUSDCollateral }) => {\n  const totalUsdBalance =\n    snxUSDBalance && availableUSDCollateral ? snxUSDBalance.add(availableUSDCollateral) : undefined;\n  return (\n    <Flex flexDirection=\"column\">\n      <Text fontSize=\"md\" fontWeight=\"700\" mb=\"0.5\">\n        Repay snxUSD\n      </Text>\n      <Text fontSize=\"sm\" color=\"gray.400\" mb=\"4\">\n        Pay down your positions debt with snxUSD. This decreases your debt and increases your\n        C-Ratio.\n      </Text>\n      <BorderBox display=\"flex\" py={2} px={3} mb=\"4\">\n        <Text display=\"flex\" gap={2} alignItems=\"center\" fontWeight=\"600\" mx=\"2\">\n          <DollarCircle />\n          snxUSD\n        </Text>\n        <Flex flexDirection=\"column\" justifyContent=\"flex-end\" flexGrow={1}>\n          <NumberInput\n            InputProps={{\n              isRequired: true,\n              'data-testid': 'repay amount input',\n              'data-max': max?.toString(),\n            }}\n            value={debtChange.abs()}\n            onChange={(val) => setDebtChange(val.mul(-1))}\n            max={max}\n          />\n          <Flex flexDirection=\"row\" justifyContent=\"right\" fontSize=\"xs\" color=\"whiteAlpha.700\">\n            <Flex\n              gap=\"1\"\n              mr=\"3\"\n              cursor=\"pointer\"\n              onClick={() => {\n                if (!currentDebt) {\n                  return;\n                }\n                setDebtChange(currentDebt.neg());\n              }}\n            >\n              <Text>Debt:</Text>\n              <Text display=\"inline\">\n                $<Amount value={currentDebt} data-testid=\"current debt\" />\n              </Text>\n            </Flex>\n            <Flex\n              gap=\"1\"\n              cursor=\"pointer\"\n              onClick={() => {\n                if (!totalUsdBalance) {\n                  return;\n                }\n                setDebtChange(totalUsdBalance.neg());\n              }}\n            >\n              <Tooltip\n                label={\n                  <Flex direction=\"column\" alignItems=\"flex-start\">\n                    <Flex justifyContent=\"space-between\" width=\"full\" gap={1}>\n                      Wallet Balance: <Amount value={snxUSDBalance} suffix=\" sUSD\" />\n                    </Flex>\n                    <Flex justifyContent=\"space-between\" width=\"full\" gap={1}>\n                      Collateral Balance: <Amount value={availableUSDCollateral} suffix=\" sUSD\" />\n                    </Flex>\n                  </Flex>\n                }\n              >\n                <Flex gap={1}>\n                  <Text>Balance:</Text>\n                  <Text display=\"inline\">\n                    <Amount\n                      value={totalUsdBalance}\n                      data-testid=\"available snxUSD balance\"\n                      suffix=\" sUSD\"\n                    />\n                  </Text>\n                </Flex>\n              </Tooltip>\n            </Flex>\n          </Flex>\n        </Flex>\n      </BorderBox>\n      <Button\n        data-testid=\"repay submit\"\n        type=\"submit\"\n        isDisabled={!(max && snxUSDBalance && currentDebt && availableUSDCollateral)}\n      >\n        Repay snxUSD\n      </Button>\n    </Flex>\n  );\n};\nexport const Repay = ({ liquidityPosition }: { liquidityPosition?: LiquidityPosition }) => {\n  const { debtChange, setDebtChange } = useContext(ManagePositionContext);\n  const { data: USDProxy } = useUSDProxy();\n  const availableUSDCollateral = liquidityPosition?.usdCollateral.availableCollateral;\n\n  const { data: balance } = useTokenBalance(USDProxy?.address);\n\n  const debtExists = liquidityPosition?.debt.gt(0.01);\n  const flooredBalance = balance?.gt(0.01) ? balance : wei(0);\n\n  return (\n    <RepayUi\n      setDebtChange={setDebtChange}\n      debtChange={debtChange}\n      snxUSDBalance={flooredBalance}\n      availableUSDCollateral={availableUSDCollateral}\n      currentDebt={debtExists ? liquidityPosition?.debt : wei(0)}\n      max={Wei.max(\n        liquidityPosition?.debt || wei(0),\n        availableUSDCollateral?.add(balance || wei(0)) || wei(0)\n      )}\n    />\n  );\n};\n","import { useQuery } from '@tanstack/react-query';\nimport { useCoreProxy } from '@snx-v3/useCoreProxy';\nimport { useNetwork } from '@snx-v3/useBlockchain';\nimport { z } from 'zod';\nimport { SmallIntSchema, WeiSchema } from '@snx-v3/zod';\nimport { ethers } from 'ethers';\nimport { erc7412Call } from '@snx-v3/withERC7412';\nimport { fetchPriceUpdates, priceUpdatesToPopulatedTx } from '@snx-v3/fetchPythPrices';\nimport { useAllCollateralPriceIds } from '@snx-v3/useAllCollateralPriceIds';\n\nexport const MarketConfigurationSchema = z.object({\n  id: SmallIntSchema,\n  weight: WeiSchema,\n  maxDebtShareValue: WeiSchema,\n  isLocked: z.boolean(),\n});\n\nexport const PoolConfigurationSchema = z.object({\n  id: z.number(),\n  markets: MarketConfigurationSchema.array(),\n  isAnyMarketLocked: z.boolean(),\n});\nconst isLockedSchema = z.boolean();\nexport const usePoolConfiguration = (poolId?: string) => {\n  const network = useNetwork();\n  const { data: CoreProxy } = useCoreProxy();\n  const { data: collateralPriceUpdates } = useAllCollateralPriceIds();\n\n  return useQuery({\n    enabled: Boolean(CoreProxy && poolId && collateralPriceUpdates),\n    queryKey: [`${network.id}-${network.preset}`, 'PoolConfiguration', { poolId }],\n    queryFn: async () => {\n      if (!CoreProxy || !poolId || !collateralPriceUpdates) {\n        throw Error('usePoolConfiguration should not be enabled');\n      }\n      const marketsData = await CoreProxy.getPoolConfiguration(ethers.BigNumber.from(poolId));\n      const markets = marketsData.map(({ marketId, maxDebtShareValueD18, weightD18 }) => ({\n        id: marketId,\n        weight: maxDebtShareValueD18,\n        maxDebtShareValue: weightD18,\n      }));\n      const collateralPriceCalls = await fetchPriceUpdates(\n        collateralPriceUpdates,\n        network.isTestnet\n      ).then((signedData) => priceUpdatesToPopulatedTx('0x', collateralPriceUpdates, signedData));\n\n      const calls = await Promise.all(\n        markets.map((m) => CoreProxy.populateTransaction.isMarketCapacityLocked(m.id))\n      );\n      const decoded = await erc7412Call(\n        network,\n        CoreProxy.provider,\n        collateralPriceCalls.concat(calls),\n        (encoded) => {\n          if (!Array.isArray(encoded)) throw Error('Expected array');\n          return encoded.map((x) =>\n            isLockedSchema.parse(\n              CoreProxy.interface.decodeFunctionResult('isMarketCapacityLocked', x)[0]\n            )\n          );\n        },\n        'isMarketCapacityLocked'\n      );\n\n      return PoolConfigurationSchema.parse({\n        id: parseInt(poolId),\n        markets: markets.map((market, i) => ({\n          ...market,\n          isLocked: decoded[i],\n        })),\n        isAnyMarketLocked: decoded.some(Boolean),\n      });\n    },\n  });\n};\n","import {\n  Alert,\n  AlertDescription,\n  AlertIcon,\n  AlertTitle,\n  Button,\n  Collapse,\n  Flex,\n  Text,\n} from '@chakra-ui/react';\nimport { Amount } from '@snx-v3/Amount';\nimport { BorderBox } from '@snx-v3/BorderBox';\nimport { CollateralIcon } from '@snx-v3/icons';\nimport { ManagePositionContext } from '@snx-v3/ManagePositionContext';\nimport { NumberInput } from '@snx-v3/NumberInput';\nimport { useCollateralType } from '@snx-v3/useCollateralTypes';\nimport { LiquidityPosition } from '@snx-v3/useLiquidityPosition';\nimport { validatePosition } from '@snx-v3/validatePosition';\nimport { usePoolConfiguration } from '@snx-v3/usePoolConfiguration';\nimport Wei, { wei } from '@synthetixio/wei';\nimport React, { FC, useContext } from 'react';\nimport { useParams } from '@snx-v3/useParams';\n\nexport const UndelegateUi: FC<{\n  collateralChange: Wei;\n  currentCollateral?: Wei;\n  minDelegation?: Wei;\n  currentDebt?: Wei;\n  max?: Wei;\n  displaySymbol: string;\n  symbol: string;\n  setCollateralChange: (val: Wei) => void;\n  isAnyMarketLocked?: boolean;\n  isLoadingRequiredData: boolean;\n}> = ({\n  collateralChange,\n  setCollateralChange,\n  max,\n  displaySymbol,\n  symbol,\n  currentCollateral,\n  minDelegation,\n  isLoadingRequiredData,\n  isAnyMarketLocked,\n}) => {\n  const onMaxClick = React.useCallback(() => {\n    if (!max) {\n      return;\n    }\n    setCollateralChange(max.mul(-1));\n  }, [max, setCollateralChange]);\n\n  const leftoverCollateral = currentCollateral?.add(collateralChange) || wei(0);\n  const isValidLeftover =\n    leftoverCollateral.gt(minDelegation || wei(0)) || leftoverCollateral.eq(0);\n\n  const isDisabled = isAnyMarketLocked === true;\n\n  return (\n    <Flex flexDirection=\"column\">\n      <Text fontSize=\"md\" fontWeight=\"700\" mb=\"0.5\">\n        Remove {displaySymbol}\n      </Text>\n      <Text fontSize=\"sm\" color=\"gray.400\" mb=\"4\">\n        Removing collateral from this position will transfer it to the accounts Available\n        Collateral balance for withdrawal. Collateral may only be removed if the resulting C-Ratio\n        is above the Issuance C-Ratio.\n      </Text>\n\n      <BorderBox flexDirection=\"column\" py={2} px={3} mb=\"4\">\n        <Flex flexDirection=\"row\" justifyContent=\"space-between\" width=\"100%\">\n          <Text display=\"flex\" gap={2} alignItems=\"center\" fontWeight=\"600\" mx=\"2\">\n            <CollateralIcon symbol={symbol} />\n            {displaySymbol}\n          </Text>\n          <Flex flexDirection=\"column\" justifyContent=\"flex-end\" flexGrow={1}>\n            <NumberInput\n              InputProps={{\n                isDisabled,\n                isRequired: true,\n                'data-testid': 'undelegate amount input',\n                'data-max': max?.toString(),\n              }}\n              value={collateralChange.abs()}\n              onChange={(val) => setCollateralChange(val.mul(-1))}\n              max={max}\n            />\n            <Flex flexDirection=\"column\" alignItems=\"flex-end\" fontSize=\"xs\" color=\"whiteAlpha.700\">\n              <Flex\n                gap=\"1\"\n                cursor={isDisabled ? 'not-allowed' : 'pointer'}\n                onClick={isDisabled ? undefined : onMaxClick}\n              >\n                <Text display=\"flex\" alignItems=\"center\" gap={1}>\n                  Max:\n                </Text>\n                <Amount\n                  value={max}\n                  data-testid=\"available to undelegate\"\n                  suffix={` ${displaySymbol}`}\n                />\n              </Flex>\n            </Flex>\n          </Flex>\n        </Flex>\n        <Collapse in={isDisabled} animateOpacity>\n          <Alert mt={2} status=\"warning\">\n            <AlertIcon />\n            <Flex direction=\"column\">\n              <AlertTitle>Credit capacity reached</AlertTitle>\n              <AlertDescription>\n                One of the markets has reached its credit capacity and is currently in a locked\n                state. You cannot remove collateral from the pool at this time.\n              </AlertDescription>\n            </Flex>\n          </Alert>\n        </Collapse>\n\n        <Collapse in={!isValidLeftover} animateOpacity>\n          <Alert mt={2} status=\"info\">\n            <AlertIcon />\n            <Flex direction=\"column\">\n              <AlertTitle>\n                The minimal delegated amount is{' '}\n                <Amount value={minDelegation} suffix={` ${symbol}`} />\n              </AlertTitle>\n              <AlertDescription>\n                You can close your position by removing all the collateral.\n              </AlertDescription>\n            </Flex>\n          </Alert>\n        </Collapse>\n      </BorderBox>\n      <Button\n        data-testid=\"undelegate submit\"\n        type=\"submit\"\n        isDisabled={isLoadingRequiredData || isAnyMarketLocked === true}\n      >\n        Remove {displaySymbol}\n      </Button>\n    </Flex>\n  );\n};\n\nexport const Undelegate = ({ liquidityPosition }: { liquidityPosition?: LiquidityPosition }) => {\n  const { collateralChange, debtChange, setCollateralChange } = useContext(ManagePositionContext);\n  const params = useParams();\n  const { data: collateralType } = useCollateralType(params.collateralSymbol);\n\n  const poolConfiguration = usePoolConfiguration(params.poolId);\n\n  if (!collateralType) return null;\n  const collateralPrice = liquidityPosition?.collateralPrice;\n  const { newDebt } = validatePosition({\n    issuanceRatioD18: collateralType.issuanceRatioD18,\n    collateralAmount: liquidityPosition?.collateralAmount,\n    collateralPrice,\n    debt: liquidityPosition?.debt,\n    collateralChange: collateralChange,\n    debtChange: debtChange,\n  });\n  // To get the max withdrawable collateral we look at the new debt and the issuance ratio.\n  // This gives us the amount in dollar. We then divide by the collateral price.\n  // To avoid the transaction failing due to small price deviations, we also apply a 2% buffer by multiplying with 0.98\n\n  function maxUndelegate() {\n    if (!liquidityPosition || !collateralType) return undefined;\n    const { collateralAmount, collateralValue } = liquidityPosition;\n    // if debt is negative it's actually credit, which means we can undelegate all collateral\n    if (newDebt.lte(0)) return collateralAmount;\n\n    const minCollateralRequired = newDebt.mul(collateralType.issuanceRatioD18);\n    // If you're below issuance ratio, you can't withdraw anything\n    if (collateralValue < minCollateralRequired) return wei(0);\n\n    const maxWithdrawable = collateralValue.sub(minCollateralRequired).mul(0.98);\n    return Wei.min(collateralAmount, maxWithdrawable);\n  }\n  const max = maxUndelegate();\n\n  return (\n    <UndelegateUi\n      displaySymbol={collateralType.displaySymbol}\n      symbol={collateralType.symbol}\n      minDelegation={collateralType.minDelegationD18}\n      setCollateralChange={setCollateralChange}\n      collateralChange={collateralChange}\n      currentCollateral={liquidityPosition?.collateralAmount}\n      currentDebt={liquidityPosition?.debt}\n      max={max}\n      isLoadingRequiredData={poolConfiguration.isLoading || !max}\n      isAnyMarketLocked={poolConfiguration.data?.isAnyMarketLocked}\n    />\n  );\n};\n","import { FC } from 'react';\nimport { Flex, Badge } from '@chakra-ui/react';\nexport const PercentBadges: FC<{\n  disabled: boolean;\n  onBadgePress: (num: number) => void;\n  activeBadge: number;\n}> = ({ onBadgePress, activeBadge, disabled }) => {\n  return (\n    <Flex w=\"100%\" justifyContent=\"space-between\" mt={2} mb={1}>\n      <Badge\n        variant=\"percent\"\n        sx={{\n          bg: activeBadge >= 0.25 ? 'cyan.500' : 'whiteAlpha.300',\n          color: activeBadge >= 0.25 ? 'black' : 'cyan.500',\n          cursor: disabled ? 'not-allowed' : 'pointer',\n        }}\n        mr={1}\n        onClick={disabled ? undefined : () => onBadgePress(0.25)}\n      >\n        25%\n      </Badge>\n      <Badge\n        variant=\"percent\"\n        sx={{\n          bg: activeBadge >= 0.5 ? 'cyan.500' : 'whiteAlpha.300',\n          color: activeBadge >= 0.5 ? 'black' : 'cyan.500',\n          cursor: disabled ? 'not-allowed' : 'pointer',\n        }}\n        mx={1}\n        onClick={disabled ? undefined : () => onBadgePress(0.5)}\n      >\n        50%\n      </Badge>\n      <Badge\n        variant=\"percent\"\n        sx={{\n          bg: activeBadge >= 0.75 ? 'cyan.500' : 'whiteAlpha.300',\n          color: activeBadge >= 0.75 ? 'black' : 'cyan.500',\n          cursor: disabled ? 'not-allowed' : 'pointer',\n        }}\n        mx={1}\n        onClick={disabled ? undefined : () => onBadgePress(0.75)}\n      >\n        75%\n      </Badge>\n      <Badge\n        variant=\"percent\"\n        sx={{\n          bg: activeBadge === 1 ? 'cyan.500' : 'whiteAlpha.300',\n          color: activeBadge === 1 ? 'black' : 'cyan.500',\n          cursor: disabled ? 'not-allowed' : 'pointer',\n        }}\n        ml={1}\n        onClick={disabled ? undefined : () => onBadgePress(1)}\n      >\n        100%\n      </Badge>\n    </Flex>\n  );\n};\n","import { useQuery } from '@tanstack/react-query';\nimport { useNetwork, useProvider, useWallet } from '@snx-v3/useBlockchain';\nimport { Wei, wei } from '@synthetixio/wei';\nimport { ethers } from 'ethers';\nimport { useCollateralType } from '@snx-v3/useCollateralTypes';\n\nexport function useTransferableSynthetix() {\n  const network = useNetwork();\n  const account = useWallet();\n  const provider = useProvider();\n  const { data: snxCollateral } = useCollateralType('SNX');\n\n  const accountAddress = account?.address;\n  const snxAddress = snxCollateral?.tokenAddress;\n\n  return useQuery({\n    enabled: Boolean(provider && accountAddress && snxAddress),\n    queryKey: [\n      `${network.id}-${network.preset}`,\n      'TransferableSynthetix',\n      { address: account?.address },\n    ],\n    queryFn: async function (): Promise<{ transferable: Wei; collateral?: Wei }> {\n      if (!(provider && accountAddress && snxAddress)) {\n        throw 'useTransferableSynthetix should not be enabled';\n      }\n      const contract = new ethers.Contract(\n        snxAddress,\n        [\n          'function balanceOf(address owner) view returns (uint256)',\n          'function transferableSynthetix(address account) view returns (uint256 transferable)',\n          'function collateral(address account) view returns (uint256 collateral)',\n        ],\n        provider\n      );\n      try {\n        // Cannon case\n        if (network.name === 'cannon') {\n          const balanceOf = await contract.balanceOf(accountAddress);\n          return {\n            transferable: wei(balanceOf),\n          };\n        }\n\n        // Normal case for SNX case\n        const [transferableSynthetix, collateral] = await Promise.all([\n          contract.transferableSynthetix(accountAddress),\n          contract.collateral(accountAddress),\n        ]);\n\n        return {\n          transferable: wei(transferableSynthetix),\n          collateral: wei(collateral),\n        };\n      } catch (e) {\n        console.error(e);\n        throw e;\n      }\n    },\n  });\n}\n","import { Alert, AlertIcon, AlertProps, Link, Text } from '@chakra-ui/react';\nimport Wei from '@synthetixio/wei';\n\ninterface CollateralAlertProps extends AlertProps {\n  tokenBalance: Wei;\n}\n\nexport const CollateralAlert = ({ tokenBalance, ...props }: CollateralAlertProps) => {\n  return (\n    <Alert borderLeftColor=\"cyan.500\" borderRadius=\"6px\" {...props}>\n      <AlertIcon color=\"cyan.500\" />\n      <Text color=\"white\" fontFamily=\"heading\" fontSize=\"16px\" lineHeight=\"24px\">\n        You have a {tokenBalance.toString(2)} SNX active staking position on V2. You&lsquo;ll need\n        to unstake on V2 before being able to deposit on V3.{' '}\n        <Link textDecor=\"underline\" href=\"https://staking.synthetix.io/\" target=\"_blank\">\n          Go to V2\n        </Link>\n      </Text>\n    </Alert>\n  );\n};\n","import { Button, Flex, Text } from '@chakra-ui/react';\nimport { Amount } from '@snx-v3/Amount';\nimport { BorderBox } from '@snx-v3/BorderBox';\nimport { CollateralIcon } from '@snx-v3/icons';\nimport { ManagePositionContext } from '@snx-v3/ManagePositionContext';\nimport { NumberInput } from '@snx-v3/NumberInput';\nimport { PercentBadges } from '@snx-v3/PercentBadges';\nimport { useCollateralType } from '@snx-v3/useCollateralTypes';\nimport { useEthBalance } from '@snx-v3/useEthBalance';\nimport Wei, { wei } from '@synthetixio/wei';\nimport { FC, useContext, useMemo, useState } from 'react';\nimport { useParams } from '@snx-v3/useParams';\nimport { AccountCollateralType } from '@snx-v3/useAccountCollateral';\nimport { useTransferableSynthetix } from '@snx-v3/useTransferableSynthetix';\nimport { CollateralAlert } from '../../components/CollateralAlert';\nimport { useTokenBalance } from '@snx-v3/useTokenBalance';\nimport { LiquidityPosition } from '@snx-v3/useLiquidityPosition';\n\nexport const DepositUi: FC<{\n  accountCollateral: AccountCollateralType;\n  collateralChange: Wei;\n  ethBalance?: Wei;\n  snxBalance?: {\n    transferable: Wei;\n    collateral?: Wei;\n  };\n  tokenBalance?: Wei;\n\n  displaySymbol: string;\n  symbol: string;\n  setCollateralChange: (val: Wei) => void;\n}> = ({\n  accountCollateral,\n  collateralChange,\n  setCollateralChange,\n  displaySymbol,\n  symbol,\n  tokenBalance,\n  ethBalance,\n  snxBalance,\n}) => {\n  const [activeBadge, setActiveBadge] = useState(0);\n  const combinedTokenBalance = useMemo(() => {\n    if (symbol === 'SNX') {\n      return snxBalance?.transferable;\n    }\n    if (symbol !== 'WETH') {\n      return tokenBalance;\n    }\n    if (!tokenBalance || !ethBalance) {\n      return undefined;\n    }\n    return tokenBalance.add(ethBalance);\n  }, [symbol, tokenBalance, ethBalance, snxBalance?.transferable]);\n\n  return (\n    <Flex flexDirection=\"column\">\n      <Text fontSize=\"md\" fontWeight=\"700\" mb=\"0.5\">\n        Add {displaySymbol}\n      </Text>\n      <Text fontSize=\"sm\" color=\"gray.400\" mb=\"4\">\n        Provide additional collateral to this position. This will increase the positions C-Ratio.\n      </Text>\n      <BorderBox display=\"flex\" flexDirection=\"column\" py={2} px={3} mb=\"4\">\n        <Flex>\n          <Text display=\"flex\" gap={2} alignItems=\"center\" fontWeight=\"600\" mx=\"2\">\n            <CollateralIcon symbol={symbol} />\n            {displaySymbol}\n          </Text>\n          <Flex flexDirection=\"column\" justifyContent=\"flex-end\" flexGrow={1}>\n            <Flex flexDirection=\"column\" justifyContent=\"flex-end\" flexGrow={1}>\n              <NumberInput\n                InputProps={{\n                  'data-testid': 'deposit amount input',\n                  'data-max': combinedTokenBalance?.toString(),\n                }}\n                value={collateralChange}\n                onChange={(value) => {\n                  setActiveBadge(0);\n                  setCollateralChange(value);\n                }}\n                max={combinedTokenBalance}\n              />\n              <Flex\n                flexDirection=\"column\"\n                alignItems=\"flex-end\"\n                fontSize=\"xs\"\n                color=\"whiteAlpha.700\"\n              >\n                {accountCollateral.availableCollateral.gt(0) ? (\n                  <Flex\n                    gap=\"1\"\n                    cursor=\"pointer\"\n                    onClick={() => setCollateralChange(accountCollateral.availableCollateral)}\n                  >\n                    <Text>Available {symbol} Collateral:</Text>\n                    <Amount value={accountCollateral?.availableCollateral} />\n                  </Flex>\n                ) : null}\n                <Flex\n                  gap=\"1\"\n                  cursor=\"pointer\"\n                  onClick={() => {\n                    const amount = symbol === 'SNX' ? snxBalance?.transferable : tokenBalance;\n                    if (!amount) {\n                      return;\n                    }\n\n                    setCollateralChange(amount);\n                  }}\n                >\n                  <Text>{symbol} Balance:</Text>\n                  <Amount value={symbol === 'SNX' ? snxBalance?.transferable : tokenBalance} />\n                </Flex>\n                {symbol === 'WETH' ? (\n                  <Flex\n                    gap=\"1\"\n                    cursor=\"pointer\"\n                    onClick={() => {\n                      if (!ethBalance) {\n                        return;\n                      }\n                      setCollateralChange(ethBalance);\n                    }}\n                  >\n                    <Text>ETH Balance:</Text>\n                    <Amount value={ethBalance} />\n                  </Flex>\n                ) : null}\n              </Flex>\n            </Flex>\n          </Flex>\n        </Flex>\n        <PercentBadges\n          disabled={combinedTokenBalance ? combinedTokenBalance.eq(0) : false}\n          onBadgePress={(badgeNum) => {\n            if (!combinedTokenBalance) {\n              return;\n            }\n            if (activeBadge === badgeNum) {\n              setCollateralChange(wei(0));\n              setActiveBadge(0);\n              return;\n            }\n            setActiveBadge(badgeNum);\n            setCollateralChange(combinedTokenBalance.mul(badgeNum));\n          }}\n          activeBadge={activeBadge}\n        />\n      </BorderBox>\n      {snxBalance?.collateral && snxBalance?.collateral.gt(0) && symbol === 'SNX' && (\n        <CollateralAlert tokenBalance={snxBalance.collateral} />\n      )}\n      <Button\n        disabled={combinedTokenBalance === undefined}\n        data-testid=\"deposit submit\"\n        type=\"submit\"\n      >\n        Add {displaySymbol}\n      </Button>\n    </Flex>\n  );\n};\n\nexport const Deposit = ({ liquidityPosition }: { liquidityPosition?: LiquidityPosition }) => {\n  const { collateralChange, setCollateralChange } = useContext(ManagePositionContext);\n  const params = useParams();\n\n  const { data: collateralType } = useCollateralType(params.collateralSymbol);\n  const { data: transferrableSnx } = useTransferableSynthetix();\n  const { data: tokenBalance } = useTokenBalance(collateralType?.tokenAddress);\n\n  const { data: ethBalance } = useEthBalance();\n\n  if (!collateralType || !liquidityPosition?.accountCollateral) return null;\n\n  return (\n    <DepositUi\n      accountCollateral={liquidityPosition.accountCollateral}\n      displaySymbol={collateralType.displaySymbol}\n      tokenBalance={tokenBalance}\n      snxBalance={transferrableSnx}\n      ethBalance={ethBalance}\n      symbol={collateralType.symbol}\n      setCollateralChange={setCollateralChange}\n      collateralChange={collateralChange}\n    />\n  );\n};\n","import { ArrowDownIcon, ArrowUpIcon } from '@chakra-ui/icons';\nimport { Box, Button, Flex } from '@chakra-ui/react';\nimport { BorderBox } from '@snx-v3/BorderBox';\nimport { BorrowIcon, DollarCircle } from '@snx-v3/icons';\nimport { ManagePositionContext } from '@snx-v3/ManagePositionContext';\nimport { useCollateralType } from '@snx-v3/useCollateralTypes';\nimport { LiquidityPosition } from '@snx-v3/useLiquidityPosition';\nimport { useParams } from '@snx-v3/useParams';\nimport { validatePosition } from '@snx-v3/validatePosition';\nimport { wei } from '@synthetixio/wei';\nimport {\n  FC,\n  FormEvent,\n  lazy,\n  PropsWithChildren,\n  Suspense,\n  useCallback,\n  useContext,\n  useEffect,\n  useState,\n} from 'react';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport { Borrow } from './Borrow';\nimport { Repay } from './Repay';\nimport { Undelegate } from './Undelegate';\nimport { Deposit } from './Deposit';\nimport { z } from 'zod';\nimport { safeImport } from '@synthetixio/safe-import';\nimport { calculateCRatio } from '@snx-v3/calculations';\n\nconst RepayModal = lazy(() => safeImport(() => import('@snx-v3/RepayModal')));\nconst BorrowModal = lazy(() => safeImport(() => import('@snx-v3/BorrowModal')));\nconst DepositModal = lazy(() => safeImport(() => import('@snx-v3/DepositModal')));\nconst UndelegateModal = lazy(() => safeImport(() => import('@snx-v3/UndelegateModal')));\n\nconst validActions = ['borrow', 'deposit', 'repay', 'undelegate'] as const;\nconst ManageActionSchema = z.enum(validActions);\ntype ManageAction = z.infer<typeof ManageActionSchema>;\n\nconst ActionButton: FC<\n  PropsWithChildren<{\n    onClick: (action: ManageAction) => void;\n    action: ManageAction;\n    activeAction?: string;\n  }>\n> = ({ children, action, activeAction, onClick }) => (\n  <BorderBox\n    as={Button}\n    fontWeight=\"700\"\n    fontSize=\"md\"\n    color=\"gray.50\"\n    bg=\"navy.900\"\n    _hover={{\n      bg: 'unset',\n    }}\n    _active={{\n      bg: 'unset',\n    }}\n    cursor=\"pointer\"\n    data-testid=\"manage action\"\n    data-action={action}\n    data-active={action === activeAction ? 'true' : undefined}\n    onClick={() => onClick(action)}\n    py={2}\n    width=\"50%\"\n    textAlign=\"center\"\n  >\n    {children}\n  </BorderBox>\n);\n\nconst Action: FC<{ manageAction: ManageAction; liquidityPosition?: LiquidityPosition }> = ({\n  manageAction,\n  liquidityPosition,\n}) => {\n  switch (manageAction) {\n    case 'borrow':\n      return <Borrow liquidityPosition={liquidityPosition} />;\n    case 'deposit':\n      return <Deposit liquidityPosition={liquidityPosition} />;\n    case 'repay':\n      return <Repay liquidityPosition={liquidityPosition} />;\n    case 'undelegate':\n      return <Undelegate liquidityPosition={liquidityPosition} />;\n\n    default:\n      return null;\n  }\n};\n\nconst ManageActionUi: FC<{\n  setActiveAction: (action: ManageAction) => void;\n  manageAction?: ManageAction;\n  onSubmit: (e: FormEvent) => void;\n  liquidityPosition?: LiquidityPosition;\n}> = ({ setActiveAction, manageAction, onSubmit, liquidityPosition }) => {\n  return (\n    <Box as=\"form\" onSubmit={onSubmit}>\n      <Flex mt={2} gap={2}>\n        <ActionButton onClick={setActiveAction} action=\"deposit\" activeAction={manageAction}>\n          <ArrowDownIcon w=\"15px\" h=\"15px\" mr={1} /> Add Collateral\n        </ActionButton>\n        <ActionButton onClick={setActiveAction} action=\"repay\" activeAction={manageAction}>\n          <DollarCircle mr={1} /> Repay snxUSD\n        </ActionButton>\n      </Flex>\n      <Flex mt={2} gap={2}>\n        <ActionButton onClick={setActiveAction} action=\"undelegate\" activeAction={manageAction}>\n          <ArrowUpIcon w=\"15px\" h=\"15px\" mr={1} /> Remove Collateral\n        </ActionButton>\n        <ActionButton onClick={setActiveAction} action=\"borrow\" activeAction={manageAction}>\n          <BorrowIcon mr={1} /> Borrow snxUSD\n        </ActionButton>\n      </Flex>\n      {manageAction ? (\n        <Flex direction=\"column\" mt={6}>\n          <Action manageAction={manageAction} liquidityPosition={liquidityPosition} />\n        </Flex>\n      ) : null}\n    </Box>\n  );\n};\n\nexport const ManageAction = ({ liquidityPosition }: { liquidityPosition?: LiquidityPosition }) => {\n  const params = useParams();\n\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  const [txnModalOpen, setTxnModalOpen] = useState<ManageAction | null>(null);\n  const { debtChange, collateralChange, setCollateralChange, setDebtChange } =\n    useContext(ManagePositionContext);\n\n  const { data: collateralType } = useCollateralType(params.collateralSymbol);\n\n  const { isValid } = validatePosition({\n    issuanceRatioD18: collateralType?.issuanceRatioD18,\n    collateralAmount: liquidityPosition?.collateralAmount,\n    collateralPrice: liquidityPosition?.collateralPrice,\n    debt: liquidityPosition?.debt,\n    collateralChange,\n    debtChange,\n  });\n\n  const parsedActionParam = ManageActionSchema.safeParse(params.manageAction);\n  const parsedAction = parsedActionParam.success ? parsedActionParam.data : null;\n\n  const onSubmit = useCallback(\n    (e: FormEvent) => {\n      e.preventDefault();\n      const form = e.target as HTMLFormElement;\n      if (!form.reportValidity() || !isValid) {\n        return;\n      }\n      setTxnModalOpen(parsedAction);\n    },\n    [isValid, parsedAction]\n  );\n\n  useEffect(() => {\n    // This is just for initial state, if we have a manage action selected return\n    const queryParams = new URLSearchParams(location.search);\n\n    if (queryParams.get('manageAction')) return;\n    if (!liquidityPosition) return;\n    if (!collateralType) return;\n\n    const cRatio = calculateCRatio(liquidityPosition.debt, liquidityPosition.collateralValue);\n    const canBorrow = liquidityPosition.debt.eq(0) || cRatio.gt(collateralType.issuanceRatioD18);\n\n    if (canBorrow) {\n      queryParams.set('manageAction', 'borrow');\n      navigate({ pathname: location.pathname, search: queryParams.toString() }, { replace: true });\n      return;\n    }\n\n    const cRatioIsCloseToLiqRatio = cRatio.mul(0.9).lt(collateralType.liquidationRatioD18);\n\n    if (cRatioIsCloseToLiqRatio) {\n      queryParams.set('manageAction', 'repay');\n      navigate({ pathname: location.pathname, search: queryParams.toString() }, { replace: true });\n      return;\n    }\n\n    queryParams.set('manageAction', 'deposit');\n    navigate({ pathname: location.pathname, search: queryParams.toString() }, { replace: true });\n  }, [collateralType, liquidityPosition, location.pathname, location.search, navigate]);\n\n  return (\n    <>\n      <ManageActionUi\n        liquidityPosition={liquidityPosition}\n        onSubmit={onSubmit}\n        setActiveAction={(action) => {\n          setCollateralChange(wei(0));\n          setDebtChange(wei(0));\n          const queryParams = new URLSearchParams(location.search);\n          queryParams.set('manageAction', action);\n          navigate(\n            { pathname: location.pathname, search: queryParams.toString() },\n            { replace: true }\n          );\n        }}\n        manageAction={parsedAction || undefined}\n      />\n      <Suspense fallback={null}>\n        {txnModalOpen === 'repay' ? (\n          <RepayModal\n            availableCollateral={liquidityPosition?.usdCollateral.availableCollateral}\n            onClose={() => {\n              setCollateralChange(wei(0));\n              setDebtChange(wei(0));\n              setTxnModalOpen(null);\n            }}\n            isOpen={txnModalOpen === 'repay'}\n          />\n        ) : null}\n        {txnModalOpen === 'borrow' ? (\n          <BorrowModal\n            onClose={() => {\n              setCollateralChange(wei(0));\n              setDebtChange(wei(0));\n              setTxnModalOpen(null);\n            }}\n            isOpen={txnModalOpen === 'borrow'}\n          />\n        ) : null}\n        {txnModalOpen === 'deposit' ? (\n          <DepositModal\n            currentCollateral={liquidityPosition?.collateralAmount ?? wei(0)}\n            collateralChange={collateralChange}\n            onClose={() => {\n              setCollateralChange(wei(0));\n              setDebtChange(wei(0));\n              setTxnModalOpen(null);\n            }}\n            isOpen={txnModalOpen === 'deposit'}\n          />\n        ) : null}\n        {txnModalOpen === 'undelegate' ? (\n          <UndelegateModal\n            liquidityPosition={liquidityPosition}\n            onClose={() => {\n              setCollateralChange(wei(0));\n              setDebtChange(wei(0));\n              setTxnModalOpen(null);\n            }}\n            isOpen={txnModalOpen === 'undelegate'}\n          />\n        ) : null}\n      </Suspense>\n    </>\n  );\n};\n","import { FC, useContext } from 'react';\nimport { Flex, Skeleton, Text, Tooltip } from '@chakra-ui/react';\nimport { BorderBox } from '@snx-v3/BorderBox';\nimport { currency } from '@snx-v3/format';\nimport { LiquidityPosition } from '@snx-v3/useLiquidityPosition';\nimport { CollateralType, useCollateralType } from '@snx-v3/useCollateralTypes';\nimport { useParams } from '@snx-v3/useParams';\nimport { validatePosition } from '@snx-v3/validatePosition';\nimport { ManagePositionContext } from '@snx-v3/ManagePositionContext';\nimport Wei, { wei } from '@synthetixio/wei';\nimport { ArrowForwardIcon, InfoIcon } from '@chakra-ui/icons';\nimport { calculateCRatio } from '@snx-v3/calculations';\n\nconst ChangeStat: FC<{\n  value: Wei;\n  newValue: Wei;\n  hasChanges: boolean;\n  formatFn: (val: Wei) => string;\n}> = ({ formatFn, value, newValue, hasChanges }) => {\n  return (\n    <Flex\n      gap={1}\n      color=\"gray.50\"\n      fontSize=\"2xl\"\n      fontWeight=\"800\"\n      alignItems=\"center\"\n      lineHeight=\"32px\"\n    >\n      <Text>{formatFn(value)}</Text>\n      {hasChanges && !value.eq(newValue) ? (\n        <Text>\n          <ArrowForwardIcon /> {formatFn(newValue)}\n        </Text>\n      ) : null}\n    </Flex>\n  );\n};\n\nexport const ManageStatsUi: FC<{\n  liquidityPosition?: LiquidityPosition;\n  collateralType?: CollateralType;\n  newCratio: Wei;\n  newCollateralAmount: Wei;\n  newDebt: Wei;\n  cRatio: Wei;\n  collateralValue: Wei;\n  hasChanges: boolean;\n}> = ({\n  liquidityPosition,\n  collateralType,\n  collateralValue,\n  cRatio,\n  newCollateralAmount,\n  newCratio,\n  newDebt,\n  hasChanges,\n}) => {\n  // const performanceLast24h = wei(0.25);\n  // const isPositive = performanceLast24h.gte(0);\n  return (\n    <Flex direction=\"column\">\n      <BorderBox py={4} px={6} flexDirection=\"column\" bg=\"navy.700\" mb={4}>\n        <Flex alignItems=\"center\" mb=\"4px\">\n          <Text color=\"gray.500\" fontSize=\"xs\" fontFamily=\"heading\" lineHeight=\"16px\">\n            COLLATERAL\n          </Text>\n          <Tooltip\n            label=\"Your total amount of collateral locked in this pool.\"\n            textAlign=\"start\"\n            py={2}\n            px={3}\n          >\n            <Flex height=\"12px\" width=\"12px\" ml=\"4px\" alignItems=\"center\" justifyContent=\"center\">\n              <InfoIcon color=\"white\" height=\"9px\" width=\"9px\" />\n            </Flex>\n          </Tooltip>\n        </Flex>\n        {liquidityPosition && collateralType ? (\n          <>\n            <Flex\n              justifyContent=\"space-between\"\n              alignItems=\"center\"\n              data-testid=\"manage stats collateral\"\n            >\n              <ChangeStat\n                value={liquidityPosition.collateralAmount}\n                newValue={newCollateralAmount}\n                formatFn={(val: Wei) => `${currency(val)} ${collateralType.displaySymbol}`}\n                hasChanges={hasChanges}\n              />\n              <Text\n                fontWeight=\"400\"\n                color=\"gray.500\"\n                fontSize=\"md\"\n                fontFamily=\"heading\"\n                lineHeight=\"24px\"\n              >\n                {currency(liquidityPosition.collateralValue, {\n                  currency: 'USD',\n                  style: 'currency',\n                })}\n              </Text>\n            </Flex>\n            <Text fontWeight=\"400\" color=\"gray.500\" fontSize=\"xs\">\n              Current Value:{' '}\n              {currency(collateralValue, {\n                currency: 'USD',\n                style: 'currency',\n              })}\n            </Text>\n          </>\n        ) : (\n          <Skeleton width=\"100%\">Lorem ipsum (this wont be displayed) </Skeleton>\n        )}\n      </BorderBox>\n      <BorderBox\n        py={4}\n        px={6}\n        flexDirection=\"row\"\n        bg=\"navy.700\"\n        justifyContent=\"space-between\"\n        mb={4}\n      >\n        <Flex flexDirection=\"column\" justifyContent=\"space-between\" width=\"100%\">\n          <Flex alignItems=\"center\" mb=\"4px\">\n            <Text color=\"gray.500\" fontSize=\"xs\" fontFamily=\"heading\" lineHeight=\"16px\">\n              DEBT\n            </Text>\n            <Tooltip label=\"Your minted debt balance.\" textAlign=\"start\" py={2} px={3}>\n              <Flex height=\"12px\" width=\"12px\" ml=\"4px\" alignItems=\"center\" justifyContent=\"center\">\n                <InfoIcon color=\"white\" height=\"9px\" width=\"9px\" />\n              </Flex>\n            </Tooltip>\n          </Flex>\n          <Flex width=\"100%\" data-testid=\"manage stats debt\">\n            {liquidityPosition && collateralType ? (\n              <ChangeStat\n                // TODO, need a function to burn to target so dust debt not left over\n                value={liquidityPosition.debt.lt(0.01) ? wei(0) : liquidityPosition.debt}\n                newValue={newDebt}\n                formatFn={(val: Wei) =>\n                  currency(val, {\n                    currency: 'USD',\n                    style: 'currency',\n                    maximumFractionDigits: 2,\n                  })\n                }\n                hasChanges={hasChanges}\n              />\n            ) : (\n              <Skeleton width=\"100%\">Lorem ipsum (this wont be displaye debt) </Skeleton>\n            )}\n          </Flex>\n        </Flex>\n        {/* TODO: Historical Debt Performance */}\n        {/* <Flex flexDirection=\"column\" alignItems=\"flex-end\" data-testid=\"manage stats collateral\">\n          <Text fontFamily=\"heading\" color=\"gray.50\" fontSize=\"16px\" fontWeight={700}>\n            Performance Last 24h\n          </Text>\n          <Flex>\n            <Text\n              fontWeight=\"800\"\n              color={isPositive ? 'green.500' : 'red.500'}\n              fontSize=\"24px\"\n              fontFamily=\"heading\"\n              lineHeight=\"32px\"\n            >\n              {isPositive ? '+' : ''}\n              {currency(wei(0.23), {\n                currency: 'USD',\n                style: 'currency',\n              })}\n            </Text>\n            <Text\n              fontWeight=\"600\"\n              color={isPositive ? 'green.500' : 'red.500'}\n              fontSize=\"18px\"\n              fontFamily=\"heading\"\n              lineHeight=\"28px\"\n              ml={1}\n            >\n              {isPositive ? '+' : '-'}\n              {currency(wei(0.23), {\n                style: 'percent',\n                minimumFractionDigits: 2,\n                maximumFractionDigits: 2,\n              })}\n            </Text>\n          </Flex>\n        </Flex> */}\n      </BorderBox>\n      <BorderBox py={4} px={6} flexDirection=\"column\" bg=\"navy.700\" my={0} mb={4}>\n        <Text color=\"gray.500\" fontSize=\"xs\" fontFamily=\"heading\" lineHeight=\"16px\" mb=\"4px\">\n          C-RATIO\n        </Text>\n        <Flex\n          justifyContent=\"space-between\"\n          alignItems=\"center\"\n          data-testid=\"manage stats collateral\"\n        >\n          {liquidityPosition && collateralType ? (\n            <>\n              <ChangeStat\n                // TODO, need a function to burn to target so dust debt not left over\n                value={cRatio.lt(0.01) || cRatio.gt(50000) ? wei(0) : cRatio}\n                newValue={newCratio}\n                formatFn={(val: Wei) =>\n                  currency(val, {\n                    style: 'percent',\n                    minimumFractionDigits: 2,\n                    maximumFractionDigits: 2,\n                  })\n                }\n                hasChanges={hasChanges}\n              />\n              <Text\n                fontWeight=\"400\"\n                color=\"gray.500\"\n                fontSize=\"md\"\n                fontFamily=\"heading\"\n                lineHeight=\"24px\"\n              >\n                Minimum{' '}\n                {currency(collateralType.issuanceRatioD18, {\n                  style: 'percent',\n                  minimumFractionDigits: 2,\n                  maximumFractionDigits: 2,\n                })}\n              </Text>\n            </>\n          ) : (\n            <Skeleton width=\"100%\">Lorem ipsum (this wont be displayed) </Skeleton>\n          )}\n        </Flex>\n      </BorderBox>\n    </Flex>\n  );\n};\n\nexport const ManageStats = ({ liquidityPosition }: { liquidityPosition?: LiquidityPosition }) => {\n  const params = useParams();\n  const { debtChange, collateralChange } = useContext(ManagePositionContext);\n\n  const { data: collateralType } = useCollateralType(params.collateralSymbol);\n\n  const collateralValue = liquidityPosition?.collateralValue || wei(0);\n\n  const cRatio = calculateCRatio(liquidityPosition?.debt || wei(0), collateralValue);\n\n  const { newCRatio, newCollateralAmount, newDebt, hasChanges } = validatePosition({\n    issuanceRatioD18: collateralType?.issuanceRatioD18,\n    collateralAmount: liquidityPosition?.collateralAmount,\n    collateralPrice: liquidityPosition?.collateralPrice,\n    debt: liquidityPosition?.debt,\n    collateralChange: collateralChange,\n    debtChange: debtChange,\n  });\n\n  return (\n    <ManageStatsUi\n      hasChanges={hasChanges}\n      newCratio={newCRatio}\n      newDebt={newDebt}\n      newCollateralAmount={newCollateralAmount}\n      liquidityPosition={liquidityPosition}\n      collateralType={collateralType}\n      cRatio={cRatio}\n      collateralValue={collateralValue}\n    />\n  );\n};\n","import { Link as ReactRouterLink, useLocation } from 'react-router-dom';\nimport { Link } from '@chakra-ui/react';\nimport { ArrowBackIcon } from '@chakra-ui/icons';\n\nexport const HomeLink = () => {\n  const location = useLocation();\n  return (\n    <Link\n      width=\"fit-content\"\n      display=\"flex\"\n      alignItems=\"center\"\n      color=\"cyan.500\"\n      as={ReactRouterLink}\n      to={{\n        pathname: '/',\n        search: location.search,\n      }}\n      fontSize=\"sm\"\n      fontWeight={700}\n      mb={2}\n    >\n      <ArrowBackIcon mr={1} /> Home\n    </Link>\n  );\n};\n","export function etherscanLink({ chain, address }: { chain: string; address: string }): string {\n  switch (chain) {\n    case 'goerli':\n      return `https://goerli.etherscan.io/address/${address}`;\n    case 'sepolia':\n      return `https://sepolia.etherscan.io/address/${address}`;\n    case 'optimism-goerli':\n      return `https://goerli-optimism.etherscan.io/address/${address}`;\n    case 'optimism':\n      return `https://optimistic.etherscan.io/address/${address}`;\n    case 'base':\n      return `https://basescan.org/tx/${address}`;\n    case 'base-goerli':\n      return `https://goerli.basescan.org/tx/${address}`;\n\n    case 'mainnet':\n    default:\n      return `https://etherscan.io/address/${address}`;\n  }\n}\n","import { CheckIcon, CloseIcon } from '@chakra-ui/icons';\nimport {\n  ModalContent,\n  ModalBody,\n  ModalHeader,\n  Modal,\n  Text,\n  Flex,\n  ModalOverlay,\n  CircularProgress,\n  Link,\n  Button,\n} from '@chakra-ui/react';\nimport { useEffect, useState } from 'react';\nimport { etherscanLink } from '@snx-v3/etherscanLink';\nimport { useNetwork } from '@snx-v3/useBlockchain';\n\ninterface RewardsModalInterface {\n  collateralSymbol?: string;\n  amount?: number;\n  txnStatus?: string;\n  txnHash: string | null;\n}\n\nexport const RewardsModal = ({\n  collateralSymbol,\n  amount,\n  txnStatus,\n  txnHash,\n}: RewardsModalInterface) => {\n  const [isOpen, setIsOpen] = useState(false);\n\n  const currentNetwork = useNetwork();\n\n  useEffect(() => {\n    if (txnStatus === 'prompting') {\n      setIsOpen(true);\n    }\n    if (txnStatus === 'error') {\n      setIsOpen(false);\n    }\n    if (txnStatus === 'success') {\n      setTimeout(() => {\n        setIsOpen(false);\n      }, 1200);\n    }\n  }, [txnStatus]);\n\n  return (\n    <Modal isOpen={isOpen} onClose={() => setIsOpen(false)}>\n      <ModalOverlay bg=\"#06061B80\" />\n      <ModalContent\n        bg=\"navy.700\"\n        mt=\"10%\"\n        borderWidth=\"1px\"\n        borderColor=\"gray.900\"\n        minWidth=\"384px\"\n      >\n        <ModalBody p={4}>\n          <Flex\n            onClick={() => setIsOpen(false)}\n            justifyContent=\"flex-end\"\n            border=\"none\"\n            boxShadow=\"none\"\n            _focus={{ outline: 'none' }}\n          >\n            <CloseIcon _hover={{ cursor: 'pointer' }} />\n          </Flex>\n          <ModalHeader\n            pl={0}\n            py={1}\n            color=\"whiteAlpha.900\"\n            fontSize=\"20px\"\n            fontWeight={700}\n            lineHeight=\"120%\"\n            textAlign=\"left\"\n          >\n            Transaction Pending\n          </ModalHeader>\n          <Text\n            p={3}\n            pl={0}\n            color=\"gray.600\"\n            fontFamily=\"heading\"\n            fontSize=\"12px\"\n            lineHeight=\"150%\"\n            mb={2}\n          >\n            Follow the Metamask prompts to execute the following transactions.\n          </Text>\n          <Flex\n            px={3}\n            py={3}\n            borderRadius=\"5px\"\n            border=\"1px solid\"\n            borderColor={txnStatus === 'success' ? 'green.500' : 'gray.900'}\n          >\n            <Flex\n              justifyContent=\"center\"\n              alignItems=\"center\"\n              borderRadius=\"100px\"\n              bg={txnStatus === 'success' ? 'green.600' : 'gray.900'}\n              width=\"40px\"\n              height=\"40px\"\n              p={3}\n            >\n              {txnStatus === 'success' ? (\n                <CheckIcon color=\"white\" />\n              ) : (\n                <CircularProgress size=\"25px\" isIndeterminate color=\"gray.700\" />\n              )}\n            </Flex>\n            <Flex\n              flexDirection=\"column\"\n              alignItems=\"space-between\"\n              justifyContent=\"space-between\"\n              ml={2}\n            >\n              <Text fontSize=\"14px\" fontWeight={700} lineHeight=\"20px\" color=\"white\">\n                Claiming {amount ? amount : ''} {collateralSymbol ? collateralSymbol : ''}\n              </Text>\n              <Text fontSize=\"12px\" lineHeight=\"16px\" color=\"gray.500\">\n                Claim your rewards\n              </Text>\n            </Flex>\n          </Flex>\n          {txnStatus === 'success' && (\n            <Button\n              mt={5}\n              variant=\"solid\"\n              justifyContent=\"center\"\n              px={3}\n              py={3}\n              width=\"100%\"\n              textAlign=\"center\"\n            >\n              Done\n            </Button>\n          )}\n          {txnHash && (\n            <Flex\n              justifyContent=\"center\"\n              px={3}\n              py={3}\n              mt={6}\n              mb={1}\n              borderTop=\"1px solid\"\n              borderTopColor=\"gray.900\"\n            >\n              <Link\n                variant=\"outline\"\n                href={etherscanLink({ chain: currentNetwork.name, address: txnHash })}\n                fontFamily=\"heading\"\n                color=\"cyan.500\"\n                fontWeight={700}\n                lineHeight=\"20px\"\n                fontSize=\"14px\"\n                target=\"_blank\"\n                mt={3}\n              >\n                View Transaction\n              </Link>\n            </Flex>\n          )}\n        </ModalBody>\n      </ModalContent>\n    </Modal>\n  );\n};\n","export const truncateAddress = (address: string, first = 5, last = 5) => {\n  if (address.length <= first + last) {\n    return address;\n  }\n  return `${address.slice(0, first)}...${address.slice(-last)}`;\n};\n\nexport const parseFloatWithCommas = (numberWithCommas: string) =>\n  parseFloat(numberWithCommas.replaceAll(',', ''));\n","import { Flex, Td, Text, Button, Fade, Tr, Tooltip } from '@chakra-ui/react';\nimport { CollateralIcon } from '@snx-v3/icons';\nimport { useClaimRewards } from '@snx-v3/useClaimRewards';\nimport { useCollateralType } from '@snx-v3/useCollateralTypes';\nimport { useParams } from '@snx-v3/useParams';\nimport { RewardsModal } from './RewardsModal';\nimport { truncateAddress, convertSecondsToDisplayString } from '@snx-v3/formatters';\n\ninterface RewardsRowInterface {\n  symbol: string;\n  projectedAmount: number; // The amount per frequency period\n  frequency: number;\n  claimableAmount: number; // The immediate amount claimable as read from the contracts\n  lifetimeClaimed: number;\n  hasClaimed: boolean;\n  address: string;\n  readOnly: boolean;\n  total: number;\n}\n\nexport const RewardsRow = ({\n  symbol,\n  projectedAmount,\n  frequency,\n  claimableAmount,\n  lifetimeClaimed,\n  hasClaimed,\n  address,\n  readOnly,\n  total,\n}: RewardsRowInterface) => {\n  const { accountId, collateralSymbol, poolId } = useParams();\n\n  const { data: collateralData } = useCollateralType(collateralSymbol);\n\n  const { exec, txnState } = useClaimRewards(\n    poolId || '',\n    collateralData?.tokenAddress || '',\n    accountId,\n    address,\n    claimableAmount\n  );\n\n  const onClick = () => {\n    exec();\n  };\n\n  const { txnStatus, txnHash } = txnState;\n\n  const frequencyString = convertSecondsToDisplayString(frequency);\n  const claimButtonLabel = () => {\n    if (claimableAmount > 0) {\n      return 'Claim';\n    }\n    if (!hasClaimed) {\n      return 'Claim';\n    }\n    return 'Claimed';\n  };\n  return (\n    <>\n      <RewardsModal\n        amount={claimableAmount}\n        collateralSymbol={symbol}\n        txnStatus={txnStatus}\n        txnHash={txnHash}\n      />\n      <Tr>\n        <Td display=\"flex\" alignItems=\"center\" px=\"14px\" border=\"none\" w=\"100%\">\n          <Fade in>\n            <CollateralIcon height=\"30px\" width=\"30px\" symbol={symbol} />\n          </Fade>\n          <Fade in>\n            <Flex flexDirection=\"column\" ml=\"12px\">\n              <Tooltip label={`Distributed by ${truncateAddress(address)}`}>\n                <Text\n                  color=\"gray.50\"\n                  fontSize=\"14px\"\n                  fontFamily=\"heading\"\n                  fontWeight={500}\n                  lineHeight=\"20px\"\n                >\n                  {readOnly ? total : projectedAmount}\n                  {` ${symbol}`}\n                </Text>\n              </Tooltip>\n              {frequencyString && (\n                <Text color=\"gray.500\" fontSize=\"12px\" fontFamily=\"heading\" lineHeight=\"16px\">\n                  {frequencyString}\n                </Text>\n              )}\n            </Flex>\n          </Fade>\n        </Td>\n        <Td alignItems=\"center\" px=\"14px\" border=\"none\">\n          <Fade in>\n            <Text\n              color=\"gray.50\"\n              fontSize=\"14px\"\n              fontFamily=\"heading\"\n              fontWeight={500}\n              lineHeight=\"20px\"\n            >\n              {claimableAmount}\n              {` ${symbol}`}\n            </Text>\n            {lifetimeClaimed > 0 ? (\n              <Tooltip label=\"Total claimed over lifetime\">\n                <Text\n                  color=\"gray.500\"\n                  fontSize=\"12px\"\n                  fontFamily=\"heading\"\n                  lineHeight=\"16px\"\n                >{`Lifetime: ${lifetimeClaimed} ${symbol}`}</Text>\n              </Tooltip>\n            ) : null}\n          </Fade>\n        </Td>\n        {!readOnly && (\n          <Td border=\"none\" px=\"0px\">\n            <Fade in>\n              <Button\n                w=\"100%\"\n                size=\"sm\"\n                variant=\"solid\"\n                isDisabled={claimableAmount === 0}\n                _disabled={{\n                  bg: 'gray.900',\n                  backgroundImage: 'none',\n                  color: 'gray.500',\n                  opacity: 0.5,\n                  cursor: 'not-allowed',\n                }}\n                onClick={onClick}\n              >\n                {claimButtonLabel()}\n              </Button>\n            </Fade>\n          </Td>\n        )}\n      </Tr>\n    </>\n  );\n};\n","import { useReducer } from 'react';\nimport { useMutation, useQueryClient } from '@tanstack/react-query';\nimport { BigNumber } from 'ethers';\nimport { useCoreProxy } from '@snx-v3/useCoreProxy';\nimport { initialState, reducer } from '@snx-v3/txnReducer';\n\nexport function useClaimRewards(\n  poolId?: string,\n  collateralAddress?: string,\n  accountId?: string,\n  distributorAddress?: string,\n  amount?: number\n) {\n  const { data: CoreProxy } = useCoreProxy();\n  const [txnState, dispatch] = useReducer(reducer, initialState);\n  const client = useQueryClient();\n\n  const mutation = useMutation({\n    mutationFn: async function () {\n      try {\n        if (!amount) return;\n        if (!poolId || !collateralAddress || !accountId || !distributorAddress)\n          throw new Error('Parameters Undefined');\n        if (!CoreProxy) throw new Error('CoreProxy undefined');\n\n        dispatch({ type: 'prompting' });\n\n        const tx = await CoreProxy.claimRewards(\n          BigNumber.from(accountId),\n          BigNumber.from(poolId),\n          collateralAddress,\n          distributorAddress\n        );\n\n        dispatch({ type: 'pending', payload: { txnHash: tx.hash } });\n\n        const res = await tx.wait();\n\n        let claimedAmount: BigNumber | undefined;\n\n        res.logs.forEach((log: any) => {\n          if (log.topics[0] === CoreProxy.interface.getEventTopic('RewardsClaimed')) {\n            const { amount } = CoreProxy.interface.decodeEventLog(\n              'RewardsClaimed',\n              log.data,\n              log.topics\n            );\n            claimedAmount = amount;\n          }\n        });\n\n        dispatch({ type: 'success' });\n        client.invalidateQueries(['Rewards']);\n        return claimedAmount;\n      } catch (error) {\n        const err = error as Error;\n        dispatch({ type: 'error', payload: { error: err } });\n\n        return 0;\n      }\n    },\n  });\n\n  return {\n    mutation,\n    txnState,\n    settle: () => dispatch({ type: 'settled' }),\n    isLoading: mutation.isLoading,\n    exec: mutation.mutateAsync,\n  };\n}\n","export function convertSecondsToDisplayString(seconds: number) {\n  const secondsInHour = 3600;\n  const secondsInDay = 86400;\n  const secondsInWeek = 604800;\n  const secondsInMonth = 2592000;\n\n  if (seconds === 0) {\n    return null;\n  } else if (seconds % secondsInMonth === 0) {\n    const months = seconds / secondsInMonth;\n    return months === 1 ? 'every month' : `every ${months} months`;\n  } else if (seconds % secondsInWeek === 0) {\n    const weeks = seconds / secondsInWeek;\n    return weeks === 1 ? 'every week' : `every ${weeks} weeks`;\n  } else if (seconds % secondsInDay === 0) {\n    const days = seconds / secondsInDay;\n    return days === 1 ? 'every day' : `every ${days} days`;\n  } else if (seconds % secondsInHour === 0) {\n    const hours = seconds / secondsInHour;\n    return hours === 1 ? 'every hour' : `every ${hours.toFixed(1)} hours`;\n  } else {\n    const hours = seconds / secondsInHour;\n    return `every ${hours.toFixed(1)} hours`;\n  }\n}\n","import { Tbody, Tr, Td, SkeletonCircle, Skeleton, Text } from '@chakra-ui/react';\n\nexport const RewardsLoading = () => (\n  <Tbody width=\"100%\">\n    <Tr borderBottom=\"1px solid #2D2D38\">\n      <Td pl=\"16px\" border=\"none\">\n        <SkeletonCircle startColor=\"whiteAlpha.500\" endColor=\"whiteAlpha.200\" h=\"30px\" w=\"30px\" />\n      </Td>\n      <Td pl=\"16px\" border=\"none\">\n        <Skeleton startColor=\"whiteAlpha.500\" endColor=\"whiteAlpha.200\" height=\"30px\">\n          <Text mr={4}>Loading</Text>\n        </Skeleton>\n      </Td>\n      <Td textAlign=\"end\" pr=\"0px\" border=\"none\">\n        <Skeleton startColor=\"whiteAlpha.500\" endColor=\"whiteAlpha.200\" height=\"30px\">\n          <Text>Loading</Text>\n        </Skeleton>\n      </Td>\n    </Tr>\n    <Tr borderBottom=\"1px solid #2D2D38\">\n      <Td pl=\"16px\" border=\"none\">\n        <SkeletonCircle startColor=\"whiteAlpha.200\" endColor=\"whiteAlpha.500\" h=\"30px\" w=\"30px\" />\n      </Td>\n      <Td pl=\"16px\" border=\"none\">\n        <Skeleton startColor=\"whiteAlpha.200\" endColor=\"whiteAlpha.500\" height=\"30px\">\n          <Text mr={4}>Loading</Text>\n        </Skeleton>\n      </Td>\n      <Td textAlign=\"end\" pr=\"0px\" border=\"none\">\n        <Skeleton startColor=\"whiteAlpha.200\" endColor=\"whiteAlpha.500\" height=\"30px\">\n          <Text>Loading</Text>\n        </Skeleton>\n      </Td>\n    </Tr>\n    <Tr borderBottom=\"1px solid #2D2D38\">\n      <Td pl=\"16px\" border=\"none\">\n        <SkeletonCircle startColor=\"whiteAlpha.500\" endColor=\"whiteAlpha.200\" h=\"30px\" w=\"30px\" />\n      </Td>\n      <Td pl=\"16px\" border=\"none\">\n        <Skeleton startColor=\"whiteAlpha.500\" endColor=\"whiteAlpha.200\" height=\"30px\">\n          <Text mr={4}>Loading</Text>\n        </Skeleton>\n      </Td>\n      <Td textAlign=\"end\" pr=\"0px\" border=\"none\">\n        <Skeleton startColor=\"whiteAlpha.500\" endColor=\"whiteAlpha.200\" height=\"30px\">\n          <Text>Loading</Text>\n        </Skeleton>\n      </Td>\n    </Tr>\n  </Tbody>\n);\n","import {\n  Table,\n  TableContainer,\n  Tbody,\n  Text,\n  Th,\n  Thead,\n  Tr,\n  Flex,\n  Fade,\n  FlexProps,\n  Tooltip,\n} from '@chakra-ui/react';\nimport { BorderBox } from '@snx-v3/BorderBox';\nimport { RewardsRow } from './RewardsRow';\nimport { RewardsType } from '@snx-v3/useRewards';\nimport { RewardsLoading } from './RewardsLoading';\nimport { InfoIcon } from '@chakra-ui/icons';\n\ninterface RewardsDistributorsInterface extends FlexProps {\n  rewards?: RewardsType;\n  isLoading: boolean;\n  readOnly?: boolean;\n}\n\nexport const Rewards = ({\n  rewards,\n  isLoading,\n  readOnly = false,\n  ...props\n}: RewardsDistributorsInterface) => {\n  const empty = rewards && rewards.length === 0;\n\n  return (\n    <BorderBox bg=\"navy.700\" py={4} px={6} flexDir=\"column\" {...props}>\n      <Text color=\"gray.500\" fontFamily=\"heading\" lineHeight=\"4\" fontSize=\"xs\" mb=\"8px\">\n        REWARDS\n      </Text>\n      <TableContainer width=\"100%\" mb=\"8px\">\n        {empty ? (\n          <Fade in>\n            <Flex mt=\"20px\" mb=\"8px\" justifyContent=\"center\">\n              <Text color=\"gray.500\" fontFamily=\"heading\" lineHeight=\"4\" fontSize=\"xs\">\n                No Rewards Available\n              </Text>\n            </Flex>\n          </Fade>\n        ) : (\n          <Table>\n            <Thead>\n              <Tr borderBottom=\"1px solid #2D2D38\">\n                <Th\n                  textTransform=\"unset\"\n                  color=\"gray.600\"\n                  border=\"none\"\n                  fontFamily=\"heading\"\n                  fontSize=\"12px\"\n                  lineHeight=\"16px\"\n                  letterSpacing={0.6}\n                  fontWeight={700}\n                  px={4}\n                  py={3}\n                >\n                  Estimated Rate\n                  <Tooltip label=\"Estimated rewards based on your position size\">\n                    <InfoIcon ml={1} mb=\"1px\" />\n                  </Tooltip>\n                </Th>\n                <Th\n                  textTransform=\"unset\"\n                  color=\"gray.600\"\n                  border=\"none\"\n                  fontFamily=\"heading\"\n                  fontSize=\"12px\"\n                  lineHeight=\"16px\"\n                  letterSpacing={0.6}\n                  fontWeight={700}\n                  px={4}\n                  py={3}\n                >\n                  Earnings\n                </Th>\n                <Th\n                  textTransform=\"unset\"\n                  color=\"transparent\"\n                  border=\"none\"\n                  fontFamily=\"heading\"\n                  fontSize=\"12px\"\n                  lineHeight=\"16px\"\n                  letterSpacing={0.6}\n                  fontWeight={700}\n                  px={4}\n                  py={3}\n                >\n                  Claim\n                </Th>\n              </Tr>\n            </Thead>\n            {isLoading ? (\n              <RewardsLoading />\n            ) : (\n              <Tbody>\n                {rewards?.map((item) => (\n                  <RewardsRow\n                    key={item.address}\n                    symbol={item.symbol}\n                    claimableAmount={item.claimableAmount.toNumber()}\n                    frequency={item.duration}\n                    projectedAmount={item.rate / item.duration || 0}\n                    lifetimeClaimed={item.lifetimeClaimed}\n                    hasClaimed={item.lifetimeClaimed > 0}\n                    address={item.distributorAddress}\n                    readOnly={readOnly}\n                    total={item.total}\n                  />\n                ))}\n              </Tbody>\n            )}\n          </Table>\n        )}\n      </TableContainer>\n    </BorderBox>\n  );\n};\n","/* eslint-disable no-console */\nimport { useQuery } from '@tanstack/react-query';\nimport { getSubgraphUrl } from '@snx-v3/constants';\nimport { z } from 'zod';\nimport Wei, { wei } from '@synthetixio/wei';\nimport { useNetwork } from '@snx-v3/useBlockchain';\n\nconst GraphBigIntSchema = z.string().transform((src) => wei(src, 18, true));\nconst GraphBigDecimalSchema = z.string().transform((src) => wei(src, 18, true));\n\nconst calculateMarketPnl = (netIssuance: Wei, reportedDebt: Wei) =>\n  reportedDebt.add(netIssuance).mul(-1);\n\nexport const MarketSnapshotByWeekSchema = z\n  .object({\n    id: z.string(),\n    usd_deposited: GraphBigDecimalSchema,\n    usd_withdrawn: GraphBigDecimalSchema,\n    net_issuance: GraphBigDecimalSchema, // withdrawn - deposited\n    reported_debt: GraphBigDecimalSchema,\n    updated_at: z.string(),\n    updates_in_period: z.string(),\n  })\n  .transform((market) => ({\n    ...market,\n    pnl: calculateMarketPnl(market.net_issuance, market.reported_debt),\n  }));\n\nconst MarketSchema = z\n  .object({\n    id: z.string(),\n    address: z.string(),\n    usd_deposited: GraphBigDecimalSchema,\n    usd_withdrawn: GraphBigDecimalSchema,\n    net_issuance: GraphBigDecimalSchema, // withdrawn - deposited\n    reported_debt: GraphBigDecimalSchema,\n    updated_at: z.string(),\n    market_snapshots_by_week: z.array(MarketSnapshotByWeekSchema),\n  })\n  .transform((market) => ({\n    ...market,\n    pnl: calculateMarketPnl(market.net_issuance, market.reported_debt),\n  }));\n\nconst MarketConfigurationSchema = z.object({\n  id: z.string(), //PoolId-MarketId\n  market: MarketSchema,\n  weight: GraphBigIntSchema,\n  max_debt_share_value: GraphBigDecimalSchema,\n});\n\nconst RewardDistributorSchema = z.object({\n  id: z.string(),\n  total_distributed: z.string(),\n  rewards_distributions: z\n    .array(\n      z.object({\n        amount: z.string(),\n        duration: z.string(),\n      })\n    )\n    .default([]),\n});\n\nexport const PoolSchema = z.object({\n  id: z.string(),\n  name: z.union([z.string(), z.null()]).transform((name) => (name ? name : 'Unnamed Pool')),\n  total_weight: z.union([z.null(), GraphBigIntSchema]),\n  configurations: z.array(MarketConfigurationSchema),\n  registered_distributors: z.array(RewardDistributorSchema).default([]),\n});\n\nexport type PoolType = z.infer<typeof PoolSchema>;\n\nconst PoolDataResultSchema = z.object({\n  data: z.object({\n    pool: z.union([PoolSchema, z.null()]),\n  }),\n});\n\nconst gql = (data: TemplateStringsArray) => data[0];\n\nconst PoolsDataDocument = gql`\n  query pool($id: String) {\n    pool(id: $id) {\n      id\n      name\n      registered_distributors(where: { isActive: true }) {\n        id\n        total_distributed\n        rewards_distributions(orderBy: duration, orderDirection: desc) {\n          amount\n          duration\n        }\n      }\n      total_weight\n      configurations {\n        id\n        weight\n        max_debt_share_value\n        market {\n          id\n          address\n          usd_deposited\n          usd_withdrawn\n          net_issuance\n          reported_debt\n          updated_at\n          market_snapshots_by_week(first: 2, orderBy: updated_at, orderDirection: desc) {\n            id\n            usd_deposited\n            usd_withdrawn\n            net_issuance\n            reported_debt\n            updated_at\n            updates_in_period\n          }\n        }\n      }\n    }\n  }\n`;\n\nexport const logMarket = (market: z.infer<typeof MarketSchema>) => {\n  console.log('Market:');\n  console.table({\n    market: market.id,\n    usd_deposited: market.usd_deposited.toNumber(),\n    usd_withdrawn: market.usd_withdrawn.toNumber(),\n    net_issuance: market.net_issuance.toNumber(),\n    reported_debt: market.reported_debt.toNumber(),\n    pnl: market.pnl.toNumber(),\n    updated_at: new Date(Number(market.updated_at) * 1000),\n  });\n  console.log('Snapshots:');\n  console.table(\n    market.market_snapshots_by_week.map((s) => ({\n      ...s,\n      pnl: s.pnl.toNumber(),\n      usd_deposited: s.usd_deposited.toNumber(),\n      usd_withdrawn: s.usd_withdrawn.toNumber(),\n      net_issuance: s.net_issuance.toNumber(),\n      reported_debt: s.reported_debt.toNumber(),\n      updated_at: new Date(Number(s.updated_at) * 1000),\n    }))\n  );\n};\n\nconst getPoolData = async (chainName: string, id: string) => {\n  const res = await fetch(getSubgraphUrl(chainName), {\n    method: 'POST',\n    body: JSON.stringify({ query: PoolsDataDocument, variables: { id } }),\n  });\n\n  const json = await res.json();\n\n  if (json.errors) {\n    const { message } = json.errors[0];\n    throw new Error(message);\n  }\n  return PoolDataResultSchema.parse(json);\n};\n\nexport const usePoolData = (poolId?: string) => {\n  const network = useNetwork();\n\n  return useQuery({\n    queryKey: [`${network.id}-${network.preset}`, 'Pool', { pool: poolId }],\n    queryFn: async () => {\n      if (!poolId) throw Error('OMG!');\n      const poolData = await getPoolData(network.name, poolId);\n      if (!poolData.data.pool) {\n        throw Error(`Pool ${poolId} not found`);\n      }\n      return poolData.data.pool;\n    },\n    enabled: Boolean(poolId && parseInt(poolId) > 0),\n  });\n};\n","import { useMulticall3 } from '@snx-v3/useMulticall3';\nimport { useQuery } from '@tanstack/react-query';\nimport { utils, BigNumber } from 'ethers';\nimport { Wei, wei } from '@synthetixio/wei';\nimport { useCoreProxy } from '@snx-v3/useCoreProxy';\nimport { z } from 'zod';\nimport { getSubgraphUrl } from '@snx-v3/constants';\nimport { useNetwork } from '@snx-v3/useBlockchain';\nimport { importRewardDistributor } from '@synthetixio/v3-contracts';\n\nconst RewardsResponseSchema = z.array(\n  z.object({\n    address: z.string(),\n    name: z.string(),\n    symbol: z.string(),\n    claimableAmount: z.instanceof(Wei),\n    distributorAddress: z.string(),\n    rate: z.number(),\n    duration: z.number(),\n    lifetimeClaimed: z.number(),\n    total: z.number(),\n    decimals: z.number(),\n  })\n);\n\ntype RewardsResponseArray = typeof RewardsResponseSchema._type;\n\nexport type RewardsType = z.infer<typeof RewardsResponseSchema>;\n\ntype RewardsInterface = {\n  id: string;\n  total_distributed: string;\n  rewards_distributions: {\n    amount: string;\n    duration: string;\n  }[];\n}[];\n\nconst erc20Abi = [\n  'function name() view returns (string)',\n  'function symbol() view returns (string)',\n  'function balanceOf(address) view returns (uint256)',\n  'function deposit() payable',\n  'function decimals() view returns (uint8)',\n];\n\nconst RewardsDataDocument = `\n  query RewardsData($accountId: String!, $distributor: String!) {\n    rewardsClaimeds(where: { distributor: $distributor, account: $accountId }) {\n      id\n      amount\n    }\n  }\n`;\n\nexport function useRewards(\n  distributors?: RewardsInterface,\n  poolId?: string,\n  collateralAddress?: string,\n  accountId?: string\n) {\n  const network = useNetwork();\n  const { data: Multicall3 } = useMulticall3();\n  const { data: CoreProxy } = useCoreProxy();\n\n  return useQuery({\n    enabled: Boolean(\n      Multicall3 && CoreProxy && distributors && poolId && collateralAddress && accountId\n    ),\n    queryKey: [\n      `${network.id}-${network.preset}`,\n      'Rewards',\n      { accountId },\n      { collateralAddress },\n      { distributors },\n    ],\n    queryFn: async () => {\n      if (\n        !Multicall3 ||\n        !CoreProxy ||\n        !poolId ||\n        !collateralAddress ||\n        !accountId ||\n        !distributors\n      ) {\n        throw 'useRewards is missing required data';\n      }\n      if (distributors.length === 0) return [];\n\n      const { abi } = await importRewardDistributor(network.id, network.preset);\n\n      const ifaceRD = new utils.Interface(abi);\n      const ifaceERC20 = new utils.Interface(erc20Abi);\n\n      const [{ returnData: distributorReturnData }, ...historicalData] = await Promise.all([\n        await Multicall3.callStatic.aggregate(\n          distributors.flatMap(({ id: address }) => [\n            {\n              target: address,\n              callData: ifaceRD.encodeFunctionData('name', []),\n            },\n            {\n              target: address,\n              callData: ifaceRD.encodeFunctionData('token', []),\n            },\n          ])\n        ),\n        ...distributors.map(async ({ id: address }) => {\n          return await fetch(getSubgraphUrl(network.name), {\n            method: 'POST',\n            body: JSON.stringify({\n              query: RewardsDataDocument,\n              variables: { accountId, distributor: address },\n            }),\n          }).then((res) => res.json());\n        }),\n      ]);\n\n      const distributorResult = distributors.map(\n        ({ id: address, total_distributed, rewards_distributions }, i) => {\n          const name = ifaceRD.decodeFunctionResult(\n            'name',\n            distributorReturnData[i * 2]\n          )[0] as string;\n          const token = ifaceRD.decodeFunctionResult(\n            'token',\n            distributorReturnData[i * 2 + 1]\n          )[0] as string;\n\n          let duration = 0;\n          if (rewards_distributions.length > 0) {\n            duration = parseInt(rewards_distributions[0].duration);\n          }\n\n          const lifetimeClaimed = historicalData[i].data.rewardsClaimeds.reduce(\n            (acc: number, item: { amount: string; id: string }) => {\n              return (acc += parseInt(item.amount));\n            },\n            0\n          );\n\n          return {\n            address,\n            name: name,\n            token: token,\n            duration,\n            total: total_distributed,\n            lifetimeClaimed,\n          };\n        }\n      );\n\n      const { returnData: ercReturnData } = await Multicall3.callStatic.aggregate(\n        distributorResult.flatMap(({ token }) => [\n          {\n            target: token,\n            callData: ifaceERC20.encodeFunctionData('name', []),\n          },\n          {\n            target: token,\n            callData: ifaceERC20.encodeFunctionData('symbol', []),\n          },\n          {\n            target: token,\n            callData: ifaceERC20.encodeFunctionData('decimals', []),\n          },\n        ])\n      );\n\n      const rewardRates = await Promise.all(\n        distributorResult.map(async ({ address }) => {\n          const response = await CoreProxy.callStatic.getRewardRate(\n            BigNumber.from(poolId),\n            collateralAddress,\n            address\n          );\n\n          return response;\n        })\n      );\n\n      const result = distributorResult.map((item, i) => {\n        const name = ifaceERC20.decodeFunctionResult('name', ercReturnData[i * 3])[0] as string;\n        const symbol = ifaceERC20.decodeFunctionResult(\n          'symbol',\n          ercReturnData[i * 3 + 1]\n        )[0] as string;\n        const decimals = ifaceERC20.decodeFunctionResult(\n          'decimals',\n          ercReturnData[i * 3 + 2]\n        )[0] as number;\n\n        const total = parseInt(item.total);\n\n        return {\n          ...item,\n          name,\n          symbol,\n          decimals,\n          // Reward rate is the amount of rewards per second\n          rewardRate: wei(rewardRates[i]),\n          total,\n        };\n      });\n\n      // TODO: Refactor this to use a view function\n      const balances: RewardsResponseArray = [];\n      for (const item of result) {\n        try {\n          const response = await CoreProxy.callStatic.claimRewards(\n            BigNumber.from(accountId),\n            BigNumber.from(poolId),\n            collateralAddress,\n            item.address\n          );\n\n          balances.push({\n            ...item,\n            claimableAmount: wei(response),\n            distributorAddress: item.address,\n            rate: item.rewardRate.toNumber(),\n          });\n        } catch (error) {\n          balances.push({\n            ...item,\n            claimableAmount: wei(0),\n            distributorAddress: item.address,\n            rate: item.rewardRate.toNumber(),\n          });\n        }\n      }\n\n      const sortedBalances = [...balances].sort(\n        (a, b) => b.claimableAmount.toNumber() - a.claimableAmount.toNumber()\n      );\n\n      // TODO: Fix issue with multicall\n      // const calls = distributorResult\n      //   .filter((item) => item.amount.gt(0))\n      //   .map(({ address }) => ({\n      //     target: CoreProxy.address,\n      //     callData: CoreProxy.interface.encodeFunctionData('claimRewards', [\n      //       BigNumber.from(accountId),\n      //       BigNumber.from(poolId),\n      //       collateralAddress,\n      //       address,\n      //     ]),\n      //   }));\n      // const response = await Multicall3.callStatic.aggregate(calls);\n      // const decoded = response.map(\n      //   (bytes: BytesLike) => CoreProxy.interface.decodeFunctionResult('claimRewards', bytes)[0]\n      // );\n\n      return RewardsResponseSchema.parse(sortedBalances);\n    },\n  });\n}\n","// !!! DO NOT EDIT !!! Automatically generated file\n\nimport type { RewardDistributor as RewardDistributor1Main } from './1/RewardDistributor';\nimport type { RewardDistributor as RewardDistributor5Main } from './5/RewardDistributor';\nimport type { RewardDistributor as RewardDistributor10Main } from './10/RewardDistributor';\nimport type { RewardDistributor as RewardDistributor420Main } from './420/RewardDistributor';\nimport type { RewardDistributor as RewardDistributor11155111Main } from './11155111/RewardDistributor';\nimport type { RewardDistributor as RewardDistributor84531Main } from './84531/RewardDistributor';\nimport type { RewardDistributor as RewardDistributor84531Competition } from './84531-competition/RewardDistributor';\n\nexport type RewardDistributorType =\n  | RewardDistributor1Main\n  | RewardDistributor5Main\n  | RewardDistributor10Main\n  | RewardDistributor420Main\n  | RewardDistributor11155111Main\n  | RewardDistributor84531Main\n  | RewardDistributor84531Competition;\n\nexport async function importRewardDistributor(chainId: number, preset: string = 'main') {\n  switch (`${chainId}-${preset}`) {\n    case '1-main':\n      return import('./1/RewardDistributor');\n    case '5-main':\n      return import('./5/RewardDistributor');\n    case '10-main':\n      return import('./10/RewardDistributor');\n    case '420-main':\n      return import('./420/RewardDistributor');\n    case '11155111-main':\n      return import('./11155111/RewardDistributor');\n    case '84531-main':\n      return import('./84531/RewardDistributor');\n    case '84531-competition':\n      return import('./84531-competition/RewardDistributor');\n    default:\n      throw new Error(`Unsupported chain ${chainId} for RewardDistributor`);\n  }\n}\n","import { FC } from 'react';\nimport { Box, Divider, Flex, Heading, Link, Text } from '@chakra-ui/react';\nimport { BorderBox } from '@snx-v3/BorderBox';\nimport { useParams } from '@snx-v3/useParams';\nimport { CollateralType, useCollateralType } from '@snx-v3/useCollateralTypes';\nimport { CollateralIcon } from '@snx-v3/icons';\nimport { ManageAction } from './ManageActions';\nimport { ManagePositionProvider } from '@snx-v3/ManagePositionContext';\nimport { ManageStats } from './ManageStats';\nimport { HomeLink } from '@snx-v3/HomeLink';\nimport { Rewards } from '../../components/Rewards';\nimport { usePoolData } from '@snx-v3/usePoolData';\nimport { useRewards, RewardsType } from '@snx-v3/useRewards';\nimport { WithdrawIncrease } from '@snx-v3/WithdrawIncrease';\nimport { LiquidityPosition, useLiquidityPosition } from '@snx-v3/useLiquidityPosition';\n\nexport const ManageUi: FC<{\n  collateralType?: CollateralType;\n  isLoading: boolean;\n  rewards?: RewardsType;\n  liquidityPosition?: LiquidityPosition;\n}> = ({ collateralType, isLoading, rewards, liquidityPosition }) => {\n  return (\n    <Box mb={12}>\n      <WithdrawIncrease />\n      <Box mb=\"4\">\n        <HomeLink />\n      </Box>\n      <Flex alignItems=\"center\" mb=\"8px\">\n        <Flex\n          bg=\"linear-gradient(180deg, #08021E 0%, #1F0777 100%)\"\n          height=\"34px\"\n          width=\"34px\"\n          justifyContent=\"center\"\n          alignItems=\"center\"\n          borderRadius=\"100%\"\n        >\n          <CollateralIcon\n            symbol={collateralType?.symbol}\n            width=\"28px\"\n            height=\"28px\"\n            fill=\"#0B0B22\"\n            color=\"#00D1FF\"\n          />\n        </Flex>\n        <Heading\n          ml={4}\n          fontWeight={700}\n          fontSize=\"3xl\"\n          color=\"gray.50\"\n          display=\"flex\"\n          alignItems=\"center\"\n        >\n          {collateralType?.symbol} Liquidity Position\n        </Heading>\n      </Flex>\n      <Text color=\"gray.500\" fontFamily=\"heading\" fontSize=\"14px\" lineHeight=\"20px\" width=\"80%\">\n        Deposit your collateral to borrow snxUSD and contribute to the network collateral. If\n        you&apos;ve never staked on Synthetix V3 before, please read through this{' '}\n        <Link\n          fontWeight=\"600\"\n          color=\"cyan.500\"\n          href=\"https://docs.synthetix.io/v/v3/for-liquidity-providers/delegating-collateral\"\n          target=\"_blank\"\n        >\n          quick introduction\n        </Link>{' '}\n        first.\n      </Text>\n      <Divider mt=\"31px\" mb=\"24px\" color=\"gray.900\" />\n      <Flex gap={4}>\n        <BorderBox p={6} flexDirection=\"column\" bg=\"navy.700\" height=\"fit-content\">\n          <Text fontWeight=\"700\" fontSize=\"xl\" color=\"gray.50\" mb=\"1\" fontFamily=\"heading\">\n            Manage C-Ratio\n          </Text>\n          <Text color=\"gray.400\" fontSize=\"sm\" mb=\"2\">\n            The Collateralization Ratio (C-Ratio) is calculated by dividing the value of the\n            positions collateral by the value of the positions debt.{' '}\n            <Text as=\"span\" fontWeight=\"700\" display=\"inline\" color=\"white\">\n              This position will be liquidated if the C-Ratio drops below the Liquidation C-Ratio.\n            </Text>\n          </Text>\n          <ManageAction liquidityPosition={liquidityPosition} />\n        </BorderBox>\n        <Box minW=\"450px\">\n          <ManageStats liquidityPosition={liquidityPosition} />\n          <Rewards isLoading={isLoading} rewards={rewards} />\n        </Box>\n      </Flex>\n    </Box>\n  );\n};\n\nexport const Manage = () => {\n  const { accountId, collateralSymbol, poolId } = useParams();\n\n  const { isLoading: isCollateralLoading, data: collateralType } =\n    useCollateralType(collateralSymbol);\n\n  const { isLoading: isPoolGraphDataLoading, data: poolData } = usePoolData(poolId);\n\n  const { isLoading: isRewardsLoading, data: rewardsData } = useRewards(\n    poolData?.registered_distributors,\n    poolId,\n    collateralType?.tokenAddress,\n    accountId\n  );\n\n  const { data: liquidityPosition } = useLiquidityPosition({\n    tokenAddress: collateralType?.tokenAddress,\n    accountId,\n    poolId,\n  });\n\n  const isLoading = isRewardsLoading || isCollateralLoading || isPoolGraphDataLoading;\n\n  return (\n    <ManagePositionProvider>\n      <ManageUi\n        isLoading={isLoading}\n        collateralType={collateralType}\n        rewards={rewardsData}\n        liquidityPosition={liquidityPosition}\n      />\n    </ManagePositionProvider>\n  );\n};\n","import { ChevronDownIcon } from '@chakra-ui/icons';\nimport { Flex, Menu, MenuButton, MenuItem, MenuList, Text } from '@chakra-ui/react';\nimport { CollateralType, useCollateralType, useCollateralTypes } from '@snx-v3/useCollateralTypes';\nimport { CollateralIcon } from '@snx-v3/icons';\nimport { FC } from 'react';\n\nexport const CollateralTypeSelectorUI: FC<{\n  collateralTypes: CollateralType[];\n  collateralType?: CollateralType;\n  onChange: (collateralSymbol: string) => void;\n}> = ({ collateralTypes, collateralType, onChange }) => {\n  return (\n    <Menu>\n      <MenuButton minHeight=\"48px\" alignItems=\"center\" cursor=\"pointer\" type=\"button\">\n        <Flex>\n          {collateralType ? (\n            <>\n              <CollateralIcon\n                fill=\"#0B0B22\"\n                color=\"#00D1FF\"\n                symbol={collateralType.symbol}\n                width=\"24px\"\n                height=\"24px\"\n              />\n              <Text fontWeight=\"600\" mx=\"2\">\n                {collateralType.displaySymbol}\n              </Text>\n            </>\n          ) : null}\n          <ChevronDownIcon opacity=\"0.66\" w=\"6\" h=\"6\" ml=\"auto\" mr=\"2\" />\n        </Flex>\n      </MenuButton>\n      <MenuList p={1} minW=\"0\" w=\"125px\" bg=\"black\" border=\"1px solid rgba(255,255,255,0.33)\">\n        {collateralTypes.map((collateral) => (\n          <MenuItem\n            key={collateral.symbol}\n            alignItems=\"left\"\n            py={2}\n            borderRadius=\"sm\"\n            flexDirection=\"column\"\n            _hover={{ bg: 'gray.800' }}\n            _focus={{ bg: 'gray.800' }}\n            _active={{ bg: 'gray.800' }}\n            onClick={() => onChange(collateral.symbol)}\n          >\n            <Flex flexDirection=\"row\">\n              <CollateralIcon\n                fill=\"#0B0B22\"\n                color=\"#00D1FF\"\n                symbol={collateral.symbol}\n                width=\"24px\"\n                height=\"24px\"\n              />\n              <Text ml=\"2\" fontWeight=\"600\">\n                {collateral?.displaySymbol}\n              </Text>\n            </Flex>\n          </MenuItem>\n        ))}\n      </MenuList>\n    </Menu>\n  );\n};\n\nexport type CollateralTypeSelectorProps = FC<{\n  collateralSymbol?: string;\n  onChange: (collateralSymbol: string) => void;\n}>;\n\nexport const CollateralTypeSelector: CollateralTypeSelectorProps = ({\n  collateralSymbol,\n  onChange,\n}) => {\n  const { data: collateralTypes = [] } = useCollateralTypes();\n  const { data: collateralType } = useCollateralType(collateralSymbol);\n\n  return (\n    <CollateralTypeSelectorUI\n      onChange={onChange}\n      collateralType={collateralType}\n      collateralTypes={collateralTypes}\n    />\n  );\n};\n","import {\n  Alert,\n  AlertDescription,\n  AlertIcon,\n  Box,\n  Button,\n  Collapse,\n  Flex,\n  Link,\n  Text,\n} from '@chakra-ui/react';\nimport { CollateralType, useCollateralType } from '@snx-v3/useCollateralTypes';\nimport { onboard, useIsConnected } from '@snx-v3/useBlockchain';\nimport { useEthBalance } from '@snx-v3/useEthBalance';\nimport {\n  CollateralTypeSelector,\n  CollateralTypeSelectorProps,\n} from '@snx-v3/CollateralTypeSelector';\nimport { FormEvent, useCallback, useMemo, useRef, useState } from 'react';\nimport { generatePath, NavigateFunction, useLocation, useNavigate } from 'react-router-dom';\nimport { Wei, wei } from '@synthetixio/wei';\nimport { PercentBadges } from '@snx-v3/PercentBadges';\nimport { Amount } from '@snx-v3/Amount';\nimport { useParams } from '@snx-v3/useParams';\nimport { DepositModal, DepositModalProps } from '@snx-v3/DepositModal';\nimport { CollateralIcon } from '@snx-v3/icons';\nimport { NumberInput } from '@snx-v3/NumberInput';\nimport { AccountCollateralType, useAccountSpecificCollateral } from '@snx-v3/useAccountCollateral';\nimport { useTransferableSynthetix } from '@snx-v3/useTransferableSynthetix';\nimport { CollateralAlert } from '../../CollateralAlert';\nimport { useTokenBalance } from '@snx-v3/useTokenBalance';\n\nexport function DepositFormUi({\n  collateralType,\n  accountCollateral,\n  ethBalance,\n  snxBalance,\n  isConnected,\n  openConnectModal,\n  staticCollateral,\n  poolId,\n  navigate,\n  DepositModal,\n  CollateralTypeSelector,\n  tokenBalance,\n}: {\n  accountCollateral?: AccountCollateralType;\n  staticCollateral?: boolean;\n  openConnectModal: (() => void) | undefined;\n  isConnected: boolean;\n  collateralType?: CollateralType;\n  snxBalance?: {\n    transferable: Wei;\n    collateral?: Wei;\n  };\n  ethBalance?: Wei;\n  poolId?: string;\n  navigate: NavigateFunction;\n  DepositModal: DepositModalProps;\n  CollateralTypeSelector: CollateralTypeSelectorProps;\n  tokenBalance?: Wei;\n}) {\n  const inputRef = useRef<HTMLInputElement | null>(null);\n  const [inputAmount, setInputAmount] = useState(wei(0));\n  const [amount, setAmount] = useState(wei(0));\n  const [activeBadge, setActiveBadge] = useState(0);\n  const location = useLocation();\n\n  const combinedTokenBalance = useMemo(() => {\n    if (collateralType?.symbol === 'SNX') {\n      return snxBalance?.transferable;\n    }\n    if (collateralType?.symbol !== 'WETH') {\n      return tokenBalance;\n    }\n    if (!tokenBalance || !ethBalance) {\n      return undefined;\n    }\n    return tokenBalance.add(ethBalance);\n  }, [collateralType?.symbol, tokenBalance, ethBalance, snxBalance?.transferable]);\n\n  const [isOpenDeposit, setIsOpenDeposit] = useState(false);\n\n  const onSubmit = useCallback(\n    async (e: FormEvent) => {\n      e.preventDefault();\n      const form = e.target as HTMLFormElement;\n      if (!form.reportValidity()) {\n        return;\n      }\n      setAmount(wei(inputAmount));\n      setIsOpenDeposit(true);\n    },\n    [inputAmount]\n  );\n\n  const onChangeCollateral = useCallback(\n    (collateralSymbol: string) => {\n      if (!poolId) {\n        return;\n      }\n      if (`${collateralType?.symbol}`.toLowerCase() === `${collateralSymbol}`.toLowerCase()) {\n        return;\n      }\n      setActiveBadge(0);\n      setAmount(wei(0));\n      setInputAmount(wei(0));\n      inputRef.current?.focus();\n      navigate({\n        pathname: generatePath('/deposit/:collateralSymbol/:poolId', {\n          poolId: poolId,\n          collateralSymbol,\n        }),\n        search: location.search,\n      });\n    },\n    [location.search, navigate, collateralType?.symbol, poolId]\n  );\n\n  if (!isConnected && openConnectModal) {\n    return (\n      <Flex flexGrow={1} alignItems=\"flex-end\">\n        <Button width=\"100%\" size=\"md\" px=\"8\" onClick={openConnectModal}>\n          Connect Wallet\n        </Button>\n      </Flex>\n    );\n  }\n\n  if (!poolId || !collateralType) {\n    return null;\n  }\n\n  return (\n    <>\n      <Box as=\"form\" bg=\"navy.900\" mb=\"8\" onSubmit={onSubmit}>\n        <Box borderWidth=\"1px\" borderColor=\"gray.900\" borderRadius=\"base\" p={2}>\n          <Flex justifyContent=\"space-between\">\n            <Flex alignItems=\"center\">\n              {staticCollateral ? (\n                <>\n                  <CollateralIcon\n                    fill=\"#0B0B22\"\n                    color=\"#00D1FF\"\n                    symbol={collateralType.symbol}\n                    width=\"24px\"\n                    height=\"24px\"\n                  />\n                  <Text fontWeight=\"600\" mx=\"2\">\n                    {collateralType.displaySymbol}\n                  </Text>\n                </>\n              ) : (\n                <CollateralTypeSelector\n                  collateralSymbol={collateralType.symbol}\n                  onChange={onChangeCollateral}\n                />\n              )}\n            </Flex>\n            <Flex flexDirection=\"column\" justifyContent=\"flex-end\" flexGrow={1}>\n              <NumberInput\n                value={inputAmount}\n                onChange={(value) => {\n                  setActiveBadge(0);\n                  setInputAmount(value);\n                }}\n                InputProps={{\n                  'data-testid': 'deposit amount input',\n                }}\n                min={collateralType.minDelegationD18}\n                max={combinedTokenBalance}\n              />\n              <Flex\n                flexDirection=\"column\"\n                alignItems=\"flex-end\"\n                fontSize=\"xs\"\n                color=\"whiteAlpha.700\"\n              >\n                {accountCollateral && accountCollateral?.availableCollateral.gt(0) ? (\n                  <Link onClick={() => setInputAmount(accountCollateral?.availableCollateral)}>\n                    <Amount\n                      prefix={`Available ${collateralType.symbol} Collateral: `}\n                      value={accountCollateral?.availableCollateral}\n                    />\n                  </Link>\n                ) : null}\n                <Link\n                  onClick={() => {\n                    if (!tokenBalance || !snxBalance) {\n                      return;\n                    }\n                    const max =\n                      collateralType.symbol === 'SNX' ? snxBalance.transferable : tokenBalance;\n\n                    setInputAmount(max);\n                  }}\n                >\n                  <Amount\n                    prefix={`${collateralType.symbol} Wallet Balance: `}\n                    value={\n                      collateralType.symbol === 'SNX' ? snxBalance?.transferable : tokenBalance\n                    }\n                  />\n                </Link>\n                {collateralType?.symbol === 'WETH' ? (\n                  <Flex\n                    gap=\"1\"\n                    cursor=\"pointer\"\n                    onClick={() => {\n                      if (!ethBalance) {\n                        return;\n                      }\n                      setInputAmount(ethBalance);\n                    }}\n                  >\n                    <Text>ETH Wallet Balance:</Text>\n                    <Amount value={ethBalance} />\n                  </Flex>\n                ) : null}\n              </Flex>\n            </Flex>\n          </Flex>\n\n          <PercentBadges\n            disabled={combinedTokenBalance ? combinedTokenBalance.eq(0) : false}\n            onBadgePress={(badgeNum) => {\n              if (!combinedTokenBalance) {\n                return;\n              }\n              if (activeBadge === badgeNum) {\n                setInputAmount(wei(0));\n                setActiveBadge(0);\n                return;\n              }\n              setActiveBadge(badgeNum);\n              if (badgeNum === 1) {\n                // Make sure we're not left with dust\n                setInputAmount(combinedTokenBalance);\n              } else {\n                setInputAmount(combinedTokenBalance.mul(badgeNum));\n              }\n            }}\n            activeBadge={activeBadge}\n          />\n          <Collapse\n            in={inputAmount.gt(0) && inputAmount.lt(collateralType.minDelegationD18)}\n            animateOpacity\n          >\n            <Alert mt={2} status=\"info\">\n              <AlertIcon />\n              <AlertDescription>\n                You need to deposit{' '}\n                <Amount\n                  value={collateralType.minDelegationD18}\n                  suffix={` ${collateralType.symbol}`}\n                />{' '}\n                minimum\n              </AlertDescription>\n            </Alert>\n          </Collapse>\n        </Box>\n        <Button mt={4} size=\"md\" px=\"8\" type=\"submit\" w=\"full\" data-testid=\"deposit collateral\">\n          Deposit Collateral\n        </Button>\n      </Box>\n      {snxBalance?.collateral &&\n        snxBalance?.collateral.gt(0) &&\n        collateralType.symbol === 'SNX' && <CollateralAlert tokenBalance={snxBalance.collateral} />}\n      {amount.gt(0) ? (\n        <DepositModal\n          availableCollateral={accountCollateral?.availableCollateral || wei(0)}\n          currentCollateral={wei(0)}\n          collateralChange={amount}\n          isOpen={isOpenDeposit}\n          onClose={() => setIsOpenDeposit(false)}\n        />\n      ) : null}\n    </>\n  );\n}\n\nexport const DepositForm = (props: { staticCollateral?: boolean }) => {\n  const navigate = useNavigate();\n  const isConnected = useIsConnected();\n  const params = useParams();\n  const { data: collateralType } = useCollateralType(params.collateralSymbol);\n\n  const ethBalance = useEthBalance();\n  const transferrable = useTransferableSynthetix();\n  const { data: tokenBalance } = useTokenBalance(collateralType?.tokenAddress);\n  const { data: accountCollateral } = useAccountSpecificCollateral(\n    params.accountId,\n    collateralType?.tokenAddress\n  );\n\n  return (\n    <DepositFormUi\n      staticCollateral={props.staticCollateral}\n      isConnected={isConnected}\n      openConnectModal={() => onboard.connectWallet()}\n      collateralType={collateralType}\n      accountCollateral={accountCollateral}\n      tokenBalance={tokenBalance}\n      snxBalance={transferrable.data}\n      ethBalance={ethBalance.data}\n      poolId={params.poolId}\n      navigate={navigate}\n      DepositModal={DepositModal}\n      CollateralTypeSelector={CollateralTypeSelector}\n    />\n  );\n};\n","import { Text, TextProps } from '@chakra-ui/react';\nimport Wei, { wei } from '@synthetixio/wei';\n\nexport const TrendText = (props: TextProps & { value: Wei | number }) => (\n  <Text color={wei(props.value).gte(0) ? 'success' : 'error'} {...props} />\n);\n","import { Box, Button, Flex, Heading, Skeleton, Text, Tooltip } from '@chakra-ui/react';\nimport { BorderBox } from '@snx-v3/BorderBox';\nimport { FC } from 'react';\nimport { usePoolData } from '@snx-v3/usePoolData';\nimport { calculatePoolPerformanceSevenDays } from '@snx-v3/calculations';\nimport { generatePath, Link, useLocation } from 'react-router-dom';\nimport { Wei } from '@synthetixio/wei';\nimport { useParams } from '@snx-v3/useParams';\nimport { InfoIcon } from '@chakra-ui/icons';\nimport { TrendText } from '@snx-v3/TrendText';\nimport { currency } from '@snx-v3/format';\nimport { usePool } from '@snx-v3/usePools';\n\nconst PoolBoxUi: FC<{\n  poolName?: string;\n  poolId?: string;\n  sevenDaysPoolPerformanceGrowth?: Wei;\n}> = ({ poolName, poolId, sevenDaysPoolPerformanceGrowth }) => {\n  const location = useLocation();\n  return (\n    <BorderBox h=\"100%\" p={4} flexDirection=\"column\">\n      {poolId ? (\n        <Flex justifyContent=\"space-between\">\n          <Flex flexDirection=\"column\">\n            <Heading fontSize=\"xl\">{poolName}</Heading>\n            <Text fontSize=\"sm\" color=\"gray.400\">\n              Pool #{poolId}\n            </Text>\n          </Flex>\n        </Flex>\n      ) : (\n        <Flex justifyContent=\"space-between\">\n          <Box>\n            <Skeleton w={16} height={8} />\n            <Skeleton mt={1} w={8} height={6} />\n          </Box>\n          <Skeleton w={16} height={6} />\n        </Flex>\n      )}\n      {sevenDaysPoolPerformanceGrowth && (\n        <BorderBox mt={4} p={4} flexDirection=\"column\">\n          <Heading fontSize=\"md\" alignItems=\"center\" display=\"flex\">\n            Performance Last 7 Days{' '}\n            <Tooltip label=\"Average growth of all markets in the pool for the last 7 days\">\n              <InfoIcon width=\"12px\" height=\"12px\" ml={1} />\n            </Tooltip>\n          </Heading>\n          <TrendText fontSize=\"2xl\" fontWeight=\"bold\" value={sevenDaysPoolPerformanceGrowth}>\n            {currency(sevenDaysPoolPerformanceGrowth, { style: 'percent' })}\n          </TrendText>\n        </BorderBox>\n      )}\n      {poolId && (\n        <Button\n          as={Link}\n          mt={4}\n          size=\"md\"\n          to={{\n            pathname: generatePath('/pools/:poolId', { poolId: poolId }),\n            search: location.search,\n          }}\n          variant=\"outline\"\n        >\n          See Pool\n        </Button>\n      )}\n    </BorderBox>\n  );\n};\n\nexport const PoolBox = () => {\n  const { poolId } = useParams();\n\n  const { data: poolData } = usePoolData(poolId);\n  const sevenDaysPoolPerformance = calculatePoolPerformanceSevenDays(poolData);\n\n  const { data: pool } = usePool(poolId);\n\n  return (\n    <PoolBoxUi\n      poolName={pool?.name}\n      poolId={pool?.id}\n      sevenDaysPoolPerformanceGrowth={sevenDaysPoolPerformance?.growthPercentage}\n    />\n  );\n};\n","import { Box, Divider, Flex, Heading, Link, Text } from '@chakra-ui/react';\nimport { useParams } from '@snx-v3/useParams';\nimport { FC } from 'react';\nimport { DepositForm } from '../../components/Accounts/Deposit';\nimport { BorderBox } from '@snx-v3/BorderBox';\nimport { useCollateralType } from '@snx-v3/useCollateralTypes';\nimport { PoolBox } from '@snx-v3/PoolBox';\nimport { CollateralIcon } from '@snx-v3/icons';\nimport { HomeLink } from '@snx-v3/HomeLink';\nimport { WithdrawIncrease } from '@snx-v3/WithdrawIncrease';\n\nfunction DepositUi({\n  collateralDisplaySymbol,\n  PoolBox,\n  DepositForm,\n}: {\n  collateralDisplaySymbol?: string;\n  DepositForm: FC;\n  PoolBox: FC;\n}) {\n  return (\n    <Flex height=\"100%\" flexDirection=\"column\">\n      <WithdrawIncrease />\n      <HomeLink />\n      <Flex alignItems=\"flex-end\" flexWrap={{ base: 'wrap', md: 'nowrap' }}>\n        <Box flexGrow={1} mr={12}>\n          <Flex mb={2}>\n            <Flex alignItems=\"center\">\n              <Box\n                mr={2}\n                bg=\"linear-gradient(180deg, #08021E 0%, #1F0777 146.21%)\"\n                p=\"3px\"\n                borderRadius=\"50px\"\n              >\n                <CollateralIcon\n                  width=\"30px\"\n                  height=\"30px\"\n                  symbol={collateralDisplaySymbol || 'SNX'}\n                  fill=\"#0B0B22\"\n                  color=\"#00D1FF\"\n                />\n              </Box>\n              <Heading>{collateralDisplaySymbol} Vault</Heading>\n            </Flex>\n          </Flex>\n          <Text color=\"gray.500\" fontSize=\"sm\">\n            Deposit your collateral to borrow snxUSD and contribute to the network collateral. If\n            you have never staked on Synthetix before, please review{' '}\n            <Link color=\"cyan.500\" href=\"https://docs.synthetix.io/\" target=\"_blank\">\n              the documentation\n            </Link>\n            .\n          </Text>\n        </Box>\n      </Flex>\n      <Divider my={8} bg=\"gray.900\" />\n      <Flex alignItems=\"stretch\" flexWrap={{ base: 'wrap', md: 'nowrap' }} gap={4}>\n        <BorderBox flexGrow={1} p={4} flexDirection=\"column\">\n          <Heading fontSize=\"xl\" color=\"gray.50\">\n            Deposit Collateral\n          </Heading>\n          <Text fontSize=\"sm\" color=\"gray.500\" my={1}>\n            Take an interest-free loan against your collateral. This increases your debt and\n            decreases your C-Ratio.\n          </Text>\n          <Heading mt={4} mb={2} size=\"sm\" color=\"gray.50\">\n            Deposit {collateralDisplaySymbol}\n          </Heading>\n          <DepositForm />\n        </BorderBox>\n        <Box maxW={{ base: 'full', md: '400px' }} width=\"full\">\n          <PoolBox />\n        </Box>\n      </Flex>\n    </Flex>\n  );\n}\n\nexport function Deposit() {\n  const params = useParams();\n\n  const { data: collateralType } = useCollateralType(params.collateralSymbol);\n\n  return (\n    <DepositUi\n      collateralDisplaySymbol={collateralType?.displaySymbol}\n      DepositForm={DepositForm}\n      PoolBox={PoolBox}\n    />\n  );\n}\n","import { Flex, Heading } from '@chakra-ui/react';\nimport { useParams } from '@snx-v3/useParams';\nimport { usePool } from '@snx-v3/usePools';\n\nexport const PoolHeader = () => {\n  const params = useParams();\n  const { data: pool } = usePool(params.poolId);\n\n  return (\n    <Flex gap={2} alignItems=\"flex-end\">\n      <Heading fontWeight={700} fontSize=\"3xl\">\n        {pool ? pool.name : 'Unknown Pool'}\n      </Heading>\n    </Flex>\n  );\n};\n","import { useQuery } from '@tanstack/react-query';\nimport { utils } from 'ethers';\nimport { useMulticall3 } from '@snx-v3/useMulticall3';\nimport { z } from 'zod';\nimport { useNetwork } from '@snx-v3/useBlockchain';\n\nconst MarketNamesSchema = z.array(z.string());\n\nconst marketAbi = ['function name(uint128 marketId) external view returns (string memory)'];\nconst marketInterface = new utils.Interface(marketAbi);\n\nexport const useMarketNamesById = (\n  marketIdsAndAddresses?: { marketId: string; address: string }[]\n) => {\n  const { data: MultiCall3 } = useMulticall3();\n  const network = useNetwork();\n  return useQuery({\n    queryKey: [\n      `${network.id}-${network.preset}`,\n      'MarketNamesById',\n      {\n        markets: marketIdsAndAddresses\n          ? marketIdsAndAddresses.map((market) => market.marketId).sort()\n          : [],\n      },\n    ],\n    queryFn: async () => {\n      if (!marketIdsAndAddresses || !MultiCall3) {\n        throw Error('Query should not be enable when contract or marketIdsAndAddresses missing');\n      }\n      const calls = marketIdsAndAddresses.map((x) => ({\n        target: x.address,\n        callData: marketInterface.encodeFunctionData('name', [x.marketId]),\n      }));\n      const result = await MultiCall3.callStatic.aggregate(calls);\n      const decoded = result.returnData.map(\n        (bytes) => marketInterface.decodeFunctionResult('name', bytes)[0]\n      );\n      return MarketNamesSchema.parse(decoded);\n    },\n    select: (marketNames) =>\n      marketNames.reduce((acc: Record<string, string | undefined>, marketName, index) => {\n        const marketId = marketIdsAndAddresses?.[index].marketId;\n        if (!marketId) return acc;\n        acc[marketId] = marketName;\n        return acc;\n      }, {}),\n    enabled: Boolean(MultiCall3 && marketIdsAndAddresses && marketIdsAndAddresses.length > 0),\n  });\n};\n","import { FC } from 'react';\nimport { InfoOutlineIcon } from '@chakra-ui/icons';\nimport {\n  Flex,\n  Table,\n  TableCellProps,\n  TableContainer,\n  Text,\n  Th,\n  Td,\n  Thead,\n  Tr,\n  Tbody,\n  Tooltip,\n  Skeleton,\n  TextProps,\n} from '@chakra-ui/react';\nimport { logMarket, PoolType, usePoolData } from '@snx-v3/usePoolData';\nimport {\n  calculateSevenDaysPnlGrowth,\n  calculatePoolPerformanceSevenDays,\n  calculatePoolPerformanceLifetime,\n} from '@snx-v3/calculations';\nimport { formatNumberToUsd, formatPercent } from '@snx-v3/formatters';\nimport { useParams } from '@snx-v3/useParams';\nimport { useMarketNamesById } from '@snx-v3/useMarketNamesById';\nimport { TrendText } from '@snx-v3/TrendText';\nimport { BorderBox } from '@snx-v3/BorderBox';\nimport Wei from '@synthetixio/wei';\n\nconst StyledTh: FC<TableCellProps> = (props) => (\n  <Th\n    textTransform=\"none\"\n    sx={{\n      paddingBottom: 1,\n      paddingTop: 4,\n      borderColor: 'gray.900',\n      borderTop: 'none',\n      paddingLeft: 2,\n      paddingRight: 2,\n    }}\n    {...props}\n  />\n);\n\nconst StyledTd: FC<TableCellProps & { isLastItem?: boolean }> = ({ isLastItem, ...props }) => (\n  <Td\n    sx={{\n      borderBottom: isLastItem ? 'none' : '1px',\n      borderBottomColor: 'gray.900',\n      paddingLeft: 2,\n      paddingRight: 2,\n    }}\n    {...props}\n  />\n);\n\nconst LoadingRow = () => (\n  <Tr>\n    <StyledTd>\n      <Skeleton w=\"full\" height={8} />\n    </StyledTd>\n    <StyledTd>\n      <Skeleton w=\"full\" height={8} />\n    </StyledTd>\n    <StyledTd>\n      <Skeleton w=\"full\" height={8} />\n    </StyledTd>\n    <StyledTd>\n      <Skeleton w=\"full\" height={8} />\n    </StyledTd>\n  </Tr>\n);\n\ninterface TotalValueProps extends TextProps {\n  value?: Wei;\n  isLoading: boolean;\n  formatter?: (val: string | number) => string;\n}\n\nconst TotalValue: FC<TotalValueProps> = ({\n  value,\n  isLoading,\n  formatter = formatNumberToUsd,\n  ...props\n}) => {\n  if (isLoading) return <Skeleton w={16} h={8} mt={1} />;\n  if (!value) return <>-</>;\n  return (\n    <TrendText\n      value={value}\n      display=\"flex\"\n      alignItems=\"center\"\n      fontSize=\"2xl\"\n      fontWeight=\"800\"\n      {...props}\n    >\n      {formatter(value.toNumber())}{' '}\n    </TrendText>\n  );\n};\n\nexport function MarketSectionUi({\n  poolData,\n  marketNamesById,\n  poolId,\n  poolDataFetched,\n}: {\n  poolData?: PoolType;\n  marketNamesById?: Record<string, string | undefined>;\n  poolId?: string;\n  poolDataFetched: boolean;\n}) {\n  const sevenDaysPerformance = calculatePoolPerformanceSevenDays(poolData);\n  const lifeTimePerformance = calculatePoolPerformanceLifetime(poolData);\n\n  if (poolDataFetched && !poolData) {\n    return (\n      <BorderBox padding={4}>\n        <Text>Pool with id: {poolId} does not exist</Text>\n      </BorderBox>\n    );\n  }\n  return (\n    <BorderBox bg=\"navy.700\" padding={4} flexDirection=\"column\" data-testid=\"pool markets\">\n      <Text fontSize=\"xl\" fontWeight={700}>\n        Markets\n      </Text>\n      <Flex mt={4} gap={4} flexDirection={{ base: 'column', sm: 'row' }}>\n        <BorderBox paddingY={2} paddingX={4} flexGrow=\"1\" flexDirection=\"column\">\n          <Text\n            fontSize=\"md\"\n            color=\"white\"\n            display=\"flex\"\n            gap={1}\n            alignItems=\"center\"\n            fontWeight={700}\n          >\n            Last 7 Days{' '}\n            <Tooltip label=\"Market's performance in the last seven days\">\n              <InfoOutlineIcon w=\"10px\" h=\"10px\" />\n            </Tooltip>\n          </Text>\n          <TotalValue value={sevenDaysPerformance?.value} isLoading={!poolDataFetched} />\n          <TotalValue\n            value={sevenDaysPerformance?.growthPercentage}\n            isLoading={!poolDataFetched}\n            fontSize=\"md\"\n            formatter={formatPercent}\n          />\n        </BorderBox>\n        <BorderBox paddingY={2} paddingX={4} flexGrow=\"1\" flexDirection=\"column\">\n          <Text\n            fontWeight={700}\n            fontSize=\"md\"\n            color=\"white\"\n            display=\"flex\"\n            gap={1}\n            alignItems=\"center\"\n          >\n            Performance Lifetime\n            <Tooltip label=\"Market's lifetime performance\">\n              <InfoOutlineIcon w=\"10px\" h=\"10px\" />\n            </Tooltip>\n          </Text>\n          <TotalValue value={lifeTimePerformance} isLoading={!poolDataFetched} />\n        </BorderBox>\n      </Flex>\n      <Flex>\n        <TableContainer w=\"100%\">\n          <Table variant=\"simple\">\n            <Thead>\n              <Tr>\n                <StyledTh>Market</StyledTh>\n                <StyledTh>Pool Allocation</StyledTh>\n                <StyledTh>Last 7 Days</StyledTh>\n                <StyledTh>Lifetime</StyledTh>\n              </Tr>\n            </Thead>\n            <Tbody>\n              {!poolData && <LoadingRow />}\n              {poolData?.configurations.length === 0 ? (\n                <Tr w=\"full\">\n                  <Td colSpan={4} border=\"none\">\n                    <Text textAlign=\"center\" mt={4}>\n                      No markets configured for the pool\n                    </Text>\n                  </Td>\n                </Tr>\n              ) : (\n                poolData?.configurations.map(({ id, market, weight }, i) => {\n                  const isLastItem = i + 1 === poolData.configurations.length;\n                  const growth = calculateSevenDaysPnlGrowth(market.market_snapshots_by_week);\n                  return (\n                    <Tr\n                      onClick={() => logMarket(market)}\n                      key={id}\n                      data-testid=\"pool market\"\n                      data-market={id}\n                    >\n                      <StyledTd isLastItem={isLastItem}>\n                        <Text fontSize=\"sm\" display=\"block\" data-testid=\"market name\">\n                          {marketNamesById?.[market.id] ? marketNamesById[market.id] : '-'}\n                        </Text>\n                        <Text fontSize=\"xs\" color=\"gray.500\" data-testid=\"market id\">\n                          ID: {market.id}\n                        </Text>\n                      </StyledTd>\n                      <StyledTd isLastItem={isLastItem} fontSize=\"sm\" data-testid=\"pool allocation\">\n                        {poolData.total_weight ? (\n                          <>\n                            <Text display=\"block\">\n                              {formatPercent(weight.div(poolData.total_weight).toNumber())}\n                            </Text>\n                            {/* TODO, figure out max debt. See notion ticket \"Pool page market max debt\" */}\n                            {/*\n                            <Flex flexWrap=\"wrap\" maxW=\"135px\">\n                              <Text mr={1}>Max Debt:</Text>\n                              <Text>\n                                {max_debt_share_value.gt(Number.MAX_SAFE_INTEGER)\n                                  ? 'Unlimited'\n                                  : formatNumberToUsd(max_debt_share_value.toNumber())}\n                              </Text>\n                            </Flex>\n                            */}\n                          </>\n                        ) : (\n                          '-'\n                        )}\n                      </StyledTd>\n                      <StyledTd isLastItem={isLastItem} data-testid=\"market growth\">\n                        {growth ? (\n                          <>\n                            <Tooltip\n                              hasArrow\n                              label={\n                                <Flex\n                                  flexDirection=\"column\"\n                                  alignItems=\"flex-start\"\n                                  textAlign=\"left\"\n                                >\n                                  <Text>\n                                    Last 7 days calculated by <br /> &quot;this week&apos;s\n                                    pnl&quot; - &quot;last week&apos;s pnl&quot;\n                                  </Text>\n                                  <Text>\n                                    Last Week PnL:{' '}\n                                    {formatNumberToUsd(\n                                      market.market_snapshots_by_week[1]?.pnl.toNumber() || 0\n                                    )}\n                                  </Text>\n                                  <Text>\n                                    This Week PnL:{' '}\n                                    {formatNumberToUsd(\n                                      market.market_snapshots_by_week[0]?.pnl.toNumber() || 0\n                                    )}\n                                  </Text>\n                                </Flex>\n                              }\n                            >\n                              <Text fontSize=\"sm\" display=\"block\" color=\"gray.50\">\n                                {formatNumberToUsd(growth.value.toNumber())}\n                              </Text>\n                            </Tooltip>\n                            {growth.percentage ? (\n                              <TrendText\n                                fontSize=\"xs\"\n                                value={growth.percentage}\n                                display=\"block\"\n                                data-testid=\"market growth percentage\"\n                              >\n                                {formatPercent(growth.percentage.toNumber())}\n                              </TrendText>\n                            ) : null}\n                          </>\n                        ) : (\n                          '-'\n                        )}\n                      </StyledTd>\n                      <StyledTd isLastItem={isLastItem}>\n                        <Tooltip\n                          hasArrow\n                          label={\n                            <Flex flexDirection=\"column\" alignItems=\"flex-start\" textAlign=\"left\">\n                              <Text color=\"gray.50\">\n                                Withdrawn: {formatNumberToUsd(market.usd_withdrawn.toNumber())}\n                              </Text>\n                              <Text color=\"gray.50\">\n                                Deposited: {formatNumberToUsd(market.usd_deposited.toNumber())}{' '}\n                              </Text>\n                              <Text color=\"gray.50\">\n                                Reported Debt: {formatNumberToUsd(market.reported_debt.toNumber())}\n                              </Text>\n                              <Text color=\"gray.50\">\n                                Net Issuance <br /> (withdrawn - deposited):{' '}\n                                {formatNumberToUsd(market.net_issuance.toNumber())}\n                              </Text>\n\n                              <Text color=\"gray.50\">\n                                PnL <br /> (reported debt + net issuance) * -1:{' '}\n                                {formatNumberToUsd(market.pnl.toNumber())}\n                              </Text>\n                            </Flex>\n                          }\n                        >\n                          <Text color=\"gray.50\" data-testid=\"market pnl\">\n                            {formatNumberToUsd(market.pnl.toNumber())}\n                          </Text>\n                        </Tooltip>\n                      </StyledTd>\n                    </Tr>\n                  );\n                })\n              )}\n            </Tbody>\n          </Table>\n        </TableContainer>\n      </Flex>\n    </BorderBox>\n  );\n}\nexport const MarketSection = () => {\n  const params = useParams();\n  const { data: poolData, isFetched: poolDataFetched } = usePoolData(params.poolId);\n\n  const marketIdsAndAddresses = poolData?.configurations.map(({ market }) => ({\n    marketId: market.id,\n    address: market.address,\n  }));\n\n  const { data: marketNamesById } = useMarketNamesById(marketIdsAndAddresses);\n\n  return (\n    <MarketSectionUi\n      poolId={params.poolId}\n      poolDataFetched={poolDataFetched}\n      poolData={poolData}\n      marketNamesById={marketNamesById}\n    />\n  );\n};\n","import { useCollateralTypes } from '@snx-v3/useCollateralTypes';\nimport { useCoreProxy } from '@snx-v3/useCoreProxy';\nimport { wei } from '@synthetixio/wei';\nimport { useQuery } from '@tanstack/react-query';\nimport { z } from 'zod';\nimport { ZodBigNumber } from '@snx-v3/zod';\nimport { useNetwork } from '@snx-v3/useBlockchain';\nimport { erc7412Call } from '@snx-v3/withERC7412';\nimport { useAllCollateralPriceIds } from '@snx-v3/useAllCollateralPriceIds';\nimport { fetchPriceUpdates, priceUpdatesToPopulatedTx } from '@snx-v3/fetchPythPrices';\n\nconst VaultCollateralSchema = z\n  .object({ value: ZodBigNumber, amount: ZodBigNumber })\n  .transform(({ value, amount }) => ({ value: wei(value), amount: wei(amount) }));\nconst VaultDebtSchema = ZodBigNumber.transform((x) => wei(x));\n\nexport const useVaultsData = (poolId?: number) => {\n  const network = useNetwork();\n  const { data: collateralTypes } = useCollateralTypes();\n  const { data: CoreProxyContract } = useCoreProxy();\n  const { data: collateralPriceUpdates } = useAllCollateralPriceIds();\n\n  return useQuery({\n    queryKey: [\n      `${network.id}-${network.preset}`,\n      'VaultCollaterals',\n      {\n        pool: poolId,\n        tokens: collateralTypes ? collateralTypes?.map((x) => x.tokenAddress).sort() : [],\n      },\n    ],\n    queryFn: async () => {\n      if (!CoreProxyContract || !collateralTypes || !poolId || !collateralPriceUpdates) {\n        throw Error('useVaultsData should not be enabled when missing data');\n      }\n\n      const collateralCallsP = Promise.all(\n        collateralTypes.map((collateralType) =>\n          CoreProxyContract.populateTransaction.getVaultCollateral(\n            poolId,\n            collateralType.tokenAddress\n          )\n        )\n      );\n      const debtCallsP = Promise.all(\n        collateralTypes.map((collateralType) =>\n          CoreProxyContract.populateTransaction.getVaultDebt(poolId, collateralType.tokenAddress)\n        )\n      );\n\n      const collateralPriceUpdateCallsP = fetchPriceUpdates(\n        collateralPriceUpdates,\n        network.isTestnet\n      ).then((signedData) => priceUpdatesToPopulatedTx('0x', collateralPriceUpdates, signedData));\n\n      const calls = await Promise.all([collateralPriceUpdateCallsP, collateralCallsP, debtCallsP]);\n\n      return await erc7412Call(\n        network,\n        CoreProxyContract.provider,\n        calls.flat(),\n        (multicallResult) => {\n          if (!Array.isArray(multicallResult)) throw Error('Expected array');\n\n          const collateralResult = multicallResult.slice(0, collateralTypes.length);\n          const debtResult = multicallResult.slice(collateralTypes.length);\n\n          return collateralResult.map((bytes: string, i: number) => {\n            const debtBytes = debtResult[i];\n            const decodedDebt = CoreProxyContract.interface.decodeFunctionResult(\n              'getVaultDebt',\n              debtBytes\n            );\n\n            const decodedCollateral = CoreProxyContract.interface.decodeFunctionResult(\n              'getVaultCollateral',\n              bytes\n            );\n            const collateral = VaultCollateralSchema.parse({ ...decodedCollateral });\n            const debt = VaultDebtSchema.parse(decodedDebt[0]);\n            return {\n              debt,\n              collateral,\n              collateralType: collateralTypes[i],\n            };\n          });\n        },\n        'useVaultsData'\n      );\n    },\n    enabled: Boolean(\n      collateralTypes?.length && CoreProxyContract && poolId && collateralPriceUpdates\n    ),\n  });\n};\n\nexport type VaultsDataType = ReturnType<typeof useVaultsData>['data'];\n","import { Box, Divider, Flex, Skeleton, Text } from '@chakra-ui/react';\nimport { useVaultsData, VaultsDataType } from '@snx-v3/useVaultsData';\nimport React, { FC } from 'react';\nimport Wei, { wei } from '@synthetixio/wei';\nimport { formatNumber, formatNumberToUsd, formatPercent } from '@snx-v3/formatters';\nimport { useParams } from '@snx-v3/useParams';\nimport { BorderBox } from '@snx-v3/BorderBox';\nimport { CollateralIcon } from '@snx-v3/icons';\nimport { useCollateralPrices } from '@snx-v3/useCollateralPrices';\n\nexport const calculateVaultTotals = (vaultsData: VaultsDataType) => {\n  const zeroValues = { collateral: { value: wei(0), amount: wei(0) }, debt: wei(0) };\n  if (!vaultsData) return zeroValues;\n  return vaultsData.reduce((acc, { collateral, debt }) => {\n    acc.collateral = {\n      value: acc.collateral.value.add(collateral.value),\n      amount: acc.collateral.amount.add(collateral.amount),\n    };\n    acc.debt = acc.debt.add(debt);\n    return acc;\n  }, zeroValues);\n};\n\nexport const CollateralSectionUi: FC<{\n  vaultsData: VaultsDataType;\n  collateralPriceByAddress?: Record<string, Wei | undefined>;\n}> = ({ vaultsData, collateralPriceByAddress }) => {\n  const { collateral: totalCollateral, debt: totalDebt } = calculateVaultTotals(vaultsData);\n\n  return (\n    <BorderBox padding={4} bg=\"navy.700\" flexDirection=\"column\" data-testid=\"pool collateral types\">\n      <Text fontWeight={700} fontSize=\"xl\">\n        Pool Collateralization\n      </Text>\n      <BorderBox padding={4} mt={4} flexDirection=\"column\">\n        <Flex\n          justifyContent=\"space-between\"\n          flexDirection={{ base: 'row', md: 'column', lg: 'row' }}\n        >\n          <Text\n            display=\"flex\"\n            alignItems=\"center\"\n            fontWeight={700}\n            fontSize=\"md\"\n            gap={1}\n            color=\"white\"\n          >\n            Total TVL\n          </Text>\n          {vaultsData === undefined ? (\n            <Skeleton w={16} h={6} />\n          ) : (\n            <Text fontWeight={700} fontSize=\"xl\" color=\"white\" data-testid=\"pool tvl\">\n              {formatNumberToUsd(totalCollateral.value.toNumber())}\n            </Text>\n          )}\n        </Flex>\n        <Flex\n          justifyContent=\"space-between\"\n          flexDirection={{ base: 'row', md: 'column', lg: 'row' }}\n        >\n          <Text\n            display=\"flex\"\n            alignItems=\"center\"\n            fontWeight={700}\n            fontSize=\"md\"\n            gap={1}\n            color=\"white\"\n          >\n            Total Debt\n          </Text>\n          {vaultsData === undefined ? (\n            <Skeleton mt={1} w={16} h={6} />\n          ) : (\n            <Text fontWeight={700} fontSize=\"xl\" color=\"white\" data-testid=\"pool total debt\">\n              {formatNumberToUsd(totalDebt.toNumber())}\n            </Text>\n          )}\n        </Flex>\n      </BorderBox>\n      <Flex flexDirection=\"column\" justifyContent=\"space-between\">\n        {!vaultsData ? (\n          <Box>\n            <Skeleton mt={4} w=\"full\" height={24} />\n            <Skeleton mt={2} w=\"full\" height={24} />\n          </Box>\n        ) : (\n          <>\n            <Divider mt={6} mb={4} />\n            {vaultsData.map((vaultCollateral) => {\n              const price = collateralPriceByAddress?.[vaultCollateral.collateralType.tokenAddress];\n              return (\n                <React.Fragment key={vaultCollateral.collateralType.tokenAddress}>\n                  <Box\n                    display=\"flex\"\n                    px={4}\n                    mb={2}\n                    flexDirection=\"column\"\n                    borderBottom=\"1px\"\n                    borderColor=\"gray.900\"\n                    _last={{ borderBottom: 'none' }}\n                    data-testid=\"pool collateral\"\n                    data-collateral={vaultCollateral.collateralType.symbol}\n                  >\n                    <Flex color=\"white\" display=\"flex\" gap={1} alignItems=\"center\">\n                      <CollateralIcon\n                        width=\"30px\"\n                        height=\"30px\"\n                        fill=\"#0B0B22\"\n                        color=\"#00D1FF\"\n                        symbol={vaultCollateral.collateralType.symbol}\n                      />\n                      <Text fontWeight={700} fontSize=\"xl\">\n                        {vaultCollateral.collateralType.displaySymbol}\n                      </Text>\n                      <Text\n                        fontSize=\"sm\"\n                        color=\"gray.400\"\n                        fontWeight=\"400\"\n                        data-testid=\"collateral price\"\n                      >\n                        {price ? formatNumberToUsd(price.toNumber()) : '-'}\n                      </Text>\n                    </Flex>\n                    <Flex gap={2} justifyContent=\"space-between\">\n                      <Flex flexBasis=\"50%\" flexDirection=\"column\">\n                        <Text\n                          mt={2}\n                          fontSize=\"sm\"\n                          color=\"gray.500\"\n                          textTransform=\"uppercase\"\n                          whiteSpace=\"nowrap\"\n                        >\n                          TVL\n                        </Text>\n                        <Text\n                          fontSize=\"md\"\n                          fontWeight={700}\n                          color=\"white\"\n                          data-testid=\"collateral value\"\n                        >\n                          {formatNumberToUsd(vaultCollateral.collateral.value.toNumber())}\n                        </Text>\n                        <Text\n                          fontSize=\"sm\"\n                          color=\"gray.500\"\n                          fontWeight=\"400\"\n                          data-testid=\"collateral amount\"\n                        >\n                          {formatNumber(vaultCollateral.collateral.amount.toNumber())}{' '}\n                          {vaultCollateral.collateralType.displaySymbol}\n                        </Text>\n                      </Flex>\n                      <Flex flexBasis=\"50%\" flexDirection=\"column\">\n                        <Text\n                          mt={2}\n                          fontSize=\"sm\"\n                          color=\"gray.500\"\n                          textTransform=\"uppercase\"\n                          whiteSpace=\"nowrap\"\n                        >\n                          Debt\n                        </Text>\n                        <Text\n                          fontSize=\"md\"\n                          fontWeight={700}\n                          color=\"white\"\n                          data-testid=\"collateral debt\"\n                        >\n                          {formatNumberToUsd(vaultCollateral.debt.toNumber())}\n                        </Text>\n                        <Text\n                          fontSize=\"sm\"\n                          color=\"gray.500\"\n                          fontWeight=\"400\"\n                          data-testid=\"collateral cratio\"\n                        >\n                          VAULT C-RATIO:{' '}\n                          {vaultCollateral.debt.eq(0)\n                            ? '-'\n                            : formatPercent(\n                                vaultCollateral.collateral.value\n                                  .div(vaultCollateral.debt)\n                                  .toNumber(),\n                                { maximumFractionDigits: 0 }\n                              )}\n                        </Text>\n                      </Flex>\n                    </Flex>\n                  </Box>\n                </React.Fragment>\n              );\n            })}\n          </>\n        )}\n      </Flex>\n    </BorderBox>\n  );\n};\n\nexport const CollateralSection = () => {\n  const params = useParams();\n\n  const { data: vaultsData } = useVaultsData(params.poolId ? parseFloat(params.poolId) : undefined);\n  const { data: collateralPriceByAddress } = useCollateralPrices();\n\n  return (\n    <CollateralSectionUi\n      vaultsData={vaultsData}\n      collateralPriceByAddress={collateralPriceByAddress}\n    />\n  );\n};\n","import { Box, Divider, Flex } from '@chakra-ui/react';\nimport { Helmet } from 'react-helmet';\nimport { FC } from 'react';\nimport { PoolHeader } from './PoolHeader';\nimport { MarketSection } from './MarketSection';\nimport { CollateralSection } from './CollateralSection';\nimport { useParams } from '@snx-v3/useParams';\nimport { HomeLink } from '@snx-v3/HomeLink';\nimport { usePool } from '@snx-v3/usePools';\nimport { Rewards } from '../../components/Rewards';\nimport { RewardsType, useRewards } from '@snx-v3/useRewards';\nimport { usePoolData } from '@snx-v3/usePoolData';\nimport { useCollateralType } from '@snx-v3/useCollateralTypes';\n\nexport const PoolUi: FC<{\n  PoolHeader: FC;\n  CollateralSection: FC;\n  MarketSection: FC;\n  isLoading: boolean;\n  rewards?: RewardsType;\n}> = ({ PoolHeader, CollateralSection, MarketSection, isLoading, rewards }) => {\n  return (\n    <>\n      <HomeLink />\n      <PoolHeader />\n      <Divider my={8} bg=\"gray.900\" />\n      <Flex gap={4} flexDirection={{ base: 'column', lg: 'row' }}>\n        <Box flexGrow={1}>\n          <CollateralSection />\n        </Box>\n        <Box flexGrow={1}>\n          <MarketSection />\n          <Rewards mt={4} isLoading={isLoading} rewards={rewards} readOnly={true} />\n        </Box>\n      </Flex>\n    </>\n  );\n};\n\nexport const Pool = () => {\n  const params = useParams();\n  const { data: pool } = usePool(params.poolId);\n\n  const { accountId, collateralSymbol, poolId } = useParams();\n\n  const { isLoading: isCollateralLoading, data: collateralType } =\n    useCollateralType(collateralSymbol);\n\n  const { isLoading: isPoolGraphDataLoading, data: poolData } = usePoolData(poolId);\n\n  const { isLoading: isRewardsLoading, data: rewardsData } = useRewards(\n    poolData?.registered_distributors,\n    poolId,\n    collateralType?.tokenAddress,\n    accountId\n  );\n\n  const isLoading = isRewardsLoading || isCollateralLoading || isPoolGraphDataLoading;\n\n  const title = pool ? `Pool #${pool.id} / ${pool.name}` : 'Pool';\n\n  return (\n    <>\n      <Helmet>\n        <title>{title}</title>\n        <meta name=\"description\" content={title} />\n      </Helmet>\n      <PoolUi\n        PoolHeader={PoolHeader}\n        CollateralSection={CollateralSection}\n        MarketSection={MarketSection}\n        isLoading={isLoading}\n        rewards={rewardsData}\n      />\n    </>\n  );\n};\n","/* eslint-disable no-console */\n\nimport { Box, Button, Input, Select, Text, useToast } from '@chakra-ui/react';\nimport { useAccounts } from '@snx-v3/useAccounts';\nimport { useCollateralTypes } from '@snx-v3/useCollateralTypes';\nimport { ethers } from 'ethers';\nimport React, { useEffect, useState } from 'react';\nimport { useCoreProxy } from '@snx-v3/useCoreProxy';\nimport { useSigner } from '@snx-v3/useBlockchain';\nimport formatDistanceToNow from 'date-fns/formatDistanceToNow';\nimport intlFormat from 'date-fns/intlFormat';\nimport { useAllowance } from '@snx-v3/useAllowance';\nimport { useTokenBalance } from '@snx-v3/useTokenBalance';\nimport { Amount } from '@snx-v3/Amount';\nimport { createSearchParams, generatePath, useNavigate } from 'react-router-dom';\nimport { useParams } from '@snx-v3/useParams';\nimport { useAccountCollateral } from '@snx-v3/useAccountCollateral';\nimport { usePools, usePool } from '@snx-v3/usePools';\nimport { useAccountCollateralUnlockDate } from '@snx-v3/useAccountCollateralUnlockDate';\nimport { useContractErrorParser } from '@snx-v3/useContractErrorParser';\nimport { ContractError } from '@snx-v3/ContractError';\n\nfunction AccountSelector() {\n  const params = useParams();\n  const { data: accounts = [] } = useAccounts();\n  const navigate = useNavigate();\n\n  return (\n    <Select\n      placeholder=\"Select Account\"\n      value={params.accountId}\n      onChange={(e) => {\n        navigate({\n          pathname: generatePath('/playground'),\n          search: createSearchParams({ ...params, accountId: e.target.value }).toString(),\n        });\n      }}\n      display=\"inline-block\"\n      width=\"20em\"\n      mr=\"1em\"\n    >\n      {accounts.map((accountId) => (\n        <option key={accountId} value={accountId}>\n          {accountId}\n        </option>\n      ))}\n    </Select>\n  );\n}\n\nfunction PoolSelector() {\n  const params = useParams();\n  const { data: pools = [] } = usePools();\n  const navigate = useNavigate();\n\n  return (\n    <Select\n      placeholder=\"Select pool\"\n      value={params.poolId}\n      onChange={(e) => {\n        navigate({\n          pathname: generatePath('/playground'),\n          search: createSearchParams({ ...params, poolId: e.target.value }).toString(),\n        });\n      }}\n      display=\"inline-block\"\n      width=\"20em\"\n      mr=\"1em\"\n    >\n      {pools.map((pool) => (\n        <option key={pool.id} value={pool.id}>\n          {pool.isPreferred ? '* ' : null}\n          {pool.name}\n          {pool.isPreferred ? ' (preferred)' : null}\n        </option>\n      ))}\n    </Select>\n  );\n}\n\nfunction CollateralSelector() {\n  const params = useParams();\n  const { data: collateralTypes = [] } = useCollateralTypes();\n  const navigate = useNavigate();\n\n  return (\n    <Select\n      placeholder=\"Select Collateral\"\n      value={params.symbol}\n      onChange={(e) => {\n        navigate({\n          pathname: generatePath('/playground'),\n          search: createSearchParams({ ...params, symbol: e.target.value }).toString(),\n        });\n      }}\n      display=\"inline-block\"\n      width=\"20em\"\n      mr=\"1em\"\n    >\n      {collateralTypes.map((collateral) => (\n        <option key={collateral.symbol} value={collateral.symbol}>\n          {collateral.symbol}\n        </option>\n      ))}\n    </Select>\n  );\n}\n\nexport function Playground() {\n  const signer = useSigner();\n  const { data: CoreProxy } = useCoreProxy();\n\n  const params = useParams();\n  const { data: accounts = [], refetch: refetchAccounts } = useAccounts();\n  const [accountId] = accounts.filter((id) => id === params.accountId);\n\n  const { data: collateralTypes = [] } = useCollateralTypes();\n  const symbol = params.symbol;\n  const [{ tokenAddress } = { tokenAddress: undefined }] = collateralTypes.filter(\n    (collateral) => collateral.symbol === symbol\n  );\n\n  const { data: pool } = usePool(params.poolId);\n\n  const accountCollateral = useAccountCollateral({ accountId });\n  const accountCollateralData = accountCollateral.data?.find(\n    (collateral) => collateral.tokenAddress === tokenAddress\n  );\n\n  const accountCollateralUnlockDate = useAccountCollateralUnlockDate({ accountId });\n\n  const allowance = useAllowance({ contractAddress: tokenAddress, spender: CoreProxy?.address });\n  const tokenBalance = useTokenBalance(tokenAddress);\n\n  const formatTimeToUnlock = React.useCallback(\n    () =>\n      accountCollateralUnlockDate.data && accountCollateralUnlockDate.data.getTime() > Date.now()\n        ? formatDistanceToNow(accountCollateralUnlockDate.data, { addSuffix: true })\n        : '~',\n    [accountCollateralUnlockDate.data]\n  );\n  const [timeToUnlock, setTimeToUnlock] = useState(formatTimeToUnlock());\n\n  useEffect(() => {\n    const interval = setInterval(() => setTimeToUnlock(formatTimeToUnlock()), 1_000);\n    return () => clearInterval(interval);\n  }, [formatTimeToUnlock]);\n\n  const approve = async () => {\n    if (!CoreProxy || !signer || !tokenAddress) throw 'OMG';\n    const TokenContract = new ethers.Contract(\n      tokenAddress,\n      ['function approve(address spender, uint256 amount) returns (bool)'],\n      signer\n    );\n    const tx = await TokenContract.approve(CoreProxy.address, ethers.constants.MaxUint256);\n    console.log({ tx });\n    const result = await tx.wait();\n    console.log({ result });\n\n    allowance.refetch();\n  };\n\n  const toast = useToast({ isClosable: true, duration: 9000 });\n  const errorParserCoreProxy = useContractErrorParser(CoreProxy);\n\n  const createAccount = async () => {\n    if (accountId || !CoreProxy) throw 'OMG';\n    try {\n      const accountId = parseInt(`31337${Math.floor(Math.random() * 10000000000)}`);\n      const tx = await CoreProxy['createAccount(uint128)'](accountId);\n      console.log({ tx });\n      const result = await tx.wait();\n      console.log({ result });\n      refetchAccounts();\n    } catch (e: any) {\n      console.error(e);\n      const contractError = errorParserCoreProxy(e);\n      if (contractError) {\n        console.error(new Error(contractError.name), contractError);\n      }\n      toast.closeAll();\n      toast({\n        title: 'Create account failed',\n        description: contractError ? (\n          <ContractError contractError={contractError} />\n        ) : (\n          'Please try again.'\n        ),\n        status: 'error',\n      });\n    }\n  };\n\n  const deposit = async () => {\n    const $input: HTMLInputElement | null = document.querySelector('[name=\"deposit\"]');\n    if (!$input || !accountId || !tokenAddress || !CoreProxy) throw 'OMG';\n\n    try {\n      const tx = await CoreProxy.deposit(\n        ethers.BigNumber.from(accountId),\n        tokenAddress,\n        ethers.utils.parseEther($input.value)\n      );\n      console.log({ tx });\n      const result = await tx.wait();\n      console.log({ result });\n      tokenBalance.refetch();\n      accountCollateral.refetch();\n    } catch (e: any) {\n      console.error(e);\n      const contractError = errorParserCoreProxy(e);\n      if (contractError) {\n        console.error(new Error(contractError.name), contractError);\n      }\n      toast.closeAll();\n      toast({\n        title: 'Deposit failed',\n        description: contractError ? (\n          <ContractError contractError={contractError} />\n        ) : (\n          'Please try again.'\n        ),\n        status: 'error',\n      });\n    }\n  };\n\n  const delegate = async () => {\n    const $input: HTMLInputElement | null = document.querySelector('[name=\"delegate\"]');\n    if (!$input || !pool?.id || !accountId || !tokenAddress || !CoreProxy) throw 'OMG';\n\n    try {\n      const tx = await CoreProxy.delegateCollateral(\n        ethers.BigNumber.from(accountId),\n        ethers.BigNumber.from(pool.id),\n        tokenAddress,\n        ethers.utils.parseEther($input.value),\n        ethers.utils.parseEther(`1`)\n      );\n      console.log({ tx });\n      const result = await tx.wait();\n      console.log({ result });\n      accountCollateral.refetch();\n    } catch (e: any) {\n      console.error(e);\n      const contractError = errorParserCoreProxy(e);\n      if (contractError) {\n        console.error(new Error(contractError.name), contractError);\n      }\n      toast.closeAll();\n      toast({\n        title: 'Delegate failed',\n        description: contractError ? (\n          <ContractError contractError={contractError} />\n        ) : (\n          'Please try again.'\n        ),\n        status: 'error',\n      });\n    }\n  };\n\n  const withdraw = async () => {\n    const $input: HTMLInputElement | null = document.querySelector('[name=\"withdraw\"]');\n    if (!$input || !accountId || !tokenAddress || !CoreProxy) throw 'OMG';\n\n    try {\n      const tx = await CoreProxy.withdraw(\n        ethers.BigNumber.from(accountId),\n        tokenAddress,\n        ethers.utils.parseEther($input.value)\n      );\n      console.log({ tx });\n      const result = await tx.wait();\n      console.log({ result });\n      tokenBalance.refetch();\n      accountCollateral.refetch();\n    } catch (e: any) {\n      console.error(e);\n      const contractError = errorParserCoreProxy(e);\n      if (contractError) {\n        console.error(new Error(contractError.name), contractError);\n      }\n      toast.closeAll();\n      toast({\n        title: 'Withdraw failed',\n        description: contractError ? (\n          <ContractError contractError={contractError} />\n        ) : (\n          'Please try again.'\n        ),\n        status: 'error',\n      });\n    }\n  };\n\n  return (\n    <>\n      <Box p={1} verticalAlign=\"middle\">\n        <AccountSelector />\n        <Button onClick={createAccount}>Create account</Button>\n      </Box>\n\n      <Box p={1} verticalAlign=\"middle\">\n        <CollateralSelector />\n        {tokenAddress ? (\n          <>\n            <Input\n              disabled\n              type=\"text\"\n              name=\"accountId\"\n              value={allowance.data?.toString() || 'No allowance'}\n              width=\"20em\"\n              mr=\"1em\"\n            />\n            <Button onClick={approve}>Approve {symbol}</Button>\n          </>\n        ) : null}\n      </Box>\n\n      {accountCollateralData ? (\n        <>\n          <Box p={1}>\n            <Text>\n              {symbol} address:{' '}\n              <code\n                onClick={() => {\n                  try {\n                    navigator.clipboard.writeText(accountCollateralData.tokenAddress);\n                  } catch (e) {}\n                }}\n                style={{ cursor: 'pointer' }}\n              >\n                {tokenAddress}\n              </code>\n            </Text>\n            <Text>\n              Wallet Balance: <Amount value={tokenBalance.data} /> {symbol}\n            </Text>\n          </Box>\n\n          <Box mt={10} p={1} verticalAlign=\"middle\">\n            <Input type=\"number\" step={1} min={0} name=\"deposit\" width=\"20em\" mr=\"1em\" />\n            <Button onClick={deposit}>Deposit</Button>\n          </Box>\n          <Box p={1}>\n            <Text>\n              Deposited: <Amount value={accountCollateralData.totalDeposited} /> {symbol}\n            </Text>\n          </Box>\n\n          <Box mt={10} p={1} verticalAlign=\"middle\">\n            <PoolSelector />\n            <Input\n              isDisabled={!pool}\n              type=\"number\"\n              step={1}\n              min={0}\n              name=\"delegate\"\n              width=\"20em\"\n              mr=\"1em\"\n            />\n            <Button isDisabled={!pool} onClick={delegate}>\n              Update delegated\n            </Button>\n          </Box>\n          <Box p={1}>\n            <Text>\n              Delegated: <Amount value={accountCollateralData.totalAssigned} /> {symbol}\n            </Text>\n          </Box>\n\n          <Box mt={10} p={1}>\n            <Text\n              title={\n                accountCollateralUnlockDate.data\n                  ? intlFormat(accountCollateralUnlockDate.data, {\n                      year: 'numeric',\n                      month: 'numeric',\n                      day: 'numeric',\n                      hour: 'numeric',\n                      minute: 'numeric',\n                    })\n                  : '~'\n              }\n            >\n              Collateral unlocks: {timeToUnlock}\n            </Text>\n          </Box>\n\n          <Box p={1} verticalAlign=\"middle\">\n            <Input\n              type=\"number\"\n              step={1}\n              min={0}\n              max={parseFloat(accountCollateralData.availableCollateral?.toString() || '0')}\n              name=\"withdraw\"\n              width=\"20em\"\n              mr=\"1em\"\n            />\n            <Button onClick={withdraw}>Withdraw</Button>\n          </Box>\n          <Box p={1}>\n            <Text>\n              Available collateral:{' '}\n              <Amount value={accountCollateralData.availableCollateral} suffix={` ${symbol}`} />\n            </Text>\n          </Box>\n        </>\n      ) : null}\n    </>\n  );\n}\n","import { Badge, Link, Text } from '@chakra-ui/react';\nimport { useMemo } from 'react';\nimport { useNetwork } from '@snx-v3/useBlockchain';\nimport { Amount } from '@snx-v3/Amount';\nimport Wei from '@synthetixio/wei';\n\nexport function Balance({\n  balance,\n  symbol,\n  address,\n  onMax,\n  hideBuyButton,\n}: {\n  balance?: Wei;\n  symbol: string;\n  address: string;\n  onMax?: (balance: Wei) => void;\n  hideBuyButton?: boolean;\n}) {\n  const network = useNetwork();\n  const buyAssetLink = useMemo(() => {\n    switch (network.name) {\n      case 'goerli':\n        return `https://goerli.etherscan.io/address/${address}#writeContract`;\n      case 'sepolia':\n        return `https://sepolia.etherscan.io/address/${address}#writeContract`;\n      case 'optimism-goerli':\n        return `https://goerli-optimism.etherscan.io/address/${address}#writeContract`;\n      case 'optimism':\n        return `https://app.1inch.io/#/10/unified/swap/ETH/${symbol.toUpperCase()}`;\n      default:\n        return `https://app.1inch.io/#/1/unified/swap/ETH/${symbol.toUpperCase()}`;\n    }\n  }, [address, network.name, symbol]);\n\n  return (\n    <Text display=\"flex\" gap={2} alignItems=\"center\" fontSize=\"xs\">\n      Balance:\n      <Amount value={balance} suffix={` ${symbol}`} />\n      {balance && balance.eq(0) && buyAssetLink && !hideBuyButton && (\n        <Link href={buyAssetLink} isExternal>\n          <Badge ml=\"1\" variant=\"outline\" transform=\"translateY(-1px)\">\n            Buy {symbol}\n          </Badge>\n        </Link>\n      )}\n      {onMax && balance?.gt(0) && (\n        <Badge as=\"button\" type=\"button\" variant=\"outline\" onClick={() => onMax(balance)}>\n          Use Max\n        </Badge>\n      )}\n    </Text>\n  );\n}\n","import { createMachine, assign } from 'xstate';\n\nexport const Events = {\n  SET_REQUIRE_APPROVAL: 'SET_REQUIRE_APPROVAL',\n  SET_INFINITE_APPROVAL: 'SET_INFINITE_APPROVAL',\n  RETRY: 'RETRY',\n  RUN: 'RUN',\n  SUCCESS: 'SUCCESS',\n  FAILURE: 'FAILURE',\n  RESET: 'RESET',\n} as const;\n\nexport const State = {\n  idle: 'idle',\n  approve: 'approve',\n  teleport: 'teleport',\n  failed: 'failed',\n  success: 'success',\n} as const;\n\nconst FailedSteps = {\n  [State.approve]: State.approve,\n  [State.teleport]: State.teleport,\n} as const;\n\nexport const ServiceNames = {\n  approve: 'approve',\n  teleport: 'teleport',\n} as const;\n\ntype Context = {\n  error: {\n    error: Error;\n    step: keyof typeof FailedSteps;\n  } | null;\n  requireApproval: boolean;\n  infiniteApproval: boolean;\n};\n\ntype EventNamesType = typeof Events;\ntype TeleportEvents =\n  | { type: EventNamesType['SET_REQUIRE_APPROVAL']; requireApproval: boolean }\n  | { type: EventNamesType['SET_INFINITE_APPROVAL']; infiniteApproval: boolean }\n  | { type: EventNamesType['RETRY'] }\n  | { type: EventNamesType['RUN'] }\n  | { type: EventNamesType['SUCCESS'] }\n  | { type: EventNamesType['FAILURE'] }\n  | { type: EventNamesType['RESET'] };\n\ntype StateType = typeof State;\ntype MachineState =\n  | {\n      value: StateType['idle'];\n      context: Context & { error: null };\n    }\n  | {\n      value: StateType['approve'];\n      context: Context & { error: null };\n    }\n  | {\n      value: StateType['teleport'];\n      context: Context & { error: null };\n    }\n  | {\n      value: StateType['failed'];\n      context: Context & { error: { error: Error; step: keyof typeof FailedSteps } };\n    }\n  | {\n      value: StateType['success'];\n      context: Context & {\n        error: null;\n      };\n    };\n\nconst initialContext = {\n  error: null,\n  requireApproval: false,\n  infiniteApproval: false,\n};\n\nexport const TeleportMachine = createMachine<Context, TeleportEvents, MachineState>({\n  id: 'TeleportMachine',\n  initial: State.idle,\n  predictableActionArguments: true,\n  context: initialContext,\n  on: {\n    [Events.RUN]: {\n      target: State.teleport,\n      actions: assign({\n        error: (_) => initialContext.error,\n        requireApproval: (_) => initialContext.requireApproval,\n        infiniteApproval: (_) => initialContext.infiniteApproval,\n      }),\n    },\n    [Events.SET_REQUIRE_APPROVAL]: {\n      actions: assign({ requireApproval: (_context, event) => event.requireApproval }),\n    },\n\n    [Events.SET_INFINITE_APPROVAL]: {\n      actions: assign({ infiniteApproval: (_context, event) => event.infiniteApproval }),\n    },\n  },\n  states: {\n    [State.idle]: {\n      on: {\n        [Events.RUN]: [\n          { target: State.approve, cond: (context) => context.requireApproval },\n          { target: State.teleport },\n        ],\n      },\n    },\n    [State.approve]: {\n      invoke: {\n        src: ServiceNames.approve,\n        onDone: {\n          target: State.teleport,\n        },\n        onError: {\n          target: State.failed,\n          actions: assign({\n            error: (_context, event) => ({ error: event.data, step: FailedSteps.approve }),\n          }),\n        },\n      },\n    },\n    [State.teleport]: {\n      invoke: {\n        src: ServiceNames.teleport,\n        onDone: {\n          target: State.success,\n        },\n        onError: {\n          target: State.failed,\n          actions: assign({\n            error: (_context, event) => ({ error: event.data, step: FailedSteps.teleport }),\n          }),\n        },\n      },\n    },\n    [State.failed]: {\n      on: {\n        [Events.RESET]: [{ target: State.idle }],\n        [Events.RETRY]: [\n          {\n            target: State.approve,\n            cond: (c) => c.error?.step === FailedSteps.approve,\n            actions: assign({ error: (_) => null }),\n          },\n\n          {\n            target: State.teleport,\n            cond: (c) => c.error?.step === FailedSteps.teleport,\n            actions: assign({ error: (_) => null }),\n          },\n        ],\n      },\n    },\n    [State.success]: {},\n  },\n});\n","import {\n  Button,\n  Modal,\n  ModalBody,\n  ModalCloseButton,\n  ModalContent,\n  ModalHeader,\n  ModalOverlay,\n  Text,\n  useToast,\n  Link,\n} from '@chakra-ui/react';\nimport { Amount } from '@snx-v3/Amount';\nimport { ContractError } from '@snx-v3/ContractError';\nimport { Multistep } from '@snx-v3/Multistep';\nimport { useApprove } from '@snx-v3/useApprove';\nimport { CollateralType } from '@snx-v3/useCollateralTypes';\nimport { useContractErrorParser } from '@snx-v3/useContractErrorParser';\nimport { useCoreProxy } from '@snx-v3/useCoreProxy';\nimport { useTeleport } from '@snx-v3/useTeleport';\nimport { useUSDProxy } from '@snx-v3/useUSDProxy';\nimport { Wei } from '@synthetixio/wei';\nimport { useMachine } from '@xstate/react';\nimport { FC, useCallback, useEffect } from 'react';\nimport type { StateFrom } from 'xstate';\nimport { TeleportMachine, Events, ServiceNames, State } from './TeleporterMachine';\nimport { Contract, ethers } from 'ethers';\nimport { useEthBalance } from '@snx-v3/useEthBalance';\n\nexport const TeleporterModalUi: FC<{\n  amount: Wei;\n  isOpen: boolean;\n  onClose: () => void;\n  collateralType?: CollateralType;\n  state: StateFrom<typeof TeleportMachine>;\n  setInfiniteApproval: (x: boolean) => void;\n  onSubmit: () => void;\n  toNetworkName: string;\n  txnHash: string | null;\n}> = ({\n  amount,\n  isOpen,\n  onClose,\n  setInfiniteApproval,\n  onSubmit,\n  state,\n  toNetworkName,\n  txnHash,\n}) => {\n  const infiniteApproval = state.context.infiniteApproval;\n  const requireApproval = state.context.requireApproval;\n  const error = state.context.error;\n  const isProcessing = state.matches(State.approve) || state.matches(State.teleport);\n\n  return (\n    <Modal size=\"lg\" isOpen={isOpen} onClose={onClose} closeOnOverlayClick={false}>\n      <ModalOverlay />\n      <ModalContent bg=\"black\" color=\"white\">\n        <ModalHeader>Complete this action</ModalHeader>\n        <ModalCloseButton />\n        <ModalBody>\n          <Text mb=\"2\">Please execute the following transactions:</Text>\n\n          <Multistep\n            step={1}\n            title=\"Approve snxUSD\"\n            status={{\n              failed: error?.step === State.approve,\n              success: !requireApproval || state.matches(State.success),\n              loading: state.matches(State.approve) && !error,\n            }}\n            checkboxLabel=\"Approve unlimited\"\n            checkboxProps={{\n              isChecked: infiniteApproval,\n              onChange: (e) => setInfiniteApproval(e.target.checked),\n            }}\n          />\n\n          <Multistep\n            step={2}\n            title=\"Teleport snxUSD\"\n            subtitle={\n              <>\n                {state.matches(State.success) ? (\n                  <Text>\n                    Teleport for <Amount value={amount} suffix={` snxUSD`} /> to {toNetworkName}{' '}\n                    executed. Check{' '}\n                    <Link\n                      color=\"cyan.500\"\n                      href={`https://ccip.chain.link/tx/${txnHash}`}\n                      target=\"_blank\"\n                    >\n                      ccip explorer\n                    </Link>{' '}\n                    for status.\n                  </Text>\n                ) : (\n                  <Text>\n                    This will teleport <Amount value={amount} suffix={` snxUSD`} /> to{' '}\n                    {toNetworkName}\n                  </Text>\n                )}\n              </>\n            }\n            status={{\n              failed: error?.step === State.teleport,\n              disabled: state.matches(State.success) && requireApproval,\n              success: state.matches(State.success),\n              loading: state.matches(State.teleport) && !error,\n            }}\n          />\n\n          <Button isDisabled={isProcessing} onClick={onSubmit} width=\"100%\" my=\"4\">\n            {(() => {\n              switch (true) {\n                case Boolean(error):\n                  return 'Retry';\n                case isProcessing:\n                  return 'Processing...';\n                case state.matches(State.success):\n                  return 'Done';\n                default:\n                  return 'Start';\n              }\n            })()}\n          </Button>\n        </ModalBody>\n      </ModalContent>\n    </Modal>\n  );\n};\n\nconst ccipErrors = [\n  'error TokenMaxCapacityExceeded(uint256 capacity, uint256 requested, address tokenAddress)',\n  'error TokenRateLimitReached(uint256 minWaitInSeconds, uint256 available, address tokenAddress)',\n  'error AggregateValueMaxCapacityExceeded(uint256 capacity, uint256 requested)',\n  'error AggregateValueRateLimitReached(uint256 minWaitInSeconds, uint256 available)',\n  'error UnsupportedDestinationChain(uint64 destinationChainSelector)',\n  'error SenderNotAllowed(address sender)',\n  'error InsufficientFeeTokenAmount()',\n  'error InvalidMsgValue()',\n];\nexport type TeleportModalProps = FC<{\n  amount: Wei;\n  toNetworkName: string;\n  toNetworkId: number;\n  isOpen: boolean;\n  onClose: () => void;\n}>;\nexport const TeleporterModal: TeleportModalProps = ({\n  onClose,\n  isOpen,\n  amount,\n  toNetworkName,\n  toNetworkId,\n}) => {\n  const { data: CoreProxy } = useCoreProxy();\n  const { data: USDProxy } = useUSDProxy();\n  const { data: ethBalance } = useEthBalance();\n  const { approve, requireApproval, refetchAllowance } = useApprove({\n    contractAddress: USDProxy?.address,\n    amount: amount.toBN(),\n    spender: CoreProxy?.address,\n  });\n\n  const toast = useToast({ isClosable: true, duration: 9000 });\n\n  const { exec: execTeleport, txnState } = useTeleport({\n    amount,\n    toNetworkId,\n    ethBalance,\n  });\n  const coreProxyAbi = CoreProxy?.interface.format(ethers.utils.FormatTypes.full) || [];\n\n  const errorParsingContract = new Contract(\n    '0x0000000000000000000000000000000000000000',\n    ccipErrors.concat(coreProxyAbi)\n  );\n  const errorParserCoreProxy = useContractErrorParser(errorParsingContract);\n\n  const [state, send] = useMachine(TeleportMachine, {\n    services: {\n      [ServiceNames.approve]: async () => {\n        try {\n          toast({\n            title: 'Approve snxUSD',\n            description: 'The next transaction will teleport.',\n            status: 'info',\n          });\n\n          await approve(Boolean(state.context.infiniteApproval));\n          await refetchAllowance();\n        } catch (error: any) {\n          const contractError = errorParserCoreProxy(error);\n          if (contractError) {\n            console.error(new Error(contractError.name), contractError);\n          }\n          toast.closeAll();\n          toast({\n            title: 'Approval failed',\n            description: contractError ? (\n              <ContractError contractError={contractError} />\n            ) : (\n              'Please try again.'\n            ),\n            status: 'error',\n          });\n          throw Error('Approve failed', { cause: error });\n        }\n      },\n\n      [ServiceNames.teleport]: async () => {\n        try {\n          toast.closeAll();\n          toast({\n            title: 'Teleporting',\n            description: '',\n          });\n          await execTeleport();\n          toast.closeAll();\n          toast({\n            title: 'Success',\n            description: 'Teleportation executed.',\n            status: 'success',\n            duration: 5000,\n          });\n        } catch (error: any) {\n          const contractError = errorParserCoreProxy(error);\n          if (contractError) {\n            console.error(new Error(contractError.name), contractError);\n          }\n          toast({\n            title: 'Teleport failed',\n            description: contractError ? (\n              <ContractError contractError={contractError} />\n            ) : (\n              'Please try again.'\n            ),\n            status: 'error',\n          });\n          throw Error('Teleport failed', { cause: error });\n        }\n      },\n    },\n  });\n\n  useEffect(() => {\n    send(Events.SET_REQUIRE_APPROVAL, { requireApproval });\n  }, [requireApproval, send]);\n\n  const handleClose = useCallback(() => {\n    send(Events.RESET);\n    onClose();\n  }, [send, onClose]);\n\n  const onSubmit = useCallback(async () => {\n    if (state.matches(State.success)) {\n      handleClose();\n      return;\n    }\n    if (state.context.error) {\n      send(Events.RETRY);\n      return;\n    }\n    send(Events.RUN);\n  }, [handleClose, send, state]);\n\n  return (\n    <TeleporterModalUi\n      amount={amount}\n      isOpen={isOpen}\n      onClose={onClose}\n      toNetworkName={toNetworkName}\n      state={state}\n      setInfiniteApproval={(infiniteApproval) => {\n        send(Events.SET_INFINITE_APPROVAL, { infiniteApproval });\n      }}\n      txnHash={txnState.txnHash}\n      onSubmit={onSubmit}\n    />\n  );\n};\n","import { useReducer } from 'react';\nimport { useCoreProxy } from '@snx-v3/useCoreProxy';\nimport { CoreProxyType } from '@synthetixio/v3-contracts';\nimport { useMutation } from '@tanstack/react-query';\nimport { useProvider, useSigner } from '@snx-v3/useBlockchain';\nimport { initialState, reducer } from '@snx-v3/txnReducer';\nimport Wei from '@synthetixio/wei';\nimport { formatGasPriceForTransaction } from '@snx-v3/useGasOptions';\nimport { getGasPrice } from '@snx-v3/useGasPrice';\nimport { useGasSpeed } from '@snx-v3/useGasSpeed';\n\n/**\n * This is the function that estimates the fee for the teleport.\n * value is used to pay for the chainlink + destination fee.\n * We don't know how much that is, so we use a static call with a lot of eth\n * Then call will return the fee we need to pay.\n * This can also be called from the component to show the fee before the user clicks on the button.\n */\nexport const estimateTeleport = async ({\n  CoreProxy,\n  toNetworkId,\n  amount,\n  ethBalance,\n}: {\n  CoreProxy: CoreProxyType;\n  toNetworkId: number;\n  amount: Wei;\n  ethBalance: Wei;\n}) => {\n  const fee = await CoreProxy.callStatic.transferCrossChain(toNetworkId, amount.toBN(), {\n    value: ethBalance.mul(0.9).toBN(),\n  });\n  return fee;\n};\nexport const useTeleport = ({\n  toNetworkId,\n  amount,\n  ethBalance,\n}: {\n  toNetworkId: number;\n  amount: Wei;\n  ethBalance?: Wei;\n}) => {\n  const [txnState, dispatch] = useReducer(reducer, initialState);\n  const { data: CoreProxy } = useCoreProxy();\n\n  const signer = useSigner();\n  const { gasSpeed } = useGasSpeed();\n  const provider = useProvider();\n\n  const mutation = useMutation({\n    mutationFn: async () => {\n      if (!signer) return;\n      if (!CoreProxy) return;\n      if (!ethBalance) return;\n      if (ethBalance.eq(0)) return;\n      if (amount.eq(0)) return;\n\n      try {\n        dispatch({ type: 'prompting' });\n        const fee = await estimateTeleport({\n          CoreProxy,\n          toNetworkId,\n          amount,\n          ethBalance,\n        });\n        const gasPricesPromised = getGasPrice({ provider });\n        const gasLimitPromised = CoreProxy.estimateGas.transferCrossChain(\n          toNetworkId,\n          amount.toBN(),\n          { value: fee }\n        );\n\n        const populatedTxnPromised = CoreProxy.populateTransaction.transferCrossChain(\n          toNetworkId,\n          amount.toBN(),\n          {\n            gasLimit: gasLimitPromised,\n            value: fee,\n          }\n        );\n        const [gasPrices, gasLimit, populatedTxn] = await Promise.all([\n          gasPricesPromised,\n          gasLimitPromised,\n          populatedTxnPromised,\n        ]);\n\n        const gasOptionsForTransaction = formatGasPriceForTransaction({\n          gasLimit,\n          gasPrices,\n          gasSpeed,\n        });\n\n        const txn = await signer.sendTransaction({ ...populatedTxn, ...gasOptionsForTransaction });\n        dispatch({ type: 'pending', payload: { txnHash: txn.hash } });\n\n        await txn.wait();\n        dispatch({ type: 'success' });\n      } catch (error: any) {\n        dispatch({ type: 'error', payload: { error } });\n        throw error;\n      }\n    },\n  });\n  return {\n    mutation,\n    txnState,\n    settle: () => dispatch({ type: 'settled' }),\n    isLoading: mutation.isLoading,\n    exec: mutation.mutateAsync,\n  };\n};\n","import {\n  Box,\n  Button,\n  Divider,\n  Flex,\n  Heading,\n  Menu,\n  MenuButton,\n  MenuItem,\n  MenuList,\n  Text,\n  Link,\n} from '@chakra-ui/react';\nimport { Balance } from '@snx-v3/Balance';\nimport { NumberInput } from '@snx-v3/NumberInput';\nimport { useTokenBalance } from '@snx-v3/useTokenBalance';\nimport { FC, useState } from 'react';\nimport Head from 'react-helmet';\nimport { TeleporterModal } from './TeleporterModal';\nimport { BorderBox } from '@snx-v3/BorderBox';\nimport { ChevronDown, ChevronUp, DollarCircle, CCIP } from '@snx-v3/icons';\nimport {\n  NETWORKS,\n  Network,\n  onboard,\n  useNetwork,\n  useSetNetwork,\n  useWallet,\n} from '@snx-v3/useBlockchain';\nimport { useUSDProxy } from '@snx-v3/useUSDProxy';\nimport Wei, { wei } from '@synthetixio/wei';\nimport { HomeLink } from '@snx-v3/HomeLink';\nimport { providers } from 'ethers';\n\nconst SUPPORTED_NETWORKS = NETWORKS.filter((network) => network.isSupported);\n\nexport const TeleporterUi: FC<{\n  connectedWallet?: string;\n  amount: Wei;\n  setAmount: (val: Wei) => void;\n  activeNetwork: Network;\n  setActiveNetwork: (network: Network) => void;\n  balance?: Wei;\n  toBalance?: Wei;\n  toNetworkBalance?: Wei;\n  toNetwork?: Network;\n  setToNetwork: (network?: Network) => void;\n  onTeleportClick: () => void;\n  usdProxyAddress?: string;\n}> = ({\n  connectedWallet,\n  amount,\n  setAmount,\n  activeNetwork,\n  setActiveNetwork,\n  balance,\n  toNetworkBalance,\n  toNetwork,\n  setToNetwork,\n  usdProxyAddress,\n  onTeleportClick,\n}) => {\n  return (\n    <Box maxW=\"600px\">\n      <HomeLink />\n      <Head>\n        <title>Teleport snxUSD</title>\n      </Head>\n      <Flex justifyContent=\"space-between\">\n        <Heading size=\"lg\">Teleport snxUSD</Heading>\n        <CCIP />\n      </Flex>\n      <Text mt={2} color=\"gray.500\">\n        Teleport your assets between layers using the teleporter. This transaction can take up to 30\n        minutes.{' '}\n        <Link\n          color=\"cyan.500\"\n          target=\"_blank\"\n          href=\"https://blog.synthetix.io/synthetix-launches-teleporters-with-chainlinks-ccip\"\n        >\n          Read more\n        </Link>{' '}\n        about teleporter and CCIP.\n      </Text>\n      <Divider mt={4} mb={4} />\n      <BorderBox flexDirection=\"column\" p=\"4\">\n        <BorderBox flexDirection=\"column\" p=\"4\">\n          <Menu>\n            {({ isOpen }) => (\n              <>\n                <Flex alignItems=\"center\" gap={2}>\n                  <Text>From</Text>\n                  <MenuButton\n                    as={Button}\n                    variant=\"outline\"\n                    colorScheme=\"gray\"\n                    sx={{ '> span': { display: 'flex', alignItems: 'center' } }}\n                    mr={1}\n                    width=\"fit-content\"\n                  >\n                    <activeNetwork.Icon />\n                    <Text\n                      variant=\"nav\"\n                      fontSize=\"sm\"\n                      fontWeight={700}\n                      ml={1.5}\n                      mr={2}\n                      display={{ base: 'none', md: 'initial' }}\n                    >\n                      {activeNetwork.label}\n                    </Text>\n                    <Flex display={{ base: 'none', md: 'initial' }}>\n                      {isOpen ? <ChevronUp color=\"cyan\" /> : <ChevronDown color=\"cyan.500\" />}\n                    </Flex>\n                  </MenuButton>\n                </Flex>\n                <MenuList background=\"black\">\n                  {SUPPORTED_NETWORKS.filter((item) => item.name !== 'goerli')\n                    .filter((chain) => chain.id !== activeNetwork.id)\n                    .map((chain) => {\n                      return (\n                        <MenuItem\n                          onClick={() => {\n                            setActiveNetwork(chain);\n                            if (chain.id === toNetwork?.id) {\n                              // If user pick the same network as to, reset toNetwork\n                              setToNetwork(undefined);\n                            }\n                          }}\n                          display=\"flex\"\n                          alignItems=\"center\"\n                          key={chain.id}\n                        >\n                          <chain.Icon />\n                          <Text variant=\"nav\" ml={2}>\n                            {chain.label}\n                          </Text>\n                        </MenuItem>\n                      );\n                    })}\n                </MenuList>\n              </>\n            )}\n          </Menu>\n\n          <Flex>\n            <Text display=\"flex\" gap={2} alignItems=\"center\" fontWeight=\"600\">\n              <DollarCircle width=\"35px\" height=\"35px\" />\n              snxUSD\n            </Text>\n            <Flex\n              flexDirection=\"column\"\n              justifyContent=\"flex-end\"\n              alignItems=\"flex-end\"\n              flexGrow={1}\n            >\n              <NumberInput\n                InputProps={{\n                  isRequired: true,\n                  'data-max': balance?.toString(),\n                  autoFocus: true,\n                }}\n                value={amount}\n                onChange={(val) => setAmount(val)}\n                max={balance}\n              />\n              <Balance\n                onMax={setAmount}\n                balance={balance}\n                symbol=\"snxUSD\"\n                address={usdProxyAddress || ''}\n              />\n            </Flex>\n          </Flex>\n\n          <Flex alignItems=\"center\" justifyContent=\"flex-end\"></Flex>\n        </BorderBox>\n\n        <BorderBox flexDirection=\"column\" p=\"4\" mt={4}>\n          <Menu>\n            {({ isOpen }) => (\n              <>\n                <Flex alignItems=\"center\" gap={2}>\n                  <Text>To</Text>\n                  <MenuButton\n                    as={Button}\n                    variant=\"outline\"\n                    colorScheme=\"gray\"\n                    sx={{ '> span': { display: 'flex', alignItems: 'center' } }}\n                    mr={1}\n                    width=\"fit-content\"\n                  >\n                    {toNetwork ? (\n                      <>\n                        <toNetwork.Icon />\n                        <Text\n                          variant=\"nav\"\n                          fontSize=\"sm\"\n                          fontWeight={700}\n                          ml={1.5}\n                          mr={2}\n                          display={{ base: 'none', md: 'initial' }}\n                        >\n                          {toNetwork.label}\n                        </Text>\n                      </>\n                    ) : (\n                      'Select Network'\n                    )}\n                    <Flex display={{ base: 'none', md: 'initial' }}>\n                      {isOpen ? <ChevronUp color=\"cyan\" /> : <ChevronDown color=\"cyan.500\" />}\n                    </Flex>\n                  </MenuButton>\n                </Flex>\n                <MenuList background=\"black\">\n                  {SUPPORTED_NETWORKS.filter((item) => item.name !== 'goerli')\n                    .filter((chain) => chain.id !== activeNetwork.id)\n                    .filter((chain) =>\n                      activeNetwork.isTestnet ? chain.isTestnet : !chain.isTestnet\n                    )\n                    .map((chain) => {\n                      return (\n                        <MenuItem\n                          onClick={() => {\n                            setToNetwork(chain);\n                          }}\n                          display=\"flex\"\n                          alignItems=\"center\"\n                          key={chain.id}\n                        >\n                          <chain.Icon />\n                          <Text variant=\"nav\" ml={2}>\n                            {chain.label}\n                          </Text>\n                        </MenuItem>\n                      );\n                    })}\n                </MenuList>\n              </>\n            )}\n          </Menu>\n\n          <Flex>\n            <Text display=\"flex\" gap={2} alignItems=\"center\">\n              <DollarCircle width=\"35px\" height=\"35px\" />\n              snxUSD\n            </Text>\n            <Flex\n              flexDirection=\"column\"\n              justifyContent=\"flex-end\"\n              alignItems=\"flex-end\"\n              flexGrow={1}\n            >\n              <NumberInput\n                InputProps={{\n                  isRequired: true,\n                  'data-max': balance?.toString(),\n                }}\n                value={amount}\n                onChange={(val) => setAmount(val)}\n                max={balance} // max is still the from balance\n              />\n              <Balance\n                hideBuyButton\n                onMax={setAmount}\n                balance={toNetworkBalance}\n                symbol=\"snxUSD\"\n                address={usdProxyAddress || ''}\n              />\n            </Flex>\n          </Flex>\n        </BorderBox>\n        {!connectedWallet ? (\n          <Button type=\"submit\" onClick={() => onboard.connectWallet()}>\n            Connect Wallet\n          </Button>\n        ) : (\n          <Button onClick={onTeleportClick} isDisabled={!Boolean(balance?.gt(0) && toNetwork)}>\n            Teleport\n          </Button>\n        )}\n      </BorderBox>\n    </Box>\n  );\n};\n\nexport const Teleporter = () => {\n  const { data: USDProxy } = useUSDProxy();\n\n  const [amount, setAmount] = useState(wei(0));\n  const [txnModalOpen, setTxnModalOpen] = useState(false);\n\n  const connectedWallet = useWallet();\n  const activeNetwork = useNetwork();\n  const setNetwork = useSetNetwork();\n  const [toNetwork, setToNetwork] = useState<Network | undefined>();\n\n  const { data: USDProxyTNetwork } = useUSDProxy(\n    toNetwork?.id\n      ? new providers.InfuraProvider(toNetwork?.id, process.env.NEXT_PUBLIC_INFURA_PROJECT_ID)\n      : undefined\n  );\n  const { data: balance } = useTokenBalance(USDProxy?.address);\n  const { data: toBalance } = useTokenBalance(USDProxyTNetwork?.address, toNetwork?.id);\n\n  return (\n    <>\n      <TeleporterUi\n        connectedWallet={connectedWallet?.address}\n        activeNetwork={activeNetwork}\n        balance={balance}\n        amount={amount}\n        setAmount={setAmount}\n        toNetwork={toNetwork}\n        setToNetwork={setToNetwork}\n        setActiveNetwork={setNetwork}\n        toNetworkBalance={toNetwork ? toBalance : undefined}\n        usdProxyAddress={USDProxy?.address}\n        onTeleportClick={() => setTxnModalOpen(true)}\n      />\n      {toNetwork && (\n        <TeleporterModal\n          isOpen={txnModalOpen}\n          onClose={() => {\n            setTxnModalOpen(false);\n            setAmount(wei(0));\n          }}\n          toNetworkId={toNetwork.id}\n          toNetworkName={toNetwork.name}\n          amount={amount}\n        />\n      )}\n    </>\n  );\n};\n","import { Flex, Heading, Link } from '@chakra-ui/react';\nimport Head from 'react-helmet';\nimport { useTranslation } from 'react-i18next';\nimport { Link as NavLink } from 'react-router-dom';\n\nexport const NotFoundPage = () => {\n  const { t } = useTranslation();\n\n  return (\n    <>\n      <Head>\n        <title>{t('not-found.page-title')}</title>\n      </Head>\n      <Flex\n        height=\"100%\"\n        direction=\"column\"\n        position=\"relative\"\n        alignItems=\"center\"\n        justifyContent=\"center\"\n        flex=\"1\"\n      >\n        <Heading fontSize=\"5xl\">Not found</Heading>\n\n        <NavLink to=\"/\">\n          <Link color=\"cyan.500\">Return to Home</Link>\n        </NavLink>\n      </Flex>\n    </>\n  );\n};\n","import { Suspense } from 'react';\nimport { Route, Routes } from 'react-router-dom';\nimport { Spinner } from '@chakra-ui/react';\nimport { DefaultLayout } from './layouts/Default';\nimport { Home } from './pages/Home';\nimport { Manage } from './pages/Manage';\nimport { Deposit } from './pages/Deposit';\n// import { CreateAccount, Settings, Collateral, AcceptNomination } from './pages/Account';\n// import { CreateMarket } from './pages/Markets/CreateMarket';\n// import { Market } from './pages/Markets/Market';\nimport { Pool } from './pages/Pool';\nimport { Playground } from './pages/Playground';\nimport { Teleporter } from './pages/Teleporter';\nimport { NotFoundPage } from './pages/404';\n\nexport const Router = () => {\n  return (\n    <Suspense fallback={<Spinner />}>\n      <Routes>\n        <Route element={<DefaultLayout />}>\n          <Route path=\"/positions/:collateralSymbol/:poolId\" element={<Manage />} />\n          <Route path=\"/deposit/:collateralSymbol/:poolId\" element={<Deposit />} />\n          {/*<Route path=\"/collateral\" element={<Collateral />} />*/}\n          {/*<Route path=\"/accept-nomination\" element={<AcceptNomination />} />*/}\n          {/*<Route path=\"/settings\" element={<Settings />} />*/}\n          {/*<Route path=\"/accounts/create\" element={<CreateAccount />} />*/}\n          <Route path=\"/pools/:poolId\" element={<Pool />} />\n          {/*<Route path=\"/markets/create\" element={<CreateMarket />} />*/}\n          {/*<Route path=\"/markets/:marketId\" element={<Market />} />*/}\n          <Route path=\"/teleporter\" element={<Teleporter />} />\n          <Route path=\"/playground\" element={<Playground />} />\n          <Route path=\"/\" element={<Home />} />\n          <Route path=\"*\" element={<NotFoundPage />} />\n        </Route>\n      </Routes>\n    </Suspense>\n  );\n};\n","import i18n from 'i18next';\nimport { initReactI18next } from 'react-i18next';\nimport enLocale from './locales/en.json';\n\ni18n.use(initReactI18next).init({\n  supportedLngs: ['en'],\n  lng: 'en',\n  fallbackLng: 'en',\n  ns: ['common'],\n  defaultNS: 'common',\n  interpolation: { escapeValue: false },\n  react: { useSuspense: false },\n  resources: {\n    en: {\n      translation: enLocale,\n    },\n  },\n});\n\nexport default i18n;\n","import { useEffect } from 'react';\nimport { HashRouter } from 'react-router-dom';\nimport { ChakraProvider, useColorMode } from '@chakra-ui/react';\nimport { Fonts, theme } from '@synthetixio/v3-theme';\nimport { DEFAULT_QUERY_STALE_TIME } from '@snx-v3/constants';\nimport { QueryClient, QueryClientProvider } from '@tanstack/react-query';\nimport { ReactQueryDevtools } from '@tanstack/react-query-devtools';\nimport { GasSpeedProvider } from '@snx-v3/useGasSpeed';\nimport { BlockchainProvider } from '@snx-v3/useBlockchain';\nimport { TermsModal } from '@snx-v3/TermsModal';\nimport { SESSION_STORAGE_KEYS } from '@snx-v3/constants';\nimport { Router } from './Router';\nimport './i18n';\n\nconst queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      refetchInterval: false, //  if queries needs refetching we should be explicit about it, given erc7412\n      staleTime: DEFAULT_QUERY_STALE_TIME,\n      refetchOnWindowFocus: false,\n    },\n  },\n});\n\nfunction ColorMode() {\n  const { colorMode, toggleColorMode } = useColorMode();\n\n  useEffect(() => {\n    if (colorMode === 'light') {\n      toggleColorMode();\n    }\n  }, [colorMode, toggleColorMode]);\n  return null;\n}\n\nexport const App = () => {\n  const TERMS_CONDITIONS_ACCEPTED =\n    sessionStorage.getItem(SESSION_STORAGE_KEYS.TERMS_CONDITIONS_ACCEPTED) === 'true';\n\n  return (\n    <QueryClientProvider client={queryClient}>\n      <ChakraProvider theme={theme}>\n        <ColorMode />\n        <Fonts />\n        <BlockchainProvider>\n          <GasSpeedProvider>\n            <HashRouter>\n              <TermsModal defaultOpen={!TERMS_CONDITIONS_ACCEPTED} />\n              <Router />\n            </HashRouter>\n          </GasSpeedProvider>\n          <ReactQueryDevtools />\n        </BlockchainProvider>\n      </ChakraProvider>\n    </QueryClientProvider>\n  );\n};\n","import ReactDOM from 'react-dom/client';\nimport { App } from './App';\nimport { preserveConnectedWallets, autoConnect } from '@snx-v3/useBlockchain';\n\nconst container = document.querySelector('#app');\nexport async function bootstrap() {\n  if (!container) {\n    throw new Error('Container #app does not exist');\n  }\n\n  preserveConnectedWallets();\n  await autoConnect();\n\n  if (process.env.NODE_ENV === 'development') {\n    const { Wei, wei } = await import('@synthetixio/wei');\n    const { ethers } = await import('ethers');\n    // @ts-ignore\n    window.devtoolsFormatters = window.devtoolsFormatters ?? [];\n    // @ts-ignore\n    window.devtoolsFormatters.push({\n      header: function (obj: any) {\n        if (obj instanceof ethers.BigNumber) {\n          return [\n            'div',\n            { style: 'color: #f33' },\n            ['span', {}, 'ethers.BigNumber('],\n            ['span', { style: 'color: #3f3' }, wei(obj).toString()],\n            ['span', {}, ')'],\n          ];\n        }\n        if (obj instanceof Wei) {\n          return [\n            'div',\n            { style: 'color: #f33' },\n            ['span', {}, 'Wei('],\n            ['span', { style: 'color: #3f3' }, obj.toString()],\n            ['span', {}, ')'],\n          ];\n        }\n        return null;\n      },\n      hasBody: function () {\n        return false;\n      },\n    });\n  }\n\n  const root = ReactDOM.createRoot(container);\n  root.render(<App />);\n}\n","const { safeLazy } = require('./safeLazy');\nconst { safeImport } = require('./safeImport');\nmodule.exports = {\n  safeLazy,\n  safeImport,\n};\n","const { lazy } = require('react');\nconst { safeImport } = require('./safeImport');\n\nfunction safeLazy(importer) {\n  return lazy(() => safeImport(importer));\n}\n\nmodule.exports = {\n  safeLazy,\n};\n"],"names":["async","importCoreProxy","chainId","preset","Error","importMulticall3","Amount","value","prefix","suffix","testid","formattedValue","preciseValue","useMemo","currency","cleanNumber","wei","replaceAll","eq","toString","_jsx","Tooltip","label","_jsxs","_Fragment","children","isDisabled","defaultOpen","window","localStorage","CONTRACT_ERROR_OPEN","ContractError","contractError","isOpen","setIsOpen","React","Button","variant","onClick","color","fontWeight","fontStyle","Collapse","in","animateOpacity","Text","fontSize","name","whiteSpace","pl","Object","entries","args","map","key","val","Date","format","join","Events","State","FailedSteps","ServiceNames","initialContext","wrapAmount","error","requireApproval","infiniteApproval","DepositMachine","createMachine","id","initial","predictableActionArguments","context","on","target","actions","assign","_","_context","event","states","cond","gt","invoke","src","onError","data","step","wrap","onDone","approve","deposit","c","DepositModalUi","collateralChange","onClose","collateralType","setInfiniteApproval","onSubmit","state","availableCollateral","poolName","isProcessing","matches","isWETH","symbol","stepNumbers","Modal","size","closeOnOverlayClick","ModalOverlay","ModalContent","bg","ModalHeader","ModalCloseButton","ModalBody","mb","Multistep","title","subtitle","as","status","failed","disabled","success","loading","checkboxLabel","checkboxProps","isChecked","onChange","e","checked","gte","sub","width","my","Boolean","DepositModal","currentCollateral","navigate","useNavigate","params","useParams","queryClient","useQueryClient","network","useNetwork","CoreProxy","useCoreProxy","useCollateralType","collateralSymbol","useApprove","contractAddress","tokenAddress","amount","toBN","spender","address","toast","useToast","isClosable","duration","newAccountId","Math","floor","random","exec","wrapEth","wethBalance","useWrapEth","pool","usePool","poolId","execDeposit","useDeposit","accountId","collateralTypeAddress","txnState","dispatch","useReducer","reducer","initialState","collateralPriceUpdates","useAllCollateralPriceIds","signer","useSigner","gasSpeed","useGasSpeed","provider","useProvider","mutation","useMutation","mutationFn","type","walletAddress","getAddress","createAccount","undefined","populateTransaction","BigNumber","from","delegate","delegateCollateral","add","callsPromise","Promise","all","filter","notNil","collateralPriceCallsPromise","fetchPriceUpdates","isTestnet","then","signedData","priceUpdatesToPopulatedTx","calls","gasPrices","collateralPriceCalls","getGasPrice","allCalls","concat","erc7412Tx","withERC7412","gasOptionsForTransaction","formatGasPriceForTransaction","gasLimit","txn","sendTransaction","payload","txnHash","hash","wait","settle","isLoading","mutateAsync","errorParserCoreProxy","useContractErrorParser","send","useMachine","services","console","closeAll","description","cause","invalidateQueries","queryKey","resolve","wrapAmountString","isSuccessOrDeposit","useEffect","location","useLocation","handleClose","useCallback","pathname","generatePath","search","CheckIcon","createIcon","viewBox","path","fill","points","CloseIcon","d","StepIcon","Spinner","height","Box","__css","display","textAlign","statusColor","Step","Flex","minWidth","minHeight","justifyContent","alignItems","rounded","transitionProperty","transitionDuration","StepCheckbox","props","mt","Checkbox","opacity","position","gap","p","border","borderColor","direction","WithdrawIncrease","Alert","colorScheme","Logo","Icon","clipPath","transform","EthereumIcon","fillOpacity","SNXIcon","OptimismIcon","DollarCircle","fillRule","clipRule","BitcoinIcon","CollateralIcon","UnknownIcon","cx","cy","r","stroke","ChevronDown","ChevronUp","FailedIcon","x","y","filterUnits","colorInterpolationFilters","floodOpacity","result","values","stdDeviation","mode","in2","WalletIcon","LogoIcon","BorrowIcon","xmlns","CCIP","BaseIcon","ManagePositionContext","createContext","debtChange","setDebtChange","setCollateralChange","ManagePositionProvider","useState","Provider","GWEI_DECIMALS","GAS_LIMIT_MULTIPLIER","DEFAULT_QUERY_STALE_TIME","INFURA_KEY","ONBOARD_KEY","getSubgraphUrl","networkName","SESSION_STORAGE_KEYS","TERMS_CONDITIONS_ACCEPTED","offchainMainnetEndpoint","process","env","PYTH_MAINNET_ENDPOINT","offchainTestnetEndpoint","PYTH_TESTNET_ENDPOINT","requestedPriceUpdates","length","priceService","EvmPriceServiceConnection","getPriceFeedsUpdateData","priceFeedId","signedOffchainData","i","stalenessTolerance","ethers","encode","oracleAddresses","signedOffchainDatum","to","encodeFunctionData","prettyString","text","startLength","endLength","substring","options","minimumDigitsToShowAfterZeros","stringValue","numberValue","toNumber","decimals","maximumFractionDigits","log10","isNaN","toLocaleString","minimumFractionDigits","modalOpen","txnStatus","action","useOracleManagerProxy","signerOrProvider","withSigner","useQuery","queryFn","abi","importOracleManagerProxy","Contract","enabled","staleTime","Infinity","cacheTime","NodeSchema","z","object","nodeType","number","parameters","string","parents","array","PythParametersSchema","ZodBigNumber","Multicall3","useMulticall3","OracleProxy","deploymentsWithERC7412","includes","configs","getCollateralConfigurations","loadConfigs","oracleNodeId","callData","interface","returnData","callStatic","aggregate","arr","prop","seen","Set","item","has","removeDuplicatesByProp","bytes","nodeResp","decodeFunctionResult","parse","decode","parametersDecoded","AllowanceSchema","useAllowance","wallet","useWallet","accountAddress","contract","allowance","approveAbi","eventHandlers","refetch","refetchAllowance","sufficientAllowance","amountToAppove","gasPricesPromised","gasLimitPromised","estimateGas","populatedTxnPromised","populatedTxn","UNSUPPORTED_NETWORK","hexId","Number","token","rpcUrl","publicRpcUrl","isSupported","NETWORK_OPTIMISM","NETWORKS","getItem","DEFAULT_NETWORK","find","wallets","injectedModule","walletConnectModule","version","projectId","NEXT_PUBLIC_WC_PROJECT_ID","requiredChains","chains","reduce","appMetadata","icon","logo","SynthetixLogo","recommendedInjectedWallets","url","gettingStartedGuide","explore","onboard","onboardInit","theme","apiKey","accountCenter","desktop","mobile","notify","BlockchainContext","onboardState","get","setNetwork","BlockchainProvider","setOnboardState","isMounted","current","unsubscribe","select","subscribe","nextState","currentWallet","chain","selectedNetwork","setItem","useOnboardWallet","Array","isArray","connectedChain","useSetNetwork","hasWallet","setChain","useIsConnected","getSigner","account","accounts","preserveConnectedWallets","walletsSubscription","connectedWallets","JSON","stringify","autoConnect","connectedWalletsRaw","connectedWallet","connectWallet","autoSelect","disableModals","_e","disconnect","removeItem","disconnectWallet","CollateralConfigurationSchema","depositingEnabled","boolean","issuanceRatioD18","liquidationRatioD18","liquidationRewardD18","startsWith","minDelegationD18","SymbolSchema","extend","displaySymbol","ERC20Interface","utils","loadCollateralTypes","tokenConfigs","symbols","tokenConfig","loadSymbols","config","useCollateralTypes","includeDelegationOff","collateralTypes","lt","constants","placeholderData","collateral","toLowerCase","errorData","contractAbi","full","errorParsed","ERC7412_ABI","parseError","errorArgs","fromEntries","parseInt","unwei","parseFloat","getTime","signature","BalanceSchema","useEthBalance","networkId","connectedProvider","InfuraProvider","NEXT_PUBLIC_INFURA_PROJECT_ID","getBalance","GAS_LIMIT_BUFFER","addGasLimitBuffer","mul","gasPrice","baseFeePerGas","_baseFeePerGas","gasPriceToReturn","isNumber","subject","ema","dma","alpha","noHead","slice","noArrayWeight","ret","datum","s","o","rewardsFilterOutliers","blocksRewards","outlierBlocks","rewardIndex","index","reward","feeSuggestion","fromBlock","defaultForLocalProvider","maxFeePerGas","maxPriorityFeePerGas","average","fast","fastest","feeHistory","feeHistoryResponse","num","at","getOutlierBlocksToRemove","blocks","forEach","gweiReward","push","blocksRewardsPerc15","blocksRewardsPerc30","blocksRewardsPerc45","emaPerc15","emaPerc30","emaPerc45","averageMaxPriorityFee","min","fastMaxPriorityFee","fastestMaxPriorityFee","baseFeeToMax","base","prio","getBlock","getGasPriceFromProvider","GasSpeedContext","setGasSpeed","GasSpeedProvider","useContext","cleanObject","cleaned","pathParams","useParamsRouter","queryParams","useSearchParams","sortObject","searchParams","sort","a","b","localeCompare","PoolIdSchema","PoolSchema","default","isPreferred","PoolsSchema","usePools","preferredPoolIdRaw","approvedPoolIdsRaw","multicall","preferredPoolId","approvedPoolIds","incompletePools","poolNames","poolsRaw","useTokenBalance","assertAddressType","networkIdToUse","balanceOf","refetchInterval","useUSDProxy","nonConnectedProvider","connectedNetwork","n","importUSDProxy","minimalWETHABI","ethCollateral","ethBalance","refetchETHBalance","refetchWETHBalance","useUnWrapEth","withdraw","cache","fetchOffchainData","func","oracleQuery","logLabel","OracleQuerySchema","tuple","decoded","updateType","priceIds","log","cacheDuration","bypassCache","funcArgs","cacheKey","currentTime","now","cacheItem","timestamp","withMemoryCache","makeMulticall","senderAddr","multicallAddress","multiCallAbi","encodedData","call","allowFailure","totalValue","makeCoreProxyMulticall","coreProxyAddress","coreProxyAbi","ERC7412ErrorSchema","union","literal","erc7412Interface","transaction","newError","decodedError","getDefaultFromAddress","chainName","tx","initialMulticallLength","multicallCalls","flat","some","jsonRpcProvider","isRead","initialCall","multicallTxn","parsedError","oracleAddress","ignoreCache","signedRequiredData","newTransactionRequest","splice","requiredFee","txToUpdate","erc7412Call","txRequests","multicallAbi","reqs","txRequest","newCall","res","custom","isBigNumber","SmallIntSchema","WeiSchema","gradients","grey","dark","orange","defaultProps","variants","solid","defineStyle","_hover","_disabled","_active","bgGradient","background","hoverBg","activeBg","outline","ghost","extendTheme","useSystemColorMode","initialColorMode","colors","gray","red","yellow","green","blue","cyan","purple","pink","navy","warning","shadows","fonts","heading","body","mono","components","Popover","responsive","popper","maxWidth","Input","focusBorderColor","errorBorderColor","Select","iconColor","NumberInput","container","borderInlineStartColor","Textarea","Skeleton","startColor","endColor","baseStyle","control","_checked","_invalid","Radio","Badge","subtle","percent","fontFamily","py","px","borderRadius","borderWidth","userSelect","Tag","Accordion","Progress","filledTrack","track","Tabs","tab","_selected","Switch","Menu","parts","button","span","list","bgColor","padding","_first","borderTopLeftRadius","borderTopRightRadius","_last","borderBottomLeftRadius","borderBottomRightRadius","_focus","textStyles","lg","lineHeight","md","sizes","max","xs","sm","xl","styles","global","Fonts","Global","TermsModal","setOpen","setEnabled","pt","pb","onScroll","div","currentTarget","scrollTop","scrollHeight","offsetHeight","overflow","overflowX","sx","backgroundColor","UnorderedList","ListItem","Link","href","_focusVisible","ReactRouterLink","mx","sessionStorage","Footer","rel","NetworkController","activeNetwork","MenuButton","mr","ml","MenuList","MenuItem","ens","navigator","clipboard","writeText","useAccountProxy","importAccountProxy","useAccounts","AccountProxy","numberOfAccountTokens","accountIndexes","keys","tokenOfOwnerByIndex","AccountsSelectorUi","onCopy","useClipboard","Fade","w","maxW","AccountsSelector","isAccountsLoading","isFetching","isAccountsFetching","mutate","isCreateAccountLoading","createAccountData","logs","topics","getEventTopic","decodeEventLog","useCreateAccount","URLSearchParams","isFetched","set","replace","delete","useAccountUrlSync","Header","useDisclosure","borderBottomWidth","borderBottomColor","Container","RouterLink","pr","DefaultLayout","flexDirection","flex","flexDir","Outlet","calculatePoolPerformanceLifetime","poolData","configurations","acc","market","pnl","calculatePoolPerformanceSevenDays","total","totalSevenDaysAgo","market_snapshots_by_week","growthPercentage","abs","calculateCRatio","debt","collateralValue","VaultRowUi","liquidityPosition","isConnected","openConnectModal","cRatio","hasLiquidity","collateralAmount","Tr","Td","VaultRow","BorderBox","PriceSchema","loadPrices","collateralAddresses","getCollateralPrice","decoder","multicallEncoded","encoded","pricesEncoded","loadAccountCollateral","tokenAddresses","callsP","flatMap","getAccountAvailableCollateral","getAccountCollateral","totalAssigned","totalDeposited","totalLocked","useAccountCollateral","tokens","PositionCollateralSchema","optional","DebtSchema","loadPosition","getPositionCollateral","getPositionDebt","decodedCollateral","decodedDebt","keyBy","useLiquidityPositions","pools","collateralPriceUpdatesLength","positionCallsAndData","priceCalls","priceDecoder","positionCalls","singlePositionDecoder","pricesByAddress","price","positionsEncoded","collateralPrice","Welcome","flexWrap","flexGrow","AlertIcon","textDecoration","formatNumberToUsd","optionsWithDefault","style","locales","Intl","NumberFormat","formatNumber","formatPercent","Stats","totalDebt","totalCollateral","textTransform","useAccountCollateralUnlockDate","getAccountLastInteraction","getConfigUintAccountTimeoutWithdraw","lastInteraction","accountTimeoutWithdraw","collateralUnlock","WithdrawModal","safeImport","AvailableCollateralRowUi","accountCollateral","fallback","AvailableCollateralRow","accountCollateralUnlockDate","AvailableCollateralUi","accountCollaterals","timeToUnlock","unlockDateString","unlockDate","Heading","AlertTitle","AlertDescription","Table","Thead","tr","Tbody","AvailableCollateral","formatTimeToUnlock","formatDistanceToNow","addSuffix","setTimeToUnlock","interval","setInterval","clearInterval","intlFormat","year","month","day","hour","minute","LoadingRow","HomeUi","liquidityPositionsById","Th","Home","collateralTypesLoading","isPoolsLoading","liquidityPositionLoading","isInitialLoading","liquidityInitialLoading","Helmet","content","validatePosition","targetCRatio","newDebt","newCollateralAmount","newCollateralValue","newCRatio","maybeMaxDebt","maxDebt","isValid","lte","hasChanges","NUMBER_REGEX","cleanupNumber","float","InputProps","inputValue","setInputValue","onInputChange","test","nextValue","_err","ref","useRef","setCustomValidity","autoFocus","placeholder","boxShadow","_placeholder","BorrowUi","isRequired","cursor","Borrow","RepayUi","currentDebt","snxUSDBalance","availableUSDCollateral","totalUsdBalance","neg","Repay","USDProxy","usdCollateral","balance","debtExists","flooredBalance","Wei","MarketConfigurationSchema","weight","maxDebtShareValue","isLocked","PoolConfigurationSchema","markets","isAnyMarketLocked","isLockedSchema","UndelegateUi","minDelegation","isLoadingRequiredData","onMaxClick","leftoverCollateral","isValidLeftover","Undelegate","poolConfiguration","getPoolConfiguration","marketId","maxDebtShareValueD18","weightD18","m","isMarketCapacityLocked","usePoolConfiguration","minCollateralRequired","maxWithdrawable","maxUndelegate","PercentBadges","onBadgePress","activeBadge","useTransferableSynthetix","snxCollateral","snxAddress","transferable","transferableSynthetix","CollateralAlert","tokenBalance","borderLeftColor","textDecor","DepositUi","snxBalance","setActiveBadge","combinedTokenBalance","badgeNum","Deposit","transferrableSnx","RepayModal","lazy","BorrowModal","UndelegateModal","ManageActionSchema","enum","ActionButton","activeAction","Action","manageAction","ManageActionUi","setActiveAction","ArrowDownIcon","h","ArrowUpIcon","ManageAction","txnModalOpen","setTxnModalOpen","parsedActionParam","safeParse","parsedAction","preventDefault","reportValidity","Suspense","ChangeStat","formatFn","newValue","ArrowForwardIcon","ManageStatsUi","newCratio","InfoIcon","ManageStats","HomeLink","ArrowBackIcon","etherscanLink","RewardsModal","currentNetwork","setTimeout","CircularProgress","isIndeterminate","borderTop","borderTopColor","truncateAddress","first","last","RewardsRow","projectedAmount","frequency","claimableAmount","lifetimeClaimed","hasClaimed","readOnly","collateralData","collateralAddress","distributorAddress","client","claimRewards","claimedAmount","useClaimRewards","frequencyString","seconds","secondsInHour","secondsInWeek","secondsInMonth","months","weeks","days","hours","toFixed","convertSecondsToDisplayString","backgroundImage","RewardsLoading","borderBottom","SkeletonCircle","Rewards","rewards","empty","TableContainer","letterSpacing","rate","GraphBigIntSchema","GraphBigDecimalSchema","calculateMarketPnl","netIssuance","reportedDebt","MarketSnapshotByWeekSchema","usd_deposited","usd_withdrawn","net_issuance","reported_debt","updated_at","updates_in_period","MarketSchema","max_debt_share_value","RewardDistributorSchema","total_distributed","rewards_distributions","null","total_weight","registered_distributors","PoolDataResultSchema","PoolsDataDocument","usePoolData","fetch","method","query","variables","json","errors","message","getPoolData","RewardsResponseSchema","instanceof","erc20Abi","useRewards","distributors","importRewardDistributor","ifaceRD","ifaceERC20","distributorReturnData","historicalData","distributor","distributorResult","rewardsClaimeds","ercReturnData","rewardRates","getRewardRate","rewardRate","balances","response","sortedBalances","ManageUi","Divider","minW","Manage","isCollateralLoading","isPoolGraphDataLoading","isRewardsLoading","rewardsData","useLiquidityPosition","UsdProxy","positionDecoder","accountCollateralCalls","accountCollateralDecoder","endOfPrice","startOfPosition","endOfPosition","startOfAccountCollateral","decodedPosition","CollateralTypeSelectorUI","ChevronDownIcon","CollateralTypeSelector","DepositFormUi","staticCollateral","inputRef","inputAmount","setInputAmount","setAmount","isOpenDeposit","setIsOpenDeposit","onChangeCollateral","focus","DepositForm","transferrable","useAccountSpecificCollateral","TrendText","PoolBoxUi","sevenDaysPoolPerformanceGrowth","PoolBox","sevenDaysPoolPerformance","collateralDisplaySymbol","PoolHeader","MarketNamesSchema","marketInterface","StyledTh","paddingBottom","paddingTop","paddingLeft","paddingRight","StyledTd","isLastItem","TotalValue","formatter","MarketSectionUi","marketNamesById","poolDataFetched","sevenDaysPerformance","lifeTimePerformance","paddingY","paddingX","InfoOutlineIcon","colSpan","growth","marketSnapshots","end","start","percentage","calculateSevenDaysPnlGrowth","table","logMarket","hasArrow","MarketSection","marketIdsAndAddresses","MultiCall3","marketNames","marketName","useMarketNamesById","VaultCollateralSchema","VaultDebtSchema","CollateralSectionUi","vaultsData","collateralPriceByAddress","zeroValues","calculateVaultTotals","vaultCollateral","flexBasis","CollateralSection","CoreProxyContract","collateralCallsP","getVaultCollateral","debtCallsP","getVaultDebt","collateralPriceUpdateCallsP","multicallResult","collateralResult","debtResult","debtBytes","useVaultsData","useCollateralPrices","prices","PoolUi","Pool","AccountSelector","createSearchParams","PoolSelector","CollateralSelector","Playground","refetchAccounts","accountCollateralData","verticalAlign","TokenContract","$input","document","querySelector","Balance","onMax","hideBuyButton","buyAssetLink","toUpperCase","isExternal","TeleportMachine","teleport","TeleporterModalUi","toNetworkName","ccipErrors","TeleporterModal","toNetworkId","execTeleport","useTeleport","fee","transferCrossChain","estimateTeleport","errorParsingContract","SUPPORTED_NETWORKS","TeleporterUi","setActiveNetwork","toNetworkBalance","toNetwork","setToNetwork","usdProxyAddress","onTeleportClick","Head","Teleporter","USDProxyTNetwork","providers","toBalance","NotFoundPage","t","useTranslation","NavLink","Router","Routes","Route","element","i18n","initReactI18next","init","supportedLngs","lng","fallbackLng","ns","defaultNS","interpolation","escapeValue","react","useSuspense","resources","en","translation","enLocale","QueryClient","defaultOptions","queries","refetchOnWindowFocus","ColorMode","colorMode","toggleColorMode","useColorMode","App","QueryClientProvider","ChakraProvider","HashRouter","ReactQueryDevtools","bootstrap","ReactDOM","render","safeLazy","module","exports","importer"],"sourceRoot":""}